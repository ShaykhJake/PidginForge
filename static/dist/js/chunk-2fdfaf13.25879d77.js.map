{"version":3,"sources":["webpack:///./src/components/questions/QuestionEditor.vue?b04f","webpack:///./src/components/questions/QuestionEditor.vue?f42d","webpack:///src/components/questions/QuestionEditor.vue","webpack:///./src/components/questions/QuestionEditor.vue?acde","webpack:///./src/components/questions/QuestionEditor.vue?4991"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","model","value","callback","$$v","editorDialog","expression","loadingLanguages","loadingQuestion","_v","ref","valid","rules","titleMin","title","allLanguages","requiredLanguage","learninglanguage","nativelanguage","maxTags","scopedSlots","_u","key","fn","item","select","selected","_b","on","$event","removeTag","_s","tags","editor","commands","isActive","class","bold","italic","paragraph","heading","level","alignment","orientation","text_direction","direction","changeEditorFontSize","characterCountClass","characterCount","style","error","_e","closeDialog","submitting","submitted","onSubmit","staticRenderFns","name","components","EditorContent","EditorMenuBar","props","editing","type","Boolean","default","slug","String","required","question","Object","data","author","content","editorFontSize","editable","extensions","computed","editorFontClass","view","state","doc","textContent","length","methods","$emit","undefined","endpoint","method","rich_text","getJSON","plain_text","console","log","payload","params","splice","indexOf","getLanguages","localLanguages","localStorage","getItem","JSON","parse","err","getQuestionData","setContent","getQuestionData2","created","component","VBtn","VCard","VCardActions","VCardText","VCardTitle","VChip","VCombobox","VDialog","VDivider","VForm","VIcon","VRow","VSelect","VSpacer","VTextarea","VToolbar"],"mappings":"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","file":"js/chunk-2fdfaf13.25879d77.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuestionEditor.vue?vue&type=style&index=0&id=56126ed7&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-row',{staticClass:\"ma-0\",attrs:{\"justify\":\"center\"}},[_c('v-dialog',{attrs:{\"scrollable\":\"\",\"persistent\":\"\",\"fullscreen\":\"\",\"hide-overlay\":\"\",\"transition\":\"dialog-bottom-transition\"},model:{value:(_vm.editorDialog),callback:function ($$v) {_vm.editorDialog=$$v},expression:\"editorDialog\"}},[_c('v-card',{staticClass:\"desertsand\",attrs:{\"loading\":_vm.loadingLanguages || _vm.loadingQuestion}},[(_vm.editing)?_c('v-card-title',[_vm._v(\"Edit Your Language Question\")]):_c('v-card-title',[_vm._v(\"Ask a Language Question\")]),_c('v-card-text',[_c('v-form',{ref:\"questioncontent\",staticClass:\"mt-2\",model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-textarea',{attrs:{\"outlined\":\"\",\"label\":\"Question Title*\",\"rules\":[_vm.rules.titleMin],\"counter\":\"\",\"rows\":\"1\",\"maxlength\":\"150\"},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}}),_c('v-select',{attrs:{\"items\":_vm.allLanguages,\"loading\":_vm.loadingLanguages,\"label\":\"Learning Language (i.e. what this question is about)*\",\"placeholder\":\"choose the learning language\",\"rules\":[_vm.rules.requiredLanguage],\"required\":\"\",\"outlined\":\"\"},model:{value:(_vm.learninglanguage),callback:function ($$v) {_vm.learninglanguage=$$v},expression:\"learninglanguage\"}}),_c('v-select',{attrs:{\"items\":_vm.allLanguages,\"label\":\"Your Native Language*\",\"placeholder\":\"choose the native language\",\"rules\":[_vm.rules.requiredLanguage],\"required\":\"\",\"outlined\":\"\"},model:{value:(_vm.nativelanguage),callback:function ($$v) {_vm.nativelanguage=$$v},expression:\"nativelanguage\"}}),_c('v-combobox',{attrs:{\"label\":\"Additional Topic Tags\",\"chips\":\"\",\"clearable\":\"\",\"hint\":\"Hit <enter> or <tab> after each entry (max of 5 tags allowed)\",\"persistent-hint\":\"\",\"multiple\":\"\",\"rules\":[_vm.rules.maxTags],\"outlined\":\"\",\"counter\":\"\"},scopedSlots:_vm._u([{key:\"selection\",fn:function(ref){\nvar attrs = ref.attrs;\nvar item = ref.item;\nvar select = ref.select;\nvar selected = ref.selected;\nreturn [_c('v-chip',_vm._b({staticClass:\"calligraphy desertsand--text\",attrs:{\"input-value\":selected,\"close\":\"\"},on:{\"click\":select,\"click:close\":function($event){return _vm.removeTag(item)}}},'v-chip',attrs,false),[_c('strong',[_vm._v(_vm._s(item))])])]}}]),model:{value:(_vm.tags),callback:function ($$v) {_vm.tags=$$v},expression:\"tags\"}}),_c('editor-menu-bar',{attrs:{\"editor\":_vm.editor},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar commands = ref.commands;\nvar isActive = ref.isActive;\nreturn [_c('div',{staticClass:\"desertsand--text\"},[_c('v-toolbar',{staticClass:\"sandstone\",attrs:{\"dense\":\"\",\"flat\":\"\"}},[_c('v-btn',{class:{ 'is-active': isActive.bold() },attrs:{\"small\":\"\",\"icon\":\"\",\"color\":\"calligraphy\"},on:{\"click\":commands.bold}},[_c('v-icon',[_vm._v(\" mdi-format-bold \")])],1),_c('v-btn',{class:{ 'is-active': isActive.italic() },attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"calligraphy\"},on:{\"click\":commands.italic}},[_c('v-icon',[_vm._v(\" mdi-format-italic \")])],1),_c('v-divider',{staticClass:\"mx-1\",attrs:{\"inset\":\"\",\"vertical\":\"\"}}),_c('v-btn',{class:{ 'is-active': isActive.paragraph() },attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"calligraphy\"},on:{\"click\":commands.paragraph}},[_c('v-icon',[_vm._v(\" mdi-format-paragraph \")])],1),_c('v-btn',{class:{ 'is-active': isActive.heading({ level: 3 }) },attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"calligraphy\"},on:{\"click\":function($event){return commands.heading({ level: 3 })}}},[_c('v-icon',[_vm._v(\" mdi-format-header-3 \")])],1),_c('v-divider',{staticClass:\"mx-1\",attrs:{\"inset\":\"\",\"vertical\":\"\"}}),_c('v-btn',{class:{\n                    'is-active': isActive.alignment({ orientation: 'left' })\n                  },attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"calligraphy\"},on:{\"click\":function($event){return commands.alignment({ orientation: 'left' })}}},[_c('v-icon',[_vm._v(\" mdi-format-align-left \")])],1),_c('v-btn',{class:{\n                    'is-active': isActive.alignment({\n                      orientation: 'center'\n                    })\n                  },attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"calligraphy\"},on:{\"click\":function($event){return commands.alignment({ orientation: 'center' })}}},[_c('v-icon',[_vm._v(\" mdi-format-align-center \")])],1),_c('v-btn',{class:{\n                    'is-active': isActive.alignment({\n                      orientation: 'right'\n                    })\n                  },attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"calligraphy\"},on:{\"click\":function($event){return commands.alignment({ orientation: 'right' })}}},[_c('v-icon',[_vm._v(\" mdi-format-align-right \")])],1),_c('v-btn',{class:{\n                    'is-active': isActive.text_direction({\n                      direction: 'ltr'\n                    })\n                  },attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"calligraphy\"},on:{\"click\":function($event){return commands.text_direction({ direction: 'ltr' })}}},[_c('v-icon',[_vm._v(\" mdi-format-textdirection-l-to-r \")])],1),_c('v-btn',{class:{\n                    'is-active': isActive.text_direction({\n                      direction: 'rtl'\n                    })\n                  },attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"calligraphy\"},on:{\"click\":function($event){return commands.text_direction({ direction: 'rtl' })}}},[_c('v-icon',[_vm._v(\" mdi-format-textdirection-r-to-l \")])],1),_c('v-divider',{staticClass:\"mx-1\",attrs:{\"inset\":\"\",\"vertical\":\"\"}}),_c('v-btn',{attrs:{\"color\":\"calligraphy\",\"icon\":\"\"},on:{\"click\":function($event){return _vm.changeEditorFontSize('down')}}},[_c('v-icon',[_vm._v(\"mdi-magnify-minus\")])],1),_vm._v(\" Zoom \"),_c('v-btn',{attrs:{\"icon\":\"\",\"color\":\"calligraphy\"},on:{\"click\":function($event){return _vm.changeEditorFontSize('up')}}},[_c('v-icon',[_vm._v(\"mdi-magnify-plus\")])],1),_c('v-divider',{staticClass:\"mx-1\",attrs:{\"inset\":\"\",\"vertical\":\"\"}}),_c('v-spacer'),_vm._v(\" Count: \"),_c('span',{class:_vm.characterCountClass},[_vm._v(_vm._s(_vm.characterCount))]),_vm._v(\" / 500 \")],1)],1)]}}])}),_c('editor-content',{style:(_vm.editorFontClass),attrs:{\"editor\":_vm.editor}})],1),(_vm.error)?_c('p',{staticClass:\"muted mt-2\"},[_vm._v(_vm._s(_vm.error))]):_vm._e()],1),_c('v-card-actions',{staticClass:\"calligraphy desertsand--text\",attrs:{\"justify\":\"center\"}},[_c('v-spacer'),_c('v-btn',{staticClass:\"garbage desertsand--text\",on:{\"click\":_vm.closeDialog}},[_vm._v(\"Cancel\"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-close\")])],1),_c('v-btn',{staticClass:\"green desertsand--text\",attrs:{\"disabled\":!_vm.valid,\"loading\":_vm.submitting,\"hidden\":_vm.submitted},on:{\"click\":_vm.onSubmit}},[_vm._v(\"Submit\"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-send\")])],1),_c('v-spacer')],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-row justify=\"center\" class=\"ma-0\">\n    <v-dialog\n      v-model=\"editorDialog\"\n      scrollable\n      persistent\n      fullscreen\n      hide-overlay\n      transition=\"dialog-bottom-transition\"\n    >\n      <v-card :loading=\"loadingLanguages || loadingQuestion\" class=\"desertsand\">\n        <v-card-title v-if=\"editing\">Edit Your Language Question</v-card-title>\n        <v-card-title v-else>Ask a Language Question</v-card-title>\n        <v-card-text>\n          <v-form ref=\"questioncontent\" v-model=\"valid\" class=\"mt-2\">\n            <v-textarea\n              v-model=\"title\"\n              outlined\n              label=\"Question Title*\"\n              :rules=\"[rules.titleMin]\"\n              counter\n              rows=\"1\"\n              maxlength=\"150\"\n            ></v-textarea>\n\n            <v-select\n              v-model=\"learninglanguage\"\n              :items=\"allLanguages\"\n              :loading=\"loadingLanguages\"\n              label=\"Learning Language (i.e. what this question is about)*\"\n              placeholder=\"choose the learning language\"\n              :rules=\"[rules.requiredLanguage]\"\n              required\n              outlined\n            ></v-select>\n\n            <v-select\n              v-model=\"nativelanguage\"\n              :items=\"allLanguages\"\n              label=\"Your Native Language*\"\n              placeholder=\"choose the native language\"\n              :rules=\"[rules.requiredLanguage]\"\n              required\n              outlined\n            ></v-select>\n\n            <v-combobox\n              label=\"Additional Topic Tags\"\n              v-model=\"tags\"\n              chips\n              clearable\n              hint=\"Hit <enter> or <tab> after each entry (max of 5 tags allowed)\"\n              persistent-hint\n              multiple\n              :rules=\"[rules.maxTags]\"\n              outlined\n              counter\n            >\n              <template v-slot:selection=\"{ attrs, item, select, selected }\">\n                <v-chip\n                  v-bind=\"attrs\"\n                  :input-value=\"selected\"\n                  close\n                  @click=\"select\"\n                  @click:close=\"removeTag(item)\"\n                  class=\"calligraphy desertsand--text\"\n                >\n                  <strong>{{ item }}</strong\n                  >&nbsp;\n                </v-chip>\n              </template>\n            </v-combobox>\n\n            <editor-menu-bar :editor=\"editor\" v-slot=\"{ commands, isActive }\">\n              <div class=\"desertsand--text\">\n                <v-toolbar dense flat class=\"sandstone\">\n                  <v-btn\n                    small\n                    icon\n                    color=\"calligraphy\"\n                    :class=\"{ 'is-active': isActive.bold() }\"\n                    @click=\"commands.bold\"\n                  >\n                    <v-icon> mdi-format-bold </v-icon>\n                  </v-btn>\n                  <v-btn\n                    icon\n                    small\n                    color=\"calligraphy\"\n                    :class=\"{ 'is-active': isActive.italic() }\"\n                    @click=\"commands.italic\"\n                  >\n                    <v-icon> mdi-format-italic </v-icon>\n                  </v-btn>\n                  <v-divider class=\"mx-1\" inset vertical></v-divider>\n                  <v-btn\n                    icon\n                    small\n                    color=\"calligraphy\"\n                    :class=\"{ 'is-active': isActive.paragraph() }\"\n                    @click=\"commands.paragraph\"\n                  >\n                    <v-icon> mdi-format-paragraph </v-icon>\n                  </v-btn>\n                  <v-btn\n                    icon\n                    small\n                    color=\"calligraphy\"\n                    :class=\"{ 'is-active': isActive.heading({ level: 3 }) }\"\n                    @click=\"commands.heading({ level: 3 })\"\n                  >\n                    <v-icon> mdi-format-header-3 </v-icon>\n                  </v-btn>\n\n                  <v-divider class=\"mx-1\" inset vertical></v-divider>\n\n                  <v-btn\n                    icon\n                    small\n                    color=\"calligraphy\"\n                    :class=\"{\n                      'is-active': isActive.alignment({ orientation: 'left' })\n                    }\"\n                    @click=\"commands.alignment({ orientation: 'left' })\"\n                  >\n                    <v-icon> mdi-format-align-left </v-icon>\n                  </v-btn>\n\n                  <v-btn\n                    icon\n                    small\n                    color=\"calligraphy\"\n                    :class=\"{\n                      'is-active': isActive.alignment({\n                        orientation: 'center'\n                      })\n                    }\"\n                    @click=\"commands.alignment({ orientation: 'center' })\"\n                  >\n                    <v-icon> mdi-format-align-center </v-icon>\n                  </v-btn>\n\n                  <v-btn\n                    icon\n                    small\n                    color=\"calligraphy\"\n                    :class=\"{\n                      'is-active': isActive.alignment({\n                        orientation: 'right'\n                      })\n                    }\"\n                    @click=\"commands.alignment({ orientation: 'right' })\"\n                  >\n                    <v-icon> mdi-format-align-right </v-icon>\n                  </v-btn>\n\n                  <v-btn\n                    icon\n                    small\n                    color=\"calligraphy\"\n                    :class=\"{\n                      'is-active': isActive.text_direction({\n                        direction: 'ltr'\n                      })\n                    }\"\n                    @click=\"commands.text_direction({ direction: 'ltr' })\"\n                  >\n                    <v-icon> mdi-format-textdirection-l-to-r </v-icon>\n                  </v-btn>\n                  <v-btn\n                    icon\n                    small\n                    color=\"calligraphy\"\n                    :class=\"{\n                      'is-active': isActive.text_direction({\n                        direction: 'rtl'\n                      })\n                    }\"\n                    @click=\"commands.text_direction({ direction: 'rtl' })\"\n                  >\n                    <v-icon> mdi-format-textdirection-r-to-l </v-icon>\n                  </v-btn>\n\n                  <v-divider class=\"mx-1\" inset vertical></v-divider>\n                  <v-btn\n                    color=\"calligraphy\"\n                    icon\n                    @click=\"changeEditorFontSize('down')\"\n                  >\n                    <v-icon>mdi-magnify-minus</v-icon>\n                  </v-btn>\n                  Zoom\n                  <v-btn\n                    icon\n                    color=\"calligraphy\"\n                    @click=\"changeEditorFontSize('up')\"\n                  >\n                    <v-icon>mdi-magnify-plus</v-icon>\n                  </v-btn>\n\n                  <v-divider class=\"mx-1\" inset vertical></v-divider>\n                  <v-spacer></v-spacer>\n                  Count:\n                  <span :class=\"characterCountClass\">{{ characterCount }}</span>\n                  / 500\n                </v-toolbar>\n              </div>\n            </editor-menu-bar>\n            <editor-content :editor=\"editor\" :style=\"editorFontClass\" />\n          </v-form>\n          <p v-if=\"error\" class=\"muted mt-2\">{{ error }}</p>\n        </v-card-text>\n        <v-card-actions class=\"calligraphy desertsand--text\" justify=\"center\">\n          <v-spacer></v-spacer>\n          <v-btn class=\"garbage desertsand--text\" @click=\"closeDialog\"\n            >Cancel<v-icon right>mdi-close</v-icon></v-btn\n          >\n          <v-btn\n            @click=\"onSubmit\"\n            class=\"green desertsand--text\"\n            :disabled=\"!valid\"\n            :loading=\"submitting\"\n            :hidden=\"submitted\"\n            >Submit<v-icon right>mdi-send</v-icon></v-btn\n          >\n          <v-spacer></v-spacer>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-row>\n</template>\n<script>\nimport { apiService } from \"@/common/api.service.js\";\nimport { Editor, EditorContent, EditorMenuBar } from \"tiptap\";\nimport {\n  Blockquote,\n  HardBreak,\n  Heading,\n  Bold,\n  Italic,\n  Link,\n  Strike,\n  Underline\n} from \"tiptap-extensions\";\nimport { default as Alignment } from \"@/components/tiptaptoo/Alignment.js\";\nimport { default as TextDirection } from \"@/components/tiptaptoo/TextDirection.js\";\nexport default {\n  name: \"QuestionEditor\",\n  components: {\n    EditorContent,\n    EditorMenuBar\n  },\n  props: {\n    editing: {\n      type: Boolean,\n      default: false\n    },\n    slug: {\n      type: String,\n      required: false\n    },\n    question: {\n      type: Object,\n      required: false\n    },\n    editorDialog: {\n      default: false\n    }\n  },\n  data() {\n    return {\n      submitting: false,\n      submitted: false,\n      valid: false,\n      loadingQuestion: false,\n      loadingLanguages: false,\n      error: null,\n      author: \"\",\n      title: \"\",\n      content: \"\",\n      nativelanguage: \"\",\n      learninglanguage: \"\",\n      allLanguages: [],\n      tags: [],\n      rules: {\n        titleMin: value =>\n          (value || \"\").length > 10 || \"You must type at least 11 characters!\",\n        // contentMax: value => (value || '').length < 241 || \"No more than 240 characters!\",\n        requiredLanguage: value =>\n          !!value || \"You must choose at least 1 language.\",\n        maxTags: value =>\n          (value || \"\").length < 6 || \"Maximum of 5 tags allowed!\"\n      },\n      editorFontSize: 1,\n      editor: new Editor({\n        editable: true,\n        extensions: [\n          new Blockquote(),\n          new HardBreak(),\n          new Heading({ levels: [3] }),\n          new Bold(),\n          new Alignment(),\n          new TextDirection(),\n          new Italic(),\n          new Link(),\n          new Strike(),\n          new Underline()\n        ],\n        content: `\n                      ...type/paste question here...\n                     `\n      })\n    };\n  },\n  computed: {\n    characterCountClass() {\n      if (this.characterCount > 500) {\n        return \"error\";\n      } else {\n        return \"\";\n      }\n    },\n    editorFontClass() {\n      return `font-size:${this.editorFontSize}em`;\n    },\n    characterCount() {\n      return this.editor.view.state.doc.textContent.length;\n    }\n  },\n\n  methods: {\n    closeDialog() {\n      this.$emit(\"closeDialog\");\n    },\n    onSubmit() {\n      this.submitting = true;\n      let endpoint = \"/api/questions/questions/\";\n      let method = \"POST\";\n      if (this.slug !== undefined) {\n        endpoint += `${this.slug}/`;\n        method = \"PATCH\";\n      }\n      let payload = {\n        title: this.title,\n        nativelanguage: this.nativelanguage,\n        learninglanguage: this.learninglanguage,\n        rich_text: this.editor.getJSON(),\n        plain_text: this.editor.view.state.doc.textContent,\n        // tags: []\n        tags: this.tags\n      };\n      apiService(endpoint, method, payload).then(data => {\n        if (this.editing === true) {\n          this.$emit(\"updateQuestion\", payload);\n          this.$emit(\"closeDialog\");\n          console.log(payload);\n          this.submitting = false;\n        } else {\n          this.submitted = true;\n          this.$router.push({\n            name: \"Question-Viewer\",\n            params: { slug: data.slug }\n          });\n        }\n      });\n    },\n    removeTag(item) {\n      this.tags.splice(this.tags.indexOf(item), 1);\n      this.tags = [...this.tags];\n    },\n    getLanguages() {\n      var localLanguages = localStorage.getItem(\"languages\");\n      if (localLanguages.length > 1) {\n        console.log(\"Shop local!\");\n        this.allLanguages = JSON.parse(localLanguages);\n      } else {\n        this.loadingLanguages = true;\n        let endpoint = `/api/categories/languages/`;\n        try {\n          apiService(endpoint).then(data => {\n            if (data != null) {\n              this.allLanguages = data;\n              this.error = false;\n            } else {\n              console.log(\"Something bad happened...\");\n              this.error = true;\n            }\n            this.loadingLanguages = false;\n          });\n        } catch (err) {\n          console.log(err);\n        }\n      }\n    },\n\n    getQuestionData() {\n      if (this.editing) {\n        (this.author = this.question.author),\n          (this.title = this.question.title),\n          (this.nativelanguage = this.question.nativelanguage),\n          (this.learninglanguage = this.question.learninglanguage),\n          (this.tags = this.question.tags);\n        this.editor.setContent(this.question.rich_text);\n        this.loadingQuestion = false;\n      }\n    },\n    getQuestionData2() {\n      if (this.editing) {\n        this.loadingQuestion = true;\n        let endpoint = `/api/questions/${this.slug}/`;\n        apiService(endpoint).then(data => {\n          if (data) {\n            (this.author = data.author),\n              (this.title = data.title),\n              (this.nativelanguage = data.nativelanguage),\n              (this.learninglanguage = data.learninglanguage),\n              (this.tags = data.tags);\n            this.loadingQuestion = false;\n          } else {\n            this.question = null;\n            this.setPageTitle(\"404 - Page Note Found\");\n            this.loadingQuestion = false;\n          }\n        });\n      }\n    },\n\n    changeEditorFontSize(direction) {\n      if (direction === \"up\") {\n        if (this.editorFontSize < 3.5) {\n          this.editorFontSize += 0.15;\n        }\n      } else {\n        if (this.editorFontSize > 0.5) {\n          this.editorFontSize -= 0.15;\n        }\n      }\n    }\n  },\n  created() {\n    this.getQuestionData();\n    this.getLanguages();\n  }\n};\n</script>\n<style scoped>\n.editor-box > * {\n  border-color: black;\n  color: black;\n  border-style: solid;\n  border-width: 1px;\n  padding: 4px, 4px;\n  width: 100%;\n  height: 300px;\n  overflow-x: hidden;\n  overflow-x: auto;\n  font-size: 1em;\n  font-family: Arial, Helvetica, sans-serif;\n  line-height: 1.5;\n}\n.ProseMirror {\n  background-color: black;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuestionEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuestionEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QuestionEditor.vue?vue&type=template&id=56126ed7&scoped=true&\"\nimport script from \"./QuestionEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./QuestionEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./QuestionEditor.vue?vue&type=style&index=0&id=56126ed7&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"56126ed7\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VChip,VCombobox,VDialog,VDivider,VForm,VIcon,VRow,VSelect,VSpacer,VTextarea,VToolbar})\n"],"sourceRoot":""}