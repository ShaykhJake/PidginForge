{"version":3,"sources":["webpack:///./src/components/vocab/sentences/AttachTranslation.vue?3a14","webpack:///./src/components/vocab/sentences/AttachTranslation.vue?6aa2","webpack:///src/components/vocab/sentences/AttachTranslation.vue","webpack:///./src/components/vocab/sentences/AttachTranslation.vue?78f5","webpack:///./src/components/vocab/sentences/AttachTranslation.vue?8a59"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","model","value","callback","$$v","dialog","expression","staticClass","_v","style","sentence","_s","text","valid","allLanguages","rules","requiredLanguage","language","translationRTL","requiredTranslation","requiredCuratorNote","curator_note","on","closeDialog","saving","submit","staticRenderFns","name","props","Object","translation","type","Boolean","default","data","computed","i","length","console","log","direction","components","methods","$emit","endpoint","method","id","err","getLanguages","localLanguagesFull","localStorage","getItem","JSON","parse","loadingLanguages","mounted","created","component","VAutocomplete","VBtn","VCard","VCardActions","VCardText","VCardTitle","VDialog","VForm","VTextarea"],"mappings":"4GAAA,W,2CCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,WAAW,CAACE,MAAM,CAAC,YAAY,MAAM,WAAa,IAAIC,MAAM,CAACC,MAAOR,EAAU,OAAES,SAAS,SAAUC,GAAMV,EAAIW,OAAOD,GAAKE,WAAW,WAAW,CAACR,EAAG,SAAS,CAACS,YAAY,cAAc,CAACT,EAAG,eAAe,CAACS,YAAY,aAAa,CAACb,EAAIc,GAAG,0BAA0BV,EAAG,cAAc,CAACS,YAAY,QAAQ,CAACT,EAAG,MAAM,CAACS,YAAY,yBAAyBE,MAAQ,aAAgBf,EAAIgB,SAAkB,WAAK,CAAChB,EAAIc,GAAG,IAAId,EAAIiB,GAAGjB,EAAIgB,SAASE,MAAM,OAAOd,EAAG,SAAS,CAACG,MAAM,CAACC,MAAOR,EAAS,MAAES,SAAS,SAAUC,GAAMV,EAAImB,MAAMT,GAAKE,WAAW,UAAU,CAACR,EAAG,iBAAiB,CAACE,MAAM,CAAC,MAAQN,EAAIoB,aAAa,MAAQ,GAAG,SAAW,GAAG,MAAQ,UAAU,MAAQ,0BAA0B,YAAY,OAAO,aAAa,OAAO,MAAQ,CAACpB,EAAIqB,MAAMC,mBAAmBf,MAAM,CAACC,MAAOR,EAAY,SAAES,SAAS,SAAUC,GAAMV,EAAIuB,SAASb,GAAKE,WAAW,cAAcR,EAAG,MAAM,CAACW,MAAOf,EAAIwB,eAAiB,iBAAmB,IAAK,CAACpB,EAAG,aAAa,CAACE,MAAM,CAAC,MAAQ,mBAAmB,SAAW,GAAG,QAAUN,EAAIwB,eAAe,MAAQ,CAACxB,EAAIqB,MAAMI,sBAAsBlB,MAAM,CAACC,MAAOR,EAAQ,KAAES,SAAS,SAAUC,GAAMV,EAAIkB,KAAKR,GAAKE,WAAW,WAAW,GAAGR,EAAG,MAAM,CAACW,MAAOf,EAAIwB,eAAiB,iBAAmB,IAAK,CAACpB,EAAG,aAAa,CAACE,MAAM,CAAC,MAAQ,eAAe,SAAW,GAAG,QAAUN,EAAIwB,eAAe,MAAQ,CAACxB,EAAIqB,MAAMK,sBAAsBnB,MAAM,CAACC,MAAOR,EAAgB,aAAES,SAAS,SAAUC,GAAMV,EAAI2B,aAAajB,GAAKE,WAAW,mBAAmB,IAAI,IAAI,GAAGR,EAAG,iBAAiB,CAACS,YAAY,aAAa,CAACT,EAAG,QAAQ,CAACS,YAAY,2BAA2Be,GAAG,CAAC,MAAQ5B,EAAI6B,cAAc,CAAC7B,EAAIc,GAAG,cAAcV,EAAG,QAAQ,CAACS,YAAY,UAAUP,MAAM,CAAC,UAAYN,EAAImB,MAAM,QAAUnB,EAAI8B,QAAQF,GAAG,CAAC,MAAQ5B,EAAI+B,SAAS,CAAC/B,EAAIc,GAAG,eAAe,IAAI,IAAI,IACzyDkB,EAAkB,G,wBCmEtB,GACEC,KAAM,oBACNC,MAAO,CACLlB,SAAUmB,OACVC,YAAaD,OACbxB,OAAQ,CACN0B,KAAMC,QACNC,SAAS,IAGbC,KAAM,WAAR,OACA,gBACA,oBACA,YACA,QACA,gBACA,SACA,UACA,OACA,oCACA,iBACA,4DAEA,uCACA,iBACA,4DAEA,uCACA,iBACA,gEAGEC,SAAU,CACRjB,eADJ,WAEM,GAAIvB,KAAKsB,SAAU,CACjB,IAAK,IAAImB,EAAI,EAAGA,EAAIzC,KAAKmB,aAAauB,OAAQD,GAAK,EACjD,GAAIzC,KAAKmB,aAAasB,GAAGT,OAAShC,KAAKsB,SAErC,OADAqB,QAAQC,IAAI,YAC2B,QAAnC5C,KAAKmB,aAAasB,GAAGI,UAO7B,OAAO,EAEP,OAAO,IAIbC,WAAY,GACZC,QAAS,CACPnB,YADJ,WAEM5B,KAAKgD,MAAM,gBAEblB,OAJJ,WAIA,WACM9B,KAAK6B,QAAS,EACd,IAAIoB,EAAW,GACXC,EAAS,GACTlD,KAAKmC,YAAYgB,IACnBF,EAAW,mCAAnB,gCACQC,EAAS,QAETD,EAAW,mCACXC,EAAS,QAEX,IAAN,GACQjC,KAAMjB,KAAKiB,KACXS,aAAc1B,KAAK0B,aACnBJ,SAAUtB,KAAKsB,SACfP,SAAUf,KAAKe,SAASoC,IAE1B,IACE,OAAR,OAAQ,CAAR,yBACcZ,GAAQA,EAAKY,IACX,EAAhB,eACc,EAAd,6BAEc,EAAd,2BAEY,EAAZ,UACY,EAAZ,gBAEYR,QAAQC,IAAIL,GAAQ,WACpBI,QAAQC,IAAI,0BACZ,EAAZ,WAEU,EAAV,aAEA,SACQD,QAAQC,IAAIQ,GACZpD,KAAK6B,QAAS,IAGlBwB,aA3CJ,WA2CA,WACUC,EAAqBC,aAAaC,QAAQ,kBAC9C,GAAIF,EACFX,QAAQC,IAAI,eACZ5C,KAAKmB,aAAesC,KAAKC,MAAMJ,OACvC,CACQtD,KAAK2D,kBAAmB,EACxB,IAAR,oCACQ,IACE,OAAV,OAAU,CAAV,qBACwB,MAARpB,GACF,EAAd,eAEc,EAAd,WAEcI,QAAQC,IAAI,6BACZ,EAAd,UAEY,EAAZ,uBAEA,SACUD,QAAQC,IAAIQ,OAKpBQ,QAzHF,WA0HQ5D,KAAKmC,aAAenC,KAAKmC,YAAYgB,KACvCnD,KAAKsB,SAAWtB,KAAKmC,YAAYb,SACjCtB,KAAKiB,KAAOjB,KAAKmC,YAAYlB,KAC7BjB,KAAK0B,aAAe1B,KAAKmC,YAAYT,eAGzCmC,QAhIF,WAiII7D,KAAKqD,iBCrM6T,I,iICQlUS,EAAY,eACd,EACAhE,EACAiC,GACA,EACA,KACA,WACA,MAIa,aAAA+B,EAAiB,QAahC,IAAkBA,EAAW,CAACC,gBAAA,KAAcC,OAAA,KAAKC,QAAA,KAAMC,aAAA,OAAaC,UAAA,OAAUC,WAAA,OAAWC,UAAA,KAAQC,QAAA,KAAMC,YAAA,Q","file":"js/chunk-0eeafbf1.86858b66.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachTranslation.vue?vue&type=style&index=0&id=365dc406&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"max-width\":\"315\",\"persistent\":\"\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',{staticClass:\"desertsand\"},[_c('v-card-title',{staticClass:\"sandstone\"},[_vm._v(\" Attach Translation \")]),_c('v-card-text',{staticClass:\"px-2\"},[_c('div',{staticClass:\"sentenceBox title mb-2\",style:((\"direction:\" + (_vm.sentence.direction)))},[_vm._v(\" \"+_vm._s(_vm.sentence.text)+\" \")]),_c('v-form',{model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-autocomplete',{attrs:{\"items\":_vm.allLanguages,\"dense\":\"\",\"outlined\":\"\",\"color\":\"primary\",\"label\":\"Translation Language(s)\",\"item-text\":\"name\",\"item-value\":\"name\",\"rules\":[_vm.rules.requiredLanguage]},model:{value:(_vm.language),callback:function ($$v) {_vm.language=$$v},expression:\"language\"}}),_c('div',{style:(_vm.translationRTL ? 'direction:rtl;' : '')},[_c('v-textarea',{attrs:{\"label\":\"Translation Text\",\"outlined\":\"\",\"reverse\":_vm.translationRTL,\"rules\":[_vm.rules.requiredTranslation]},model:{value:(_vm.text),callback:function ($$v) {_vm.text=$$v},expression:\"text\"}})],1),_c('div',{style:(_vm.translationRTL ? 'direction:rtl;' : '')},[_c('v-textarea',{attrs:{\"label\":\"Curator Note\",\"outlined\":\"\",\"reverse\":_vm.translationRTL,\"rules\":[_vm.rules.requiredCuratorNote]},model:{value:(_vm.curator_note),callback:function ($$v) {_vm.curator_note=$$v},expression:\"curator_note\"}})],1)],1)],1),_c('v-card-actions',{staticClass:\"sandstone\"},[_c('v-btn',{staticClass:\"garbage desertsand--text\",on:{\"click\":_vm.closeDialog}},[_vm._v(\" Cancel \")]),_c('v-btn',{staticClass:\"primary\",attrs:{\"disabled\":!_vm.valid,\"loading\":_vm.saving},on:{\"click\":_vm.submit}},[_vm._v(\" Submit \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog v-model=\"dialog\" max-width=\"315\" persistent>\n    <v-card class=\"desertsand\">\n      <v-card-title class=\"sandstone\">\n        Attach Translation\n      </v-card-title>\n      <v-card-text class=\"px-2\">\n        <div\n          class=\"sentenceBox title mb-2\"\n          :style=\"`direction:${sentence.direction}`\"\n        >\n          {{ sentence.text }}\n        </div>\n\n        <v-form v-model=\"valid\">\n          <v-autocomplete\n            v-model=\"language\"\n            :items=\"allLanguages\"\n            dense\n            outlined\n            color=\"primary\"\n            label=\"Translation Language(s)\"\n            item-text=\"name\"\n            item-value=\"name\"\n            :rules=\"[rules.requiredLanguage]\"\n          >\n          </v-autocomplete>\n\n          <div :style=\"translationRTL ? 'direction:rtl;' : ''\">\n            <v-textarea\n              v-model=\"text\"\n              label=\"Translation Text\"\n              outlined\n              :reverse=\"translationRTL\"\n              :rules=\"[rules.requiredTranslation]\"\n            ></v-textarea>\n          </div>\n\n          <div :style=\"translationRTL ? 'direction:rtl;' : ''\">\n            <v-textarea\n              v-model=\"curator_note\"\n              label=\"Curator Note\"\n              outlined\n              :reverse=\"translationRTL\"\n              :rules=\"[rules.requiredCuratorNote]\"\n            ></v-textarea>\n          </div>\n        </v-form>\n      </v-card-text>\n      <v-card-actions class=\"sandstone\">\n        <v-btn @click=\"closeDialog\" class=\"garbage desertsand--text\">\n          Cancel\n        </v-btn>\n        <v-btn\n          class=\"primary\"\n          :disabled=\"!valid\"\n          :loading=\"saving\"\n          @click=\"submit\"\n        >\n          Submit\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport { apiService } from \"@/common/api.service.js\";\nexport default {\n  name: \"AttachTranslation\",\n  props: {\n    sentence: Object,\n    translation: Object,\n    dialog: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: () => ({\n    allLanguages: [],\n    loadingLanguages: false,\n    language: \"\",\n    text: \"\",\n    curator_note: \"\",\n    valid: false,\n    saving: false,\n    rules: {\n      requiredLanguage: value =>\n        (value || \"\").length > 2 ||\n        \"The translation must be at least 3 characters in length.\",\n\n      requiredTranslation: value =>\n        (value || \"\").length > 2 ||\n        \"The translation must be at least 3 characters in length.\",\n\n      requiredCuratorNote: value =>\n        (value || \"\").length > 2 ||\n        \"The curator note must be at least 3 characters in length.\"\n    }\n  }),\n  computed: {\n    translationRTL() {\n      if (this.language) {\n        for (var i = 0; i < this.allLanguages.length; i += 1) {\n          if (this.allLanguages[i].name === this.language) {\n            console.log(\"found it\");\n            if (this.allLanguages[i].direction === \"RTL\") {\n              return true;\n            } else {\n              return false;\n            }\n          }\n        }\n        return false;\n      } else {\n        return false;\n      }\n    }\n  },\n  components: {},\n  methods: {\n    closeDialog() {\n      this.$emit(\"closeDialog\");\n    },\n    submit() {\n      this.saving = true;\n      var endpoint = \"\";\n      var method = \"\";\n      if (this.translation.id) {\n        endpoint = `/api/vocab/sentencetranslationz/${this.translation.id}/`;\n        method = \"PUT\";\n      } else {\n        endpoint = `/api/vocab/sentencetranslationz/`;\n        method = \"POST\";\n      }\n      const payload = {\n        text: this.text,\n        curator_note: this.curator_note,\n        language: this.language,\n        sentence: this.sentence.id\n      };\n      try {\n        apiService(endpoint, method, payload).then(data => {\n          if (data && data.id) {\n            if (this.translation.id) {\n              this.$emit(\"updateTranslation\", data);\n            } else {\n              this.$emit(\"pushTranslation\", data);\n            }\n            this.saving = false;\n            this.closeDialog();\n          } else {\n            console.log(data || \"no data\");\n            console.log(\"Something bad happened\");\n            this.saving = false;\n          }\n          this.saving = false;\n        });\n      } catch (err) {\n        console.log(err);\n        this.saving = false;\n      }\n    },\n    getLanguages() {\n      var localLanguagesFull = localStorage.getItem(\"languages_full\");\n      if (localLanguagesFull) {\n        console.log(\"Shop local!\");\n        this.allLanguages = JSON.parse(localLanguagesFull);\n      } else {\n        this.loadingLanguages = true;\n        let endpoint = `/api/categories/languages_full/`;\n        try {\n          apiService(endpoint).then(data => {\n            if (data != null) {\n              this.allLanguages = data;\n\n              this.error = false;\n            } else {\n              console.log(\"Something bad happened...\");\n              this.error = true;\n            }\n            this.loadingLanguages = false;\n          });\n        } catch (err) {\n          console.log(err);\n        }\n      }\n    }\n  },\n  mounted() {\n    if (this.translation && this.translation.id) {\n      this.language = this.translation.language;\n      this.text = this.translation.text;\n      this.curator_note = this.translation.curator_note;\n    }\n  },\n  created() {\n    this.getLanguages();\n  }\n};\n</script>\n\n<style scoped>\n.sentenceBox {\n  color: black;\n  /* background-color: antiquewhite; */\n  border-left-style: solid;\n  border-right-style: solid;\n  border-width: 1px;\n  border-radius: 5px;\n  border-color: grey;\n  padding: 2px 2px 2px 2px;\n  margin: 2px 2px 2px 2px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachTranslation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachTranslation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AttachTranslation.vue?vue&type=template&id=365dc406&scoped=true&\"\nimport script from \"./AttachTranslation.vue?vue&type=script&lang=js&\"\nexport * from \"./AttachTranslation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AttachTranslation.vue?vue&type=style&index=0&id=365dc406&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"365dc406\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VAutocomplete,VBtn,VCard,VCardActions,VCardText,VCardTitle,VDialog,VForm,VTextarea})\n"],"sourceRoot":""}