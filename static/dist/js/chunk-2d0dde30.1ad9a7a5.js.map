{"version":3,"sources":["webpack:///./src/components/profile/ProfileSnippet.vue?c506","webpack:///src/components/profile/ProfileSnippet.vue","webpack:///./src/components/profile/ProfileSnippet.vue?6f57","webpack:///./src/components/profile/ProfileSnippet.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","profile","avatar","on","closeDialog","_v","_s","username","userPointsText","language","biography","isProfileOwner","_e","following","toggleFollow","followers_count","user_has_followed","hiding","toggleHide","user_has_hidden","staticRenderFns","name","components","props","String","data","computed","window","localStorage","getItem","methods","$emit","getProfileSnippet","loading","console","log","err","created","component","VBadge","VBtn","VCard","VCardText","VCardTitle","VChip","VCol","VIcon","VImg","VRow"],"mappings":"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","file":"js/chunk-2d0dde30.1ad9a7a5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"desertsand\"},[_c('v-card-title',{staticClass:\"pa-0\"},[_c('v-img',{attrs:{\"src\":_vm.profile.avatar}},[_c('v-btn',{staticClass:\"calligraphy white--text\",attrs:{\"icon\":\"\",\"fab\":\"\",\"small\":\"\"},on:{\"click\":_vm.closeDialog}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1)],1),_c('v-card-text',{staticClass:\"pt-2 pl-4 desertsand calligraphy--text\"},[_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',{attrs:{\"align\":\"center\"}},[_c('h2',[_vm._v(_vm._s(_vm.username))]),_c('v-chip',{staticClass:\"primary primary--text\",attrs:{\"outlined\":\"\",\"small\":\"\"}},[_vm._v(_vm._s(_vm.userPointsText))]),_c('v-chip',{staticClass:\"languages languages--text\",attrs:{\"outlined\":\"\",\"small\":\"\"}},[_vm._v(\"Native: \"+_vm._s(_vm.profile.language))]),_c('v-chip',{staticClass:\"languages languages--text\",attrs:{\"outlined\":\"\",\"small\":\"\"}},[_vm._v(\"Learning: Django, French\")])],1),_c('v-col',[_c('p',[_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(\"User Bio:\")]),_vm._v(\" \"+_vm._s(_vm.profile.biography)+\" \")]),_c('v-btn',{staticClass:\"my-1 primary desertsand--text\",attrs:{\"block\":\"\"}},[_vm._v(\"View Curated Works\")]),(!_vm.isProfileOwner)?_c('v-btn',{staticClass:\"my-1 saves desertsand--text\",attrs:{\"block\":\"\",\"loading\":_vm.following},on:{\"click\":_vm.toggleFollow}},[_c('v-badge',{attrs:{\"color\":\"blue\",\"content\":_vm.profile.followers_count}},[(!_vm.profile.user_has_followed)?_c('span',[_vm._v(\" Follow\"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-heart\")])],1):_c('span',[_vm._v(\" Unfollow\"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-heart-broken\")])],1)])],1):_vm._e(),(!_vm.isProfileOwner)?_c('v-btn',{staticClass:\"my-1 garbage desertsand--text\",attrs:{\"block\":\"\",\"loading\":_vm.hiding},on:{\"click\":_vm.toggleHide}},[(!_vm.profile.user_has_hidden)?_c('span',[_vm._v(\" Hide\"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-eye-off\")])],1):_c('span',[_vm._v(\" Unhide\"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-eye\")])],1)]):_vm._e()],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card class=\"desertsand\">\n    <v-card-title class=\"pa-0\">\n      <v-img :src=\"profile.avatar\">\n        <v-btn\n          icon\n          fab\n          small\n          class=\"calligraphy white--text\"\n          @click=\"closeDialog\"\n          ><v-icon>mdi-close</v-icon>\n        </v-btn>\n      </v-img>\n    </v-card-title>\n\n    <v-card-text class=\"pt-2 pl-4 desertsand calligraphy--text\">\n      <v-row dense>\n        <v-col align=\"center\">\n          <h2>{{ username }}</h2>\n          <v-chip outlined small class=\"primary primary--text\">{{\n            userPointsText\n          }}</v-chip>\n          <v-chip outlined small class=\"languages languages--text\"\n            >Native: {{ profile.language }}</v-chip\n          >\n          <v-chip outlined small class=\"languages languages--text\"\n            >Learning: Django, French</v-chip\n          >\n        </v-col>\n        <v-col>\n          <p>\n            <span class=\"font-weight-bold\">User Bio:</span>\n            {{ profile.biography }}\n          </p>\n\n          <v-btn block class=\"my-1 primary desertsand--text\"\n            >View Curated Works</v-btn\n          >\n\n          <v-btn\n            block\n            v-if=\"!isProfileOwner\"\n            @click=\"toggleFollow\"\n            class=\"my-1 saves desertsand--text\"\n            :loading=\"following\"\n          >\n            <v-badge color=\"blue\" :content=\"profile.followers_count\">\n              <span v-if=\"!profile.user_has_followed\">\n                Follow<v-icon right>mdi-heart</v-icon>\n              </span>\n              <span v-else>\n                Unfollow<v-icon right>mdi-heart-broken</v-icon>\n              </span>\n            </v-badge>\n          </v-btn>\n\n          <v-btn\n            block\n            v-if=\"!isProfileOwner\"\n            @click=\"toggleHide\"\n            class=\"my-1 garbage desertsand--text\"\n            :loading=\"hiding\"\n          >\n            <span v-if=\"!profile.user_has_hidden\">\n              Hide<v-icon right>mdi-eye-off</v-icon>\n            </span>\n            <span v-else> Unhide<v-icon right>mdi-eye</v-icon> </span>\n          </v-btn>\n        </v-col>\n      </v-row>\n    </v-card-text>\n  </v-card>\n</template>\n<script>\nimport { apiService } from \"@/common/api.service.js\";\nexport default {\n  name: \"ProfileSnippet\",\n  components: {},\n  props: {\n    username: String\n  },\n  data: () => ({\n    loading: true,\n    profile: Object,\n    following: false,\n    hiding: false\n  }),\n  computed: {\n    userPointsText() {\n      return `Points: ${this.profile.points}`;\n    },\n    isProfileOwner() {\n      // return this.question.author.username === this.requestUser;\n      return this.username === window.localStorage.getItem(\"username\");\n      // return true;\n    }\n  },\n  methods: {\n    closeDialog() {\n      this.$emit(\"closeDialog\");\n    },\n    getProfileSnippet() {\n      this.loading = true;\n      let endpoint = `/api/users/snippet/${this.username}`;\n      apiService(endpoint).then(data => {\n        if (data) {\n          this.profile = data;\n          this.loading = false;\n        } else {\n          this.profile = null;\n          this.setPageTitle(\"404 - Page Note Found\");\n          this.loading = false;\n        }\n      });\n    },\n    toggleFollow() {\n      this.following = true;\n      let endpoint = `api/users/follow/`;\n      try {\n        apiService(endpoint, \"POST\", { username: this.profile.username }).then(\n          data => {\n            if (data != null) {\n              if (data.success == true) {\n                // this.$emit(\"hideElement\")\n                this.profile.user_has_followed = !this.profile\n                  .user_has_followed;\n                if (this.profile.user_has_followed) {\n                  this.profile.followers_count += 1;\n                } else {\n                  this.profile.followers_count -= 1;\n                }\n                // console.log(data.message)\n              } else {\n                // this.alertType = 'error';\n              }\n            } else {\n              // this.alertType = 'error';\n            }\n            this.following = false;\n          }\n        );\n      } catch (err) {\n        console.log(err);\n      }\n    },\n    toggleHide() {\n      this.hiding = true;\n      let endpoint = `api/users/hide/`;\n      try {\n        apiService(endpoint, \"POST\", { username: this.profile.username }).then(\n          data => {\n            if (data != null) {\n              if (data.success == true) {\n                this.profile.user_has_hidden = !this.profile.user_has_hidden;\n                console.log(\"This profile has been hidden\");\n              } else {\n                this.alertType = \"error\";\n              }\n            } else {\n              this.alertType = \"error\";\n            }\n            this.hiding = false;\n          }\n        );\n      } catch (err) {\n        console.log(err);\n      }\n    } // Hide from List\n    //\n  },\n  created() {\n    this.getProfileSnippet();\n  }\n};\n</script>\n<style lang=\"stylus\"></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProfileSnippet.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProfileSnippet.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProfileSnippet.vue?vue&type=template&id=0df6caf2&\"\nimport script from \"./ProfileSnippet.vue?vue&type=script&lang=js&\"\nexport * from \"./ProfileSnippet.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBadge } from 'vuetify/lib/components/VBadge';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBadge,VBtn,VCard,VCardText,VCardTitle,VChip,VCol,VIcon,VImg,VRow})\n"],"sourceRoot":""}