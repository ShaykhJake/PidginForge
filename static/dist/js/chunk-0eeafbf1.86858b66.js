(self["webpackJsonp"]=self["webpackJsonp"]||[]).push([["chunk-0eeafbf1"],{1957:function(t,a,e){"use strict";e("96dc")},"19ca":function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-dialog",{attrs:{"max-width":"315",persistent:""},model:{value:t.dialog,callback:function(a){t.dialog=a},expression:"dialog"}},[e("v-card",{staticClass:"desertsand"},[e("v-card-title",{staticClass:"sandstone"},[t._v(" Attach Translation ")]),e("v-card-text",{staticClass:"px-2"},[e("div",{staticClass:"sentenceBox title mb-2",style:"direction:"+t.sentence.direction},[t._v(" "+t._s(t.sentence.text)+" ")]),e("v-form",{model:{value:t.valid,callback:function(a){t.valid=a},expression:"valid"}},[e("v-autocomplete",{attrs:{items:t.allLanguages,dense:"",outlined:"",color:"primary",label:"Translation Language(s)","item-text":"name","item-value":"name",rules:[t.rules.requiredLanguage]},model:{value:t.language,callback:function(a){t.language=a},expression:"language"}}),e("div",{style:t.translationRTL?"direction:rtl;":""},[e("v-textarea",{attrs:{label:"Translation Text",outlined:"",reverse:t.translationRTL,rules:[t.rules.requiredTranslation]},model:{value:t.text,callback:function(a){t.text=a},expression:"text"}})],1),e("div",{style:t.translationRTL?"direction:rtl;":""},[e("v-textarea",{attrs:{label:"Curator Note",outlined:"",reverse:t.translationRTL,rules:[t.rules.requiredCuratorNote]},model:{value:t.curator_note,callback:function(a){t.curator_note=a},expression:"curator_note"}})],1)],1)],1),e("v-card-actions",{staticClass:"sandstone"},[e("v-btn",{staticClass:"garbage desertsand--text",on:{click:t.closeDialog}},[t._v(" Cancel ")]),e("v-btn",{staticClass:"primary",attrs:{disabled:!t.valid,loading:t.saving},on:{click:t.submit}},[t._v(" Submit ")])],1)],1)],1)},s=[],l=(e("b0c0"),e("5ce5")),i={name:"AttachTranslation",props:{sentence:Object,translation:Object,dialog:{type:Boolean,default:!1}},data:function(){return{allLanguages:[],loadingLanguages:!1,language:"",text:"",curator_note:"",valid:!1,saving:!1,rules:{requiredLanguage:function(t){return(t||"").length>2||"The translation must be at least 3 characters in length."},requiredTranslation:function(t){return(t||"").length>2||"The translation must be at least 3 characters in length."},requiredCuratorNote:function(t){return(t||"").length>2||"The curator note must be at least 3 characters in length."}}}},computed:{translationRTL:function(){if(this.language){for(var t=0;t<this.allLanguages.length;t+=1)if(this.allLanguages[t].name===this.language)return console.log("found it"),"RTL"===this.allLanguages[t].direction;return!1}return!1}},components:{},methods:{closeDialog:function(){this.$emit("closeDialog")},submit:function(){var t=this;this.saving=!0;var a="",e="";this.translation.id?(a="/api/vocab/sentencetranslationz/".concat(this.translation.id,"/"),e="PUT"):(a="/api/vocab/sentencetranslationz/",e="POST");var n={text:this.text,curator_note:this.curator_note,language:this.language,sentence:this.sentence.id};try{Object(l["a"])(a,e,n).then((function(a){a&&a.id?(t.translation.id?t.$emit("updateTranslation",a):t.$emit("pushTranslation",a),t.saving=!1,t.closeDialog()):(console.log(a||"no data"),console.log("Something bad happened"),t.saving=!1),t.saving=!1}))}catch(s){console.log(s),this.saving=!1}},getLanguages:function(){var t=this,a=localStorage.getItem("languages_full");if(a)console.log("Shop local!"),this.allLanguages=JSON.parse(a);else{this.loadingLanguages=!0;var e="/api/categories/languages_full/";try{Object(l["a"])(e).then((function(a){null!=a?(t.allLanguages=a,t.error=!1):(console.log("Something bad happened..."),t.error=!0),t.loadingLanguages=!1}))}catch(n){console.log(n)}}}},mounted:function(){this.translation&&this.translation.id&&(this.language=this.translation.language,this.text=this.translation.text,this.curator_note=this.translation.curator_note)},created:function(){this.getLanguages()}},o=i,r=(e("1957"),e("2877")),c=e("6544"),u=e.n(c),g=e("c6a6"),d=e("8336"),h=e("b0af"),v=e("99d9"),f=e("169a"),m=e("4bd4"),b=e("a844"),p=Object(r["a"])(o,n,s,!1,null,"365dc406",null);a["default"]=p.exports;u()(p,{VAutocomplete:g["a"],VBtn:d["a"],VCard:h["a"],VCardActions:v["a"],VCardText:v["b"],VCardTitle:v["c"],VDialog:f["a"],VForm:m["a"],VTextarea:b["a"]})},"96dc":function(t,a,e){}}]);
//# sourceMappingURL=chunk-0eeafbf1.86858b66.js.map