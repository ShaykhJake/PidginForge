{"version":3,"sources":["webpack:///./src/components/questions/QuestionEditor.vue?3c4c","webpack:///src/components/questions/QuestionEditor.vue","webpack:///./src/components/questions/QuestionEditor.vue?01c7","webpack:///./src/components/questions/QuestionEditor.vue","webpack:///./node_modules/vuetify/lib/components/VCombobox/VCombobox.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","model","value","callback","$$v","editorDialog","expression","loadingLanguages","loadingQuestion","loadingTopics","_v","ref","valid","rules","contentMin","content","allLanguages","requiredLanguage","nativelanguage","learninglanguage","allTopics","requiredTopic","topic","maxTags","scopedSlots","_u","key","fn","item","select","selected","_b","on","$event","removeTag","_s","tags","error","_e","closeDialog","submitting","submitted","onSubmit","staticRenderFns","name","props","editing","type","Boolean","default","slug","String","required","question","Object","data","author","methods","$emit","undefined","endpoint","method","console","log","payload","params","splice","indexOf","getLanguages","localLanguages","localStorage","getItem","JSON","parse","getTopics","localTopics","err","getQuestionData","getQuestionData2","created","component","VBtn","VCard","VCardActions","VCardText","VCardTitle","VChip","VCombobox","VDialog","VForm","VIcon","VRow","VSelect","VSpacer","VTextarea","extend","delimiters","Array","returnObject","editingIndex","computed","multiple","selectedItems","length","internalSearch","toString","options","hasSlot","call","isFocused","hasDisplayedItems","$slots","hideNoData","val","delimiter","find","d","endsWith","slice","updateTags","updateMenuDimensions","input","genInput","paste","onPaste","index","chip","genChipSelection","componentOptions","listeners","dblclick","getText","selectedIndex","onChipInput","e","preventDefault","getMenuIndex","$nextTick","updateSelf","oldVal","autoSelectFirst","onFilteredItemsChanged","keyCode","onKeyDown","left","$refs","selectionStart","enter","onEnterDown","changeSelectedIndex","stopPropagation","onTabDown","updateEditing","selectItem","internalValue","setValue","isUsingSlot","$scopedSlots","selection","hasChips","searchIsDirty","updateCombobox","menuIndex","event","pastedItemText","clipboardData","getData","findExistingIndex"],"mappings":"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","file":"js/chunk-11f10b16.7badbd46.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-row',{staticClass:\"ma-0\",attrs:{\"justify\":\"center\"}},[_c('v-dialog',{attrs:{\"scrollable\":\"\",\"persistent\":\"\",\"fullscreen\":\"\",\"hide-overlay\":\"\",\"transition\":\"dialog-bottom-transition\"},model:{value:(_vm.editorDialog),callback:function ($$v) {_vm.editorDialog=$$v},expression:\"editorDialog\"}},[_c('v-card',{staticClass:\"desertsand\",attrs:{\"loading\":_vm.loadingLanguages || _vm.loadingQuestion || _vm.loadingTopics}},[(_vm.editing)?_c('v-card-title',[_vm._v(\"Edit Your Language Question\")]):_c('v-card-title',[_vm._v(\"Ask a Language Question\")]),_c('v-card-text',[_c('v-form',{ref:\"questioncontent\",staticClass:\"mt-2\",model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-textarea',{attrs:{\"outlined\":\"\",\"label\":\"Question Content*\",\"rules\":[_vm.rules.contentMin],\"counter\":\"\",\"rows\":\"4\",\"maxlength\":\"240\"},model:{value:(_vm.content),callback:function ($$v) {_vm.content=$$v},expression:\"content\"}}),_c('v-select',{attrs:{\"items\":_vm.allLanguages,\"label\":\"Native Language*\",\"placeholder\":\"choose the native language\",\"rules\":[_vm.rules.requiredLanguage],\"required\":\"\",\"outlined\":\"\"},model:{value:(_vm.nativelanguage),callback:function ($$v) {_vm.nativelanguage=$$v},expression:\"nativelanguage\"}}),_c('v-select',{attrs:{\"items\":_vm.allLanguages,\"loading\":_vm.loadingLanguages,\"label\":\"Learning Language*\",\"placeholder\":\"choose the learning language\",\"rules\":[_vm.rules.requiredLanguage],\"required\":\"\",\"outlined\":\"\"},model:{value:(_vm.learninglanguage),callback:function ($$v) {_vm.learninglanguage=$$v},expression:\"learninglanguage\"}}),_c('v-select',{attrs:{\"items\":_vm.allTopics,\"label\":\"Primary Topic*\",\"loading\":_vm.loadingTopics,\"placeholder\":\"choose a topic\",\"rules\":[_vm.rules.requiredTopic],\"required\":\"\",\"outlined\":\"\"},model:{value:(_vm.topic),callback:function ($$v) {_vm.topic=$$v},expression:\"topic\"}}),_c('v-combobox',{attrs:{\"label\":\"Additional Topic Tags\",\"chips\":\"\",\"clearable\":\"\",\"hint\":\"Hit <enter> or <tab> after each entry (max of 5 tags allowed)\",\"persistent-hint\":\"\",\"multiple\":\"\",\"rules\":[_vm.rules.maxTags],\"outlined\":\"\",\"counter\":\"\"},scopedSlots:_vm._u([{key:\"selection\",fn:function(ref){\nvar attrs = ref.attrs;\nvar item = ref.item;\nvar select = ref.select;\nvar selected = ref.selected;\nreturn [_c('v-chip',_vm._b({staticClass:\"calligraphy desertsand--text\",attrs:{\"input-value\":selected,\"close\":\"\"},on:{\"click\":select,\"click:close\":function($event){return _vm.removeTag(item)}}},'v-chip',attrs,false),[_c('strong',[_vm._v(_vm._s(item))])])]}}]),model:{value:(_vm.tags),callback:function ($$v) {_vm.tags=$$v},expression:\"tags\"}})],1),(_vm.error)?_c('p',{staticClass:\"muted mt-2\"},[_vm._v(_vm._s(_vm.error))]):_vm._e()],1),_c('v-card-actions',{staticClass:\"calligraphy desertsand--text\",attrs:{\"justify\":\"center\"}},[_c('v-spacer'),_c('v-btn',{staticClass:\"garbage desertsand--text\",on:{\"click\":_vm.closeDialog}},[_vm._v(\"Cancel\"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-close\")])],1),_c('v-btn',{staticClass:\"green desertsand--text\",attrs:{\"disabled\":!_vm.valid,\"loading\":_vm.submitting,\"hidden\":_vm.submitted},on:{\"click\":_vm.onSubmit}},[_vm._v(\"Submit\"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-send\")])],1),_c('v-btn',{staticClass:\"success desertsand--text\",attrs:{\"hidden\":!_vm.submitted}},[_vm._v(\"Success\"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-thumb-up\")])],1),_c('v-spacer')],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-row justify=\"center\" class=\"ma-0\">\n    <v-dialog\n      v-model=\"editorDialog\"\n      scrollable\n      persistent\n      fullscreen\n      hide-overlay\n      transition=\"dialog-bottom-transition\"\n    >\n      <v-card\n        :loading=\"loadingLanguages || loadingQuestion || loadingTopics\"\n        class=\"desertsand\"\n      >\n        <v-card-title v-if=\"editing\">Edit Your Language Question</v-card-title>\n        <v-card-title v-else>Ask a Language Question</v-card-title>\n        <v-card-text>\n          <v-form ref=\"questioncontent\" v-model=\"valid\" class=\"mt-2\">\n            <v-textarea\n              v-model=\"content\"\n              outlined\n              label=\"Question Content*\"\n              :rules=\"[rules.contentMin]\"\n              counter\n              rows=\"4\"\n              maxlength=\"240\"\n            ></v-textarea>\n\n            <v-select\n              v-model=\"nativelanguage\"\n              :items=\"allLanguages\"\n              label=\"Native Language*\"\n              placeholder=\"choose the native language\"\n              :rules=\"[rules.requiredLanguage]\"\n              required\n              outlined\n            ></v-select>\n\n            <v-select\n              v-model=\"learninglanguage\"\n              :items=\"allLanguages\"\n              :loading=\"loadingLanguages\"\n              label=\"Learning Language*\"\n              placeholder=\"choose the learning language\"\n              :rules=\"[rules.requiredLanguage]\"\n              required\n              outlined\n            ></v-select>\n\n            <v-select\n              v-model=\"topic\"\n              :items=\"allTopics\"\n              label=\"Primary Topic*\"\n              :loading=\"loadingTopics\"\n              placeholder=\"choose a topic\"\n              :rules=\"[rules.requiredTopic]\"\n              required\n              outlined\n            ></v-select>\n\n            <v-combobox\n              label=\"Additional Topic Tags\"\n              v-model=\"tags\"\n              chips\n              clearable\n              hint=\"Hit <enter> or <tab> after each entry (max of 5 tags allowed)\"\n              persistent-hint\n              multiple\n              :rules=\"[rules.maxTags]\"\n              outlined\n              counter\n            >\n              <template v-slot:selection=\"{ attrs, item, select, selected }\">\n                <v-chip\n                  v-bind=\"attrs\"\n                  :input-value=\"selected\"\n                  close\n                  @click=\"select\"\n                  @click:close=\"removeTag(item)\"\n                  class=\"calligraphy desertsand--text\"\n                >\n                  <strong>{{ item }}</strong\n                  >&nbsp;\n                </v-chip>\n              </template>\n            </v-combobox>\n          </v-form>\n          <p v-if=\"error\" class=\"muted mt-2\">{{ error }}</p>\n        </v-card-text>\n        <v-card-actions class=\"calligraphy desertsand--text\" justify=\"center\">\n          <v-spacer></v-spacer>\n          <v-btn class=\"garbage desertsand--text\" @click=\"closeDialog\"\n            >Cancel<v-icon right>mdi-close</v-icon></v-btn\n          >\n          <v-btn\n            @click=\"onSubmit\"\n            class=\"green desertsand--text\"\n            :disabled=\"!valid\"\n            :loading=\"submitting\"\n            :hidden=\"submitted\"\n            >Submit<v-icon right>mdi-send</v-icon></v-btn\n          >\n          <v-btn class=\"success desertsand--text\" :hidden=\"!submitted\"\n            >Success<v-icon right>mdi-thumb-up</v-icon></v-btn\n          >\n          <!-- TODO: need to ensure that the user information is reloaded after saving -->\n          <v-spacer></v-spacer>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-row>\n</template>\n<script>\nimport { apiService } from \"@/common/api.service.js\";\nexport default {\n  name: \"QuestionEditor\",\n  props: {\n    editing: {\n      type: Boolean,\n      default: false\n    },\n    slug: {\n      type: String,\n      required: false\n    },\n    question: {\n      type: Object,\n      required: false\n    },\n    editorDialog: {\n      default: false\n    }\n  },\n  data() {\n    return {\n      submitting: false,\n      submitted: false,\n      valid: false,\n      loadingQuestion: false,\n      loadingLanguages: false,\n      loadingTopics: false,\n      error: null,\n      author: \"\",\n      content: \"\",\n      nativelanguage: \"\",\n      learninglanguage: \"\",\n      topic: \"\",\n      allLanguages: [],\n      allTopics: [],\n      tags: [],\n      rules: {\n        contentMin: value =>\n          (value || \"\").length > 15 || \"You must type at least 16 characters!\",\n        // contentMax: value => (value || '').length < 241 || \"No more than 240 characters!\",\n        requiredLanguage: value =>\n          !!value || \"You must choose at least 1 language.\",\n        requiredTopic: value => !!value || \"You must choose a primary topic.\",\n        maxTags: value =>\n          (value || \"\").length < 6 || \"Maximum of 5 tags allowed!\"\n      }\n    };\n  },\n  methods: {\n    closeDialog() {\n      this.$emit(\"closeDialog\");\n    },\n    onSubmit() {\n      this.submitting = true;\n      let endpoint = \"/api/questions/\";\n      let method = \"POST\";\n      if (this.slug !== undefined) {\n        endpoint += `${this.slug}/`;\n        method = \"PATCH\";\n      }\n      let payload = {\n        content: this.content,\n        nativelanguage: this.nativelanguage,\n        learninglanguage: this.learninglanguage,\n        topic: this.topic,\n        tags: []\n      };\n      console.log(payload);\n      apiService(endpoint, method, payload).then(data => {\n        if (this.editing === true) {\n          this.$emit(\"updateQuestion\", payload);\n          this.$emit(\"closeDialog\");\n          this.submitting = false;\n        } else {\n          this.submitted = true;\n          this.$router.push({\n            name: \"Question-Viewer\",\n            params: { slug: data.slug }\n          });\n        }\n      });\n    },\n    removeTag(item) {\n      this.tags.splice(this.tags.indexOf(item), 1);\n      this.tags = [...this.tags];\n    },\n    getLanguages() {\n      var localLanguages = localStorage.getItem(\"languages\");\n      if(localLanguages.length > 1){\n        console.log(\"Shop local!\")\n        this.allLanguages = JSON.parse(localLanguages)\n      } else {\n        this.loadingLanguages = true;\n        let endpoint = `/api/categories/languages/`;\n        try {\n          apiService(endpoint).then(data => {\n            if (data != null) {\n              this.allLanguages = data;\n              this.error = false;\n            } else {\n              console.log(\"Something bad happened...\");\n              this.error = true;\n            }\n            this.loadingLanguages = false;\n          });\n          } catch (err) {\n            console.log(err);\n          }\n        }\n    },\n\n    getTopics() {\n      var localTopics = localStorage.getItem(\"topics\");\n      if(localTopics.length > 1){\n        console.log(\"Shop local!\")\n        this.allTopics = JSON.parse(localTopics)\n      } else {\n        this.loadingTopics = true;\n        let endpoint = `/api/categories/topics/`;\n        try {\n          apiService(endpoint).then(data => {\n            if (data != null) {\n              this.allTopics = data;\n              this.error = false;\n            } else {\n              console.log(\"Something bad happened...\");\n              this.error = true;\n            }\n            this.loadingTopics = false;\n          });\n        } catch (err) {\n          console.log(err);\n        }\n      }\n    },\n    getQuestionData() {\n      if (this.editing) {\n        (this.author = this.question.author),\n          (this.content = this.question.content),\n          (this.nativelanguage = this.question.nativelanguage),\n          (this.learninglanguage = this.question.learninglanguage),\n          (this.topic = this.question.topic),\n          (this.tags = this.question.tags);\n        this.loadingQuestion = false;\n      }\n    },\n    getQuestionData2() {\n      if (this.editing) {\n        this.loadingQuestion = true;\n        let endpoint = `/api/questions/${this.slug}/`;\n        apiService(endpoint).then(data => {\n          if (data) {\n            (this.author = data.author),\n              (this.content = data.content),\n              (this.nativelanguage = data.nativelanguage),\n              (this.learninglanguage = data.learninglanguage),\n              (this.topic = data.topic),\n              (this.tags = data.tags);\n            this.loadingQuestion = false;\n          } else {\n            this.question = null;\n            this.setPageTitle(\"404 - Page Note Found\");\n            this.loadingQuestion = false;\n          }\n        });\n      }\n    }\n  },\n  created() {\n    this.getQuestionData();\n    this.getLanguages();\n    this.getTopics();\n  }\n};\n</script>\n<style scoped></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuestionEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./QuestionEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./QuestionEditor.vue?vue&type=template&id=79044c02&scoped=true&\"\nimport script from \"./QuestionEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./QuestionEditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"79044c02\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VChip,VCombobox,VDialog,VForm,VIcon,VRow,VSelect,VSpacer,VTextarea})\n","// Styles\nimport \"../../../src/components/VAutocomplete/VAutocomplete.sass\"; // Extensions\n\nimport VSelect from '../VSelect/VSelect';\nimport VAutocomplete from '../VAutocomplete/VAutocomplete'; // Utils\n\nimport { keyCodes } from '../../util/helpers';\n/* @vue/component */\n\nexport default VAutocomplete.extend({\n  name: 'v-combobox',\n  props: {\n    delimiters: {\n      type: Array,\n      default: () => []\n    },\n    returnObject: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: () => ({\n    editingIndex: -1\n  }),\n  computed: {\n    computedCounterValue() {\n      return this.multiple ? this.selectedItems.length : (this.internalSearch || '').toString().length;\n    },\n\n    hasSlot() {\n      return VSelect.options.computed.hasSlot.call(this) || this.multiple;\n    },\n\n    isAnyValueAllowed() {\n      return true;\n    },\n\n    menuCanShow() {\n      if (!this.isFocused) return false;\n      return this.hasDisplayedItems || !!this.$slots['no-data'] && !this.hideNoData;\n    }\n\n  },\n  methods: {\n    onInternalSearchChanged(val) {\n      if (val && this.multiple && this.delimiters.length) {\n        const delimiter = this.delimiters.find(d => val.endsWith(d));\n\n        if (delimiter != null) {\n          this.internalSearch = val.slice(0, val.length - delimiter.length);\n          this.updateTags();\n        }\n      }\n\n      this.updateMenuDimensions();\n    },\n\n    genInput() {\n      const input = VAutocomplete.options.methods.genInput.call(this);\n      delete input.data.attrs.name;\n      input.data.on.paste = this.onPaste;\n      return input;\n    },\n\n    genChipSelection(item, index) {\n      const chip = VSelect.options.methods.genChipSelection.call(this, item, index); // Allow user to update an existing value\n\n      if (this.multiple) {\n        chip.componentOptions.listeners = { ...chip.componentOptions.listeners,\n          dblclick: () => {\n            this.editingIndex = index;\n            this.internalSearch = this.getText(item);\n            this.selectedIndex = -1;\n          }\n        };\n      }\n\n      return chip;\n    },\n\n    onChipInput(item) {\n      VSelect.options.methods.onChipInput.call(this, item);\n      this.editingIndex = -1;\n    },\n\n    // Requires a manual definition\n    // to overwrite removal in v-autocomplete\n    onEnterDown(e) {\n      e.preventDefault(); // If has menu index, let v-select-list handle\n\n      if (this.getMenuIndex() > -1) return;\n      this.$nextTick(this.updateSelf);\n    },\n\n    onFilteredItemsChanged(val, oldVal) {\n      if (!this.autoSelectFirst) return;\n      VAutocomplete.options.methods.onFilteredItemsChanged.call(this, val, oldVal);\n    },\n\n    onKeyDown(e) {\n      const keyCode = e.keyCode;\n      VSelect.options.methods.onKeyDown.call(this, e); // If user is at selection index of 0\n      // create a new tag\n\n      if (this.multiple && keyCode === keyCodes.left && this.$refs.input.selectionStart === 0) {\n        this.updateSelf();\n      } else if (keyCode === keyCodes.enter) {\n        this.onEnterDown(e);\n      } // The ordering is important here\n      // allows new value to be updated\n      // and then moves the index to the\n      // proper location\n\n\n      this.changeSelectedIndex(keyCode);\n    },\n\n    onTabDown(e) {\n      // When adding tags, if searching and\n      // there is not a filtered options,\n      // add the value to the tags list\n      if (this.multiple && this.internalSearch && this.getMenuIndex() === -1) {\n        e.preventDefault();\n        e.stopPropagation();\n        return this.updateTags();\n      }\n\n      VAutocomplete.options.methods.onTabDown.call(this, e);\n    },\n\n    selectItem(item) {\n      // Currently only supports items:<string[]>\n      if (this.editingIndex > -1) {\n        this.updateEditing();\n      } else {\n        VAutocomplete.options.methods.selectItem.call(this, item);\n      }\n    },\n\n    setSelectedItems() {\n      if (this.internalValue == null || this.internalValue === '') {\n        this.selectedItems = [];\n      } else {\n        this.selectedItems = this.multiple ? this.internalValue : [this.internalValue];\n      }\n    },\n\n    setValue(value) {\n      VSelect.options.methods.setValue.call(this, value != null ? value : this.internalSearch);\n    },\n\n    updateEditing() {\n      const value = this.internalValue.slice();\n      value[this.editingIndex] = this.internalSearch;\n      this.setValue(value);\n      this.editingIndex = -1;\n    },\n\n    updateCombobox() {\n      const isUsingSlot = Boolean(this.$scopedSlots.selection) || this.hasChips; // If search is not dirty and is\n      // using slot, do nothing\n\n      if (isUsingSlot && !this.searchIsDirty) return; // The internal search is not matching\n      // the internal value, update the input\n\n      if (this.internalSearch !== this.getText(this.internalValue)) this.setValue(); // Reset search if using slot\n      // to avoid a double input\n\n      if (isUsingSlot) this.internalSearch = undefined;\n    },\n\n    updateSelf() {\n      this.multiple ? this.updateTags() : this.updateCombobox();\n    },\n\n    updateTags() {\n      const menuIndex = this.getMenuIndex(); // If the user is not searching\n      // and no menu item is selected\n      // do nothing\n\n      if (menuIndex < 0 && !this.searchIsDirty) return;\n\n      if (this.editingIndex > -1) {\n        return this.updateEditing();\n      }\n\n      const index = this.selectedItems.indexOf(this.internalSearch); // If it already exists, do nothing\n      // this might need to change to bring\n      // the duplicated item to the last entered\n\n      if (index > -1) {\n        const internalValue = this.internalValue.slice();\n        internalValue.splice(index, 1);\n        this.setValue(internalValue);\n      } // If menu index is greater than 1\n      // the selection is handled elsewhere\n      // TODO: find out where\n\n\n      if (menuIndex > -1) return this.internalSearch = null;\n      this.selectItem(this.internalSearch);\n      this.internalSearch = null;\n    },\n\n    onPaste(event) {\n      if (!this.multiple || this.searchIsDirty) return;\n      const pastedItemText = event.clipboardData.getData('text/vnd.vuetify.autocomplete.item+plain');\n\n      if (pastedItemText && this.findExistingIndex(pastedItemText) === -1) {\n        event.preventDefault();\n        VSelect.options.methods.selectItem.call(this, pastedItemText);\n      }\n    }\n\n  }\n});\n//# sourceMappingURL=VCombobox.js.map"],"sourceRoot":""}