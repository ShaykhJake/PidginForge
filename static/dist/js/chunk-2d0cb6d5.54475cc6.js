(self["webpackJsonp"]=self["webpackJsonp"]||[]).push([["chunk-2d0cb6d5"],{"4a2d":function(i,t,e){"use strict";e.r(t);var a=function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("v-card",{attrs:{align:"center"}},[e("v-card-text",{staticClass:"py-1"},[e("v-btn",{staticClass:"ma-1",attrs:{outlined:"",icon:""},on:{click:function(t){return i.stepPosition(-2)},keyup:function(t){return!t.type.indexOf("key")&&i._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:i.stepPosition(-2)}}},[e("v-icon",[i._v("mdi-undo")])],1),e("v-btn",{staticClass:"ma-1",attrs:{outlined:"",icon:"",color:i.color,disabled:!i.loaded},nativeOn:{click:function(t){return i.stop()}}},[e("v-icon",[i._v("mdi-stop")])],1),e("v-btn",{staticClass:"ma-1",attrs:{outlined:"",icon:"",color:i.color,disabled:!i.loaded},nativeOn:{click:function(t){i.playing?i.pause():i.play()}}},[i.paused||!i.loaded?e("v-icon",[i._v("mdi-play")]):e("v-icon",[i._v("mdi-pause")])],1),i.loaded?i._e():e("v-btn",{staticClass:"ma-1",attrs:{outlined:"",icon:"",color:i.color},nativeOn:{click:function(t){i.loaded?i.download():i.reload()}}},[e("v-icon",[i._v("mdi-refresh")])],1),i.loaded&&i.downloadable?e("v-btn",{staticClass:"ma-1",attrs:{outlined:"",icon:"",color:i.color},nativeOn:{click:function(t){i.loaded?i.download():i.reload()}}},[e("v-icon",[i._v("mdi-download")])],1):i._e(),e("v-btn",{staticClass:"ma-1",attrs:{outlined:"",icon:""},on:{click:function(t){return i.stepPosition(2)}}},[e("v-icon",[i._v("mdi-redo")])],1),e("p",{staticClass:"title py-0 my-0"},[i._v(i._s(i.currentTime)+" / "+i._s(i.duration))]),e("v-slider",{staticClass:"mb-0 pb-0",attrs:{color:i.color,step:"0.2","thumb-label":"",min:i.min,max:i.totalDuration,disabled:!i.loaded,height:"1",dense:""},on:{click:i.setPosition},model:{value:i.slideTime,callback:function(t){i.slideTime=t},expression:"slideTime"}}),e("v-btn",{staticClass:"ma-1",attrs:{outlined:"",icon:"",color:i.color,disabled:!i.loaded,hidden:""},nativeOn:{click:function(t){return i.mute()}}},[i.isMuted?e("v-icon",[i._v("mdi-volume-mute")]):e("v-icon",[i._v("mdi-volume-high")])],1)],1),e("audio",{key:i.playerKey,ref:"player",attrs:{id:"player",src:i.file,hidden:""},on:{ended:i.ended,canplay:i.canPlay}})],1)},n=[],o=function(i){return new Date(1e3*i).toISOString().substr(11,8)},s={name:"AudioPlayerComponent",props:{file:{type:[String,File],default:null},autoPlay:{type:Boolean,default:!1},ended:{type:Function,default:function(){}},canPlay:{type:Function,default:function(){}},color:{type:String,default:null},downloadable:{type:Boolean,default:!1}},computed:{duration:function(){return this.audio?o(this.totalDuration):""}},data:function(){return{alive:!0,audioKey:0,playerKey:0,firstPlay:!0,isMuted:!1,loaded:!1,playing:!1,paused:!0,percentage:0,currentTime:"00:00:00",audio:{},totalDuration:0,min:0,max:100,slideTime:0}},methods:{resumePlay:function(){this.setPosition(),this.play()},slidePosition:function(){this.audio.currentTime=parseInt(this.slideTime),this.play()},stepPosition:function(i){this.audio.currentTime=this.audio.currentTime+i},setPosition:function(){this.audio.currentTime=parseInt(this.slideTime)},stop:function(){this.audio.pause(),this.paused=!0,this.playing=!1,this.audio.currentTime=0},togglePlay:function(){this.playing?(this.pause(),this.playing=!1):this.play()},skipToTime:function(i){this.audio.currentTime=i},skipSeek:function(i){this.audio.currentTime=this.audio.currentTime+i},triggerTimeStamp:function(){this.$emit("recordTimeStamp",this.audio.currentTime)},play:function(){var i=this;this.playing||(this.audio.play().then((function(){i.playing=!0})),this.paused=!1)},pause:function(){this.paused=!this.paused,this.paused?this.audio.pause():this.audio.play()},download:function(){this.audio.pause(),window.open(this.file,"download")},mute:function(){this.isMuted=!this.isMuted,this.audio.muted=this.isMuted,this.volumeValue=this.isMuted?0:75},reload:function(){this.audio.load()},_handleLoaded:function(){var i=this;if(!(this.audio.readyState>=2))throw new Error("Failed to load sound file");this.audio.duration===1/0?(this.audio.currentTime=1e101,this.audio.ontimeupdate=function(){i.audio.ontimeupdate=function(){},i.audio.currentTime=0,i.totalDuration=parseInt(i.audio.duration),i.loaded=!0}):(this.totalDuration=parseInt(this.audio.duration),this.$emit("passDuration",this.totalDuration),this.loaded=!0),this.autoPlay&&this.audio.play()},_handlePlayingUI:function(){this.percentage=this.audio.currentTime/this.audio.duration*100,this.slideTime=this.audio.currentTime,this.currentTime=o(this.audio.currentTime),this.playing=!0},_handlePlayPause:function(i){"play"===i.type&&this.firstPlay&&(this.audio.currentTime=0,this.firstPlay&&(this.firstPlay=!1)),"pause"===i.type&&!1===this.paused&&!1===this.playing&&(this.currentTime="00:00:00")},_handleEnded:function(){this.paused=this.playing=!1},init:function(){this.audio.addEventListener("timeupdate",this._handlePlayingUI),this.audio.addEventListener("loadeddata",this._handleLoaded)},emitTimeStamp:function(){this.$emit("recordTimeStamp",this.audio.currentTime)}},mounted:function(){this.audio=this.$refs.player,this.init()},beforeDestroy:function(){this.audio.removeEventListener("timeupdate",this._handlePlayingUI),this.audio.removeEventListener("loadeddata",this._handleLoaded),this.audio.removeEventListener("pause",this._handlePlayPause),this.audio.removeEventListener("play",this._handlePlayPause),this.audio.removeEventListener("ended",this._handleEnded)}},d=s,u=e("2877"),l=e("6544"),r=e.n(l),c=e("8336"),h=e("b0af"),p=e("99d9"),m=e("132d"),f=e("ba0d"),y=Object(u["a"])(d,a,n,!1,null,null,null);t["default"]=y.exports;r()(y,{VBtn:c["a"],VCard:h["a"],VCardText:p["b"],VIcon:m["a"],VSlider:f["a"]})}}]);
//# sourceMappingURL=chunk-2d0cb6d5.54475cc6.js.map