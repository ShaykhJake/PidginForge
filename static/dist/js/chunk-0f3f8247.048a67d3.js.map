{"version":3,"sources":["webpack:///./src/components/translation/TranslationEditor.vue?8cb8","webpack:///./node_modules/vuetify/lib/components/VBtn/index.js","webpack:///./node_modules/vuetify/lib/components/VAutocomplete/index.js","webpack:///./node_modules/vuetify/lib/components/VAutocomplete/VAutocomplete.js","webpack:///./src/components/translation/TranslationEditor.vue?7ee8","webpack:///src/components/translation/TranslationEditor.vue","webpack:///./src/components/translation/TranslationEditor.vue?66a7","webpack:///./node_modules/vuetify/lib/components/VOverflowBtn/VOverflowBtn.js","webpack:///./src/components/translation/TranslationEditor.vue?647d"],"names":["defaultMenuProps","offsetY","offsetOverflow","transition","extend","name","props","allowOverflow","type","Boolean","default","autoSelectFirst","filter","Function","item","queryText","itemText","toLocaleLowerCase","indexOf","hideNoData","menuProps","options","noFilter","searchInput","String","undefined","lazySearch","this","computed","classes","call","selectedIndex","filteredItems","selectedItems","map","getValue","hideSelected","some","hasItem","length","selectedItem","getText","isSearching","internalSearch","allItems","val","$emit","searchIsDirty","multiple","isFocused","hasDisplayedItems","$_menuProps","contentClass","trim","find","i","valueComparator","internalValue","data","listData","items","virtualizedItems","watch","document","addEventListener","onCopy","$refs","input","select","removeEventListener","updateSelf","hasSlot","oldVal","isMenuActive","activateMenu","setSearch","methods","setMenuIndex","$nextTick","menu","getTiles","updateMenuDimensions","updateDimensions","keyCode","left","right","backspace","delete","deleteCurrentItem","readonly","index","currentItem","getDisabled","newIndex","setValue","selectItem","clearableCallback","genInput","attrs","autocomplete","domProps","value","slot","genInputSlot","role","genSelections","e","isDisabled","onFocus","isAppendInner","target","badInput","validity","onKeyDown","changeSelectedIndex","onTabDown","preventDefault","setSelectedItems","selectedValues","event","currentItemText","clipboardData","setData","render","_vm","_h","$createElement","_c","_self","sourceObject","staticClass","_v","userHasTranslation","_e","on","$event","loadTranslation","userTranslationLoaded","user_translation","fetchingSource","numberOfTranslations","showTranslationList","model","callback","$$v","expression","translations","_s","translation","curator","username","curationdate","targetlanguage","upvote_count","downvote_count","user_vote","id","updateVote","published","forkparent","isCurator","forkOverwriteDialog","forkTranslation","forks_count","submittingSave","unsavedChanges","submitSave","checkEdits","editing","openEdit","unsavedChangesDialog","saveEditsThenClose","trashEditsThenClose","confirmDeleteDialog","submittingDelete","deleteTranslation","togglePublish","editor","scopedSlots","_u","key","fn","ref","commands","isActive","class","bold","italic","paragraph","heading","level","alignment","orientation","text_direction","direction","highlighter","allLanguages","loadingLanguages","$set","style","changeEditorFontSize","loadingTranslation","snackColor","snackTimeout","snackbar","snackText","staticRenderFns","components","EditorContent","EditorMenuBar","ElementVoter","TranslationListModal","sourceType","required","passedSource","Object","showTranslation","editorFontSize","languageDialog","translationLoaded","loadedTranslation","submittingFork","currentContent","editable","extensions","content","onUpdate","editorFontClass","getLanguages","console","log","err","newuservote","newdowncount","newupcount","closeEdit","setContent","setOptions","loadImage","command","src","publishing","success","translationid","sourceid","sourcetype","notes","submitLanguage","refetchSourceElement","endpoint","feedSnack","scheme","message","timeout","beforeDestroy","destroy","mounted","created","VAutocomplete","segmented","isAnyValueAllowed","VSelect","last","genSegmentedBtn","genCommaSelection","VTextField","label","genLabel","itemValue","itemObj","computedItems","text","stopPropagation","initialValue","lazyValue","component","VBadge","VBtn","VCard","VCardActions","VCardText","VCardTitle","VChip","VCol","VDialog","VDivider","VIcon","VOverflowBtn","VOverlay","VProgressCircular","VRow","VSnackbar","VSpacer","VToolbar"],"mappings":"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","file":"js/chunk-0f3f8247.048a67d3.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TranslationEditor.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TranslationEditor.vue?vue&type=style&index=0&lang=css&\"","import VBtn from './VBtn';\nexport { VBtn };\nexport default VBtn;\n//# sourceMappingURL=index.js.map","import VAutocomplete from './VAutocomplete';\nexport { VAutocomplete };\nexport default VAutocomplete;\n//# sourceMappingURL=index.js.map","// Styles\nimport \"../../../src/components/VAutocomplete/VAutocomplete.sass\"; // Extensions\n\nimport VSelect, { defaultMenuProps as VSelectMenuProps } from '../VSelect/VSelect';\nimport VTextField from '../VTextField/VTextField'; // Utilities\n\nimport mergeData from '../../util/mergeData';\nimport { keyCodes, getObjectValueByPath } from '../../util/helpers';\nconst defaultMenuProps = { ...VSelectMenuProps,\n  offsetY: true,\n  offsetOverflow: true,\n  transition: false\n};\n/* @vue/component */\n\nexport default VSelect.extend({\n  name: 'v-autocomplete',\n  props: {\n    allowOverflow: {\n      type: Boolean,\n      default: true\n    },\n    autoSelectFirst: {\n      type: Boolean,\n      default: false\n    },\n    filter: {\n      type: Function,\n      default: (item, queryText, itemText) => {\n        return itemText.toLocaleLowerCase().indexOf(queryText.toLocaleLowerCase()) > -1;\n      }\n    },\n    hideNoData: Boolean,\n    menuProps: {\n      type: VSelect.options.props.menuProps.type,\n      default: () => defaultMenuProps\n    },\n    noFilter: Boolean,\n    searchInput: {\n      type: String,\n      default: undefined\n    }\n  },\n\n  data() {\n    return {\n      lazySearch: this.searchInput\n    };\n  },\n\n  computed: {\n    classes() {\n      return { ...VSelect.options.computed.classes.call(this),\n        'v-autocomplete': true,\n        'v-autocomplete--is-selecting-index': this.selectedIndex > -1\n      };\n    },\n\n    computedItems() {\n      return this.filteredItems;\n    },\n\n    selectedValues() {\n      return this.selectedItems.map(item => this.getValue(item));\n    },\n\n    hasDisplayedItems() {\n      return this.hideSelected ? this.filteredItems.some(item => !this.hasItem(item)) : this.filteredItems.length > 0;\n    },\n\n    currentRange() {\n      if (this.selectedItem == null) return 0;\n      return String(this.getText(this.selectedItem)).length;\n    },\n\n    filteredItems() {\n      if (!this.isSearching || this.noFilter || this.internalSearch == null) return this.allItems;\n      return this.allItems.filter(item => this.filter(item, String(this.internalSearch), String(this.getText(item))));\n    },\n\n    internalSearch: {\n      get() {\n        return this.lazySearch;\n      },\n\n      set(val) {\n        this.lazySearch = val;\n        this.$emit('update:search-input', val);\n      }\n\n    },\n\n    isAnyValueAllowed() {\n      return false;\n    },\n\n    isDirty() {\n      return this.searchIsDirty || this.selectedItems.length > 0;\n    },\n\n    isSearching() {\n      return this.multiple && this.searchIsDirty || this.searchIsDirty && this.internalSearch !== this.getText(this.selectedItem);\n    },\n\n    menuCanShow() {\n      if (!this.isFocused) return false;\n      return this.hasDisplayedItems || !this.hideNoData;\n    },\n\n    $_menuProps() {\n      const props = VSelect.options.computed.$_menuProps.call(this);\n      props.contentClass = `v-autocomplete__content ${props.contentClass || ''}`.trim();\n      return { ...defaultMenuProps,\n        ...props\n      };\n    },\n\n    searchIsDirty() {\n      return this.internalSearch != null && this.internalSearch !== '';\n    },\n\n    selectedItem() {\n      if (this.multiple) return null;\n      return this.selectedItems.find(i => {\n        return this.valueComparator(this.getValue(i), this.getValue(this.internalValue));\n      });\n    },\n\n    listData() {\n      const data = VSelect.options.computed.listData.call(this);\n      data.props = { ...data.props,\n        items: this.virtualizedItems,\n        noFilter: this.noFilter || !this.isSearching || !this.filteredItems.length,\n        searchInput: this.internalSearch\n      };\n      return data;\n    }\n\n  },\n  watch: {\n    filteredItems: 'onFilteredItemsChanged',\n    internalValue: 'setSearch',\n\n    isFocused(val) {\n      if (val) {\n        document.addEventListener('copy', this.onCopy);\n        this.$refs.input && this.$refs.input.select();\n      } else {\n        document.removeEventListener('copy', this.onCopy);\n        this.updateSelf();\n      }\n    },\n\n    isMenuActive(val) {\n      if (val || !this.hasSlot) return;\n      this.lazySearch = undefined;\n    },\n\n    items(val, oldVal) {\n      // If we are focused, the menu\n      // is not active, hide no data is enabled,\n      // and items change\n      // User is probably async loading\n      // items, try to activate the menu\n      if (!(oldVal && oldVal.length) && this.hideNoData && this.isFocused && !this.isMenuActive && val.length) this.activateMenu();\n    },\n\n    searchInput(val) {\n      this.lazySearch = val;\n    },\n\n    internalSearch: 'onInternalSearchChanged',\n    itemText: 'updateSelf'\n  },\n\n  created() {\n    this.setSearch();\n  },\n\n  methods: {\n    onFilteredItemsChanged(val, oldVal) {\n      // TODO: How is the watcher triggered\n      // for duplicate items? no idea\n      if (val === oldVal) return;\n      this.setMenuIndex(-1);\n      this.$nextTick(() => {\n        if (!this.internalSearch || val.length !== 1 && !this.autoSelectFirst) return;\n        this.$refs.menu.getTiles();\n        this.setMenuIndex(0);\n      });\n    },\n\n    onInternalSearchChanged() {\n      this.updateMenuDimensions();\n    },\n\n    updateMenuDimensions() {\n      // Type from menuable is not making it through\n      this.isMenuActive && this.$refs.menu && this.$refs.menu.updateDimensions();\n    },\n\n    changeSelectedIndex(keyCode) {\n      // Do not allow changing of selectedIndex\n      // when search is dirty\n      if (this.searchIsDirty) return;\n\n      if (this.multiple && keyCode === keyCodes.left) {\n        if (this.selectedIndex === -1) {\n          this.selectedIndex = this.selectedItems.length - 1;\n        } else {\n          this.selectedIndex--;\n        }\n      } else if (this.multiple && keyCode === keyCodes.right) {\n        if (this.selectedIndex >= this.selectedItems.length - 1) {\n          this.selectedIndex = -1;\n        } else {\n          this.selectedIndex++;\n        }\n      } else if (keyCode === keyCodes.backspace || keyCode === keyCodes.delete) {\n        this.deleteCurrentItem();\n      }\n    },\n\n    deleteCurrentItem() {\n      if (this.readonly) return;\n      const index = this.selectedItems.length - 1;\n\n      if (this.selectedIndex === -1 && index !== 0) {\n        this.selectedIndex = index;\n        return;\n      }\n\n      const currentItem = this.selectedItems[this.selectedIndex];\n      if (this.getDisabled(currentItem)) return;\n      const newIndex = this.selectedIndex === index ? this.selectedIndex - 1 : this.selectedItems[this.selectedIndex + 1] ? this.selectedIndex : -1;\n\n      if (newIndex === -1) {\n        this.setValue(this.multiple ? [] : undefined);\n      } else {\n        this.selectItem(currentItem);\n      }\n\n      this.selectedIndex = newIndex;\n    },\n\n    clearableCallback() {\n      this.internalSearch = undefined;\n      VSelect.options.methods.clearableCallback.call(this);\n    },\n\n    genInput() {\n      const input = VTextField.options.methods.genInput.call(this);\n      input.data = mergeData(input.data, {\n        attrs: {\n          'aria-activedescendant': getObjectValueByPath(this.$refs.menu, 'activeTile.id'),\n          autocomplete: getObjectValueByPath(input.data, 'attrs.autocomplete', 'off')\n        },\n        domProps: {\n          value: this.internalSearch\n        }\n      });\n      return input;\n    },\n\n    genInputSlot() {\n      const slot = VSelect.options.methods.genInputSlot.call(this);\n      slot.data.attrs.role = 'combobox';\n      return slot;\n    },\n\n    genSelections() {\n      return this.hasSlot || this.multiple ? VSelect.options.methods.genSelections.call(this) : [];\n    },\n\n    onClick(e) {\n      if (this.isDisabled) return;\n      this.selectedIndex > -1 ? this.selectedIndex = -1 : this.onFocus();\n      if (!this.isAppendInner(e.target)) this.activateMenu();\n    },\n\n    onInput(e) {\n      if (this.selectedIndex > -1 || !e.target) return;\n      const target = e.target;\n      const value = target.value; // If typing and menu is not currently active\n\n      if (target.value) this.activateMenu();\n      this.internalSearch = value;\n      this.badInput = target.validity && target.validity.badInput;\n    },\n\n    onKeyDown(e) {\n      const keyCode = e.keyCode;\n      VSelect.options.methods.onKeyDown.call(this, e); // The ordering is important here\n      // allows new value to be updated\n      // and then moves the index to the\n      // proper location\n\n      this.changeSelectedIndex(keyCode);\n    },\n\n    onSpaceDown(e) {},\n\n    onTabDown(e) {\n      VSelect.options.methods.onTabDown.call(this, e);\n      this.updateSelf();\n    },\n\n    onUpDown(e) {\n      // Prevent screen from scrolling\n      e.preventDefault(); // For autocomplete / combobox, cycling\n      // interfers with native up/down behavior\n      // instead activate the menu\n\n      this.activateMenu();\n    },\n\n    selectItem(item) {\n      VSelect.options.methods.selectItem.call(this, item);\n      this.setSearch();\n    },\n\n    setSelectedItems() {\n      VSelect.options.methods.setSelectedItems.call(this); // #4273 Don't replace if searching\n      // #4403 Don't replace if focused\n\n      if (!this.isFocused) this.setSearch();\n    },\n\n    setSearch() {\n      // Wait for nextTick so selectedItem\n      // has had time to update\n      this.$nextTick(() => {\n        if (!this.multiple || !this.internalSearch || !this.isMenuActive) {\n          this.internalSearch = !this.selectedItems.length || this.multiple || this.hasSlot ? this.internalSearch || null : this.getText(this.selectedItem);\n        }\n      });\n    },\n\n    updateSelf() {\n      if (!this.searchIsDirty && !this.internalValue) return;\n\n      if (!this.valueComparator(this.internalSearch, this.getValue(this.internalValue))) {\n        this.setSearch();\n      }\n    },\n\n    hasItem(item) {\n      return this.selectedValues.indexOf(this.getValue(item)) > -1;\n    },\n\n    onCopy(event) {\n      if (this.selectedIndex === -1) return;\n      const currentItem = this.selectedItems[this.selectedIndex];\n      const currentItemText = this.getText(currentItem);\n      event.clipboardData.setData('text/plain', currentItemText);\n      event.clipboardData.setData('text/vnd.vuetify.autocomplete.item+plain', currentItemText);\n      event.preventDefault();\n    }\n\n  }\n});\n//# sourceMappingURL=VAutocomplete.js.map","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.sourceObject.id)?_c('v-card',{staticClass:\"calligraphy\",attrs:{\"dense\":\"\"}},[_c('v-card-title',{staticClass:\"py-1 desertsand--text\"},[_vm._v(\" Translations: \"),(!_vm.userHasTranslation)?_c('v-btn',{staticClass:\"primary desertsand--text ma-1\",attrs:{\"outlined\":\"\"},on:{\"click\":function($event){return _vm.loadTranslation(0)}}},[_vm._v(\"Add New\"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-plus-circle\")])],1):_vm._e(),(_vm.userHasTranslation && !_vm.userTranslationLoaded)?_c('v-btn',{staticClass:\"desertsand--text ma-1\",attrs:{\"outlined\":\"\"},on:{\"click\":function($event){return _vm.loadTranslation(_vm.sourceObject.user_translation)}}},[_vm._v(\"View Yours\"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-pencil\")])],1):_vm._e(),_c('v-btn',{staticClass:\"desertsand--text ma-1\",attrs:{\"loading\":_vm.fetchingSource,\"disabled\":_vm.numberOfTranslations < 1,\"outlined\":\"\"},on:{\"click\":function($event){_vm.showTranslationList = true}}},[_vm._v(\" View Published \"),_c('v-badge',{attrs:{\"content\":_vm.numberOfTranslations,\"color\":\"calligraphy darken-1\"}},[_c('v-icon',[_vm._v(\"mdi-script-text-outline\")])],1)],1),_c('v-dialog',{attrs:{\"width\":\"395\"},model:{value:(_vm.showTranslationList),callback:function ($$v) {_vm.showTranslationList=$$v},expression:\"showTranslationList\"}},[void 0,_c('TranslationListModal',{attrs:{\"translation-list\":_vm.sourceObject.translations},on:{\"closeDialog\":function($event){_vm.showTranslationList = false},\"loadTranslation\":_vm.loadTranslation}})],2)],1),(_vm.translationLoaded)?_c('v-card-text',{staticClass:\"desertsand calligraphy--text px-2 ma-0\"},[_c('v-row',{attrs:{\"dense\":\"\",\"wrap\":\"\",\"no-gutters\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_vm._v(\" By \"),_c('span',{staticClass:\"primary--text font-weight-black mx-1\"},[_vm._v(\" \"+_vm._s(_vm.translation.curator.username)+\" \")]),_vm._v(\" on \"+_vm._s(_vm.translation.curationdate)+\" \"),_c('v-chip',{staticClass:\"mx-2\",attrs:{\"outlined\":\"\",\"small\":\"\",\"color\":\"languages\"}},[_vm._v(_vm._s(_vm.translation.targetlanguage))]),_c('ElementVoter',{attrs:{\"up-vote-count\":_vm.translation.upvote_count,\"down-vote-count\":_vm.translation.downvote_count,\"user-vote\":_vm.translation.user_vote,\"elementid\":_vm.translation.id,\"element-type\":\"Translation\",\"text-typography\":\"body-1\"},on:{\"updateVote\":_vm.updateVote}})],1),(!_vm.translation.published)?_c('v-col',{staticClass:\"overline\",attrs:{\"cols\":\"12\"}},[_vm._v(\" ...this translation is currently in draft and not visible to others... \")]):_vm._e(),(_vm.translation.forkparent)?_c('v-col',{staticClass:\"overline\",attrs:{\"cols\":\"12\"}},[_vm._v(\" ...this translation was forked from \"),_c('a',{staticClass:\"primary--text font-weight-black\",on:{\"click\":function($event){$event.preventDefault();return _vm.loadTranslation(_vm.translation.forkparent)}}},[_vm._v(\"Translation ID: \"+_vm._s(_vm.translation.forkparent))]),_vm._v(\"... \")]):_vm._e(),_c('v-col',{attrs:{\"cols\":\"12\"}},[(!_vm.isCurator)?_c('v-toolbar',{staticClass:\"calligraphy pa-0\",attrs:{\"dense\":\"\",\"flat\":\"\"}},[_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"elements desertsand--text\"},on:{\"click\":function($event){_vm.userHasTranslation\n                  ? (_vm.forkOverwriteDialog = true)\n                  : _vm.forkTranslation}}},[_vm._v(\" Fork \"),_c('v-badge',{attrs:{\"content\":_vm.translation.forks_count,\"color\":\"elements darken-2\"}},[_c('v-icon',[_vm._v(\" mdi-source-fork \")])],1)],1),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"300\"},model:{value:(_vm.forkOverwriteDialog),callback:function ($$v) {_vm.forkOverwriteDialog=$$v},expression:\"forkOverwriteDialog\"}},[_c('v-card',{staticClass:\"calligraphy desertsand--text\"},[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"Delete Your Translation?\")]),_c('v-card-text',{staticClass:\"desertsand calligraphy--text pt-1\"},[_vm._v(\" You've already started a translation for this source item. In order to fork a new translation, you must first delete your old. Confirm delete and proceed with fork? \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"garbage desertsand--text\"},on:{\"click\":function($event){_vm.forkOverwriteDialog = false}}},[_vm._v(\"Cancel \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-cancel\")])],1),_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"error desertsand--text\"},on:{\"click\":_vm.forkTranslation}},[_vm._v(\"Proceed \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-source-fork\")])],1)],1)],1)],1),_c('v-btn',{staticClass:\"mr-1\",attrs:{\"disabled\":\"\",\"text\":\"\"}},[_vm._v(\" QC \")])],1):_vm._e(),(_vm.isCurator)?_c('v-toolbar',{staticClass:\"calligraphy pa-0\",attrs:{\"dense\":\"\",\"flat\":\"\"}},[(_vm.editing)?_c('v-btn',{staticClass:\"primary desertsand--text mr-1\",attrs:{\"small\":\"\",\"loading\":_vm.submittingSave,\"disabled\":!_vm.unsavedChanges},on:{\"click\":_vm.submitSave}},[_vm._v(\" Save \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-content-save\")])],1):_vm._e(),(_vm.editing)?_c('v-btn',{staticClass:\"garbage desertsand--text mr-1\",attrs:{\"small\":\"\"},on:{\"click\":_vm.checkEdits}},[_vm._v(\" Close Edit \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-close\")])],1):_vm._e(),(!_vm.editing)?_c('v-btn',{staticClass:\"primary mr-1\",attrs:{\"small\":\"\"},on:{\"click\":_vm.openEdit}},[_vm._v(\" Edit \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\" mdi-pencil \")])],1):_vm._e(),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"300\"},model:{value:(_vm.unsavedChangesDialog),callback:function ($$v) {_vm.unsavedChangesDialog=$$v},expression:\"unsavedChangesDialog\"}},[_c('v-card',{staticClass:\"calligraphy desertsand--text\"},[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"Unsaved Changes\")]),_c('v-card-text',{staticClass:\"desertsand calligraphy--text pt-1\"},[_vm._v(\" You have made changes to your translation. Would you like to save them, or throw them away? \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"primary desertsand--text\"},on:{\"click\":_vm.saveEditsThenClose}},[_vm._v(\"Save\"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-content-save\")])],1),_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"garbage desertsand--text\"},on:{\"click\":_vm.trashEditsThenClose}},[_vm._v(\"Trash\"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-delete\")])],1)],1)],1)],1),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"300\"},model:{value:(_vm.confirmDeleteDialog),callback:function ($$v) {_vm.confirmDeleteDialog=$$v},expression:\"confirmDeleteDialog\"}},[_c('v-card',{staticClass:\"calligraphy desertsand--text\"},[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"Confirm Delete?\")]),_c('v-card-text',{staticClass:\"desertsand calligraphy--text pt-1\"},[_vm._v(\" You've worked so hard; are you sure that you want to flush all of that work down the toilet and deprive the world of your masterpiece? \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"primary desertsand--text\"},on:{\"click\":function($event){_vm.confirmDeleteDialog = false}}},[_vm._v(\"Cancel\"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-content-save\")])],1),_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"garbage desertsand--text\",\"loading\":_vm.submittingDelete},on:{\"click\":_vm.deleteTranslation}},[_vm._v(\"Delete\"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-delete\")])],1)],1)],1)],1),(!_vm.translation.published && !_vm.editing)?_c('v-btn',{staticClass:\"elements desertsand--text mr-1\",attrs:{\"small\":\"\"},on:{\"click\":_vm.togglePublish}},[_vm._v(\" Publish\"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-eye\")])],1):_vm._e(),(_vm.translation.published && !_vm.editing)?_c('v-btn',{staticClass:\"elements desertsand--text mr-1\",attrs:{\"small\":\"\"},on:{\"click\":_vm.togglePublish}},[_vm._v(\" Return to Draft\"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-eye-off\")])],1):_vm._e(),(!_vm.editing)?_c('v-btn',{staticClass:\"garbage desertsand--text mr-1\",attrs:{\"small\":\"\"},on:{\"click\":function($event){_vm.confirmDeleteDialog = true}}},[_vm._v(\" Delete \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\" mdi-delete \")])],1):_vm._e()],1):_vm._e()],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[(_vm.isCurator && _vm.editing)?_c('editor-menu-bar',{attrs:{\"editor\":_vm.editor},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n                  var commands = ref.commands;\n                  var isActive = ref.isActive;\nreturn [_c('div',{staticClass:\"desertsand--text\"},[_c('v-toolbar',{staticClass:\"calligraphy\",attrs:{\"dense\":\"\",\"flat\":\"\"}},[_c('v-btn',{class:{ 'is-active': isActive.bold() },attrs:{\"small\":\"\",\"icon\":\"\",\"color\":\"sandstone\"},on:{\"click\":commands.bold}},[_c('v-icon',[_vm._v(\" mdi-format-bold \")])],1),_c('v-btn',{class:{ 'is-active': isActive.italic() },attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"sandstone\"},on:{\"click\":commands.italic}},[_c('v-icon',[_vm._v(\" mdi-format-italic \")])],1),_c('v-divider',{staticClass:\"mx-1\",attrs:{\"inset\":\"\",\"vertical\":\"\"}}),_c('v-btn',{class:{ 'is-active': isActive.paragraph() },attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"sandstone\"},on:{\"click\":commands.paragraph}},[_c('v-icon',[_vm._v(\" mdi-format-paragraph \")])],1),_c('v-btn',{class:{ 'is-active': isActive.heading({ level: 1 }) },attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"sandstone\"},on:{\"click\":function($event){return commands.heading({ level: 1 })}}},[_c('v-icon',[_vm._v(\" mdi-format-header-1 \")])],1),_c('v-btn',{class:{ 'is-active': isActive.heading({ level: 2 }) },attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"sandstone\"},on:{\"click\":function($event){return commands.heading({ level: 2 })}}},[_c('v-icon',[_vm._v(\" mdi-format-header-2 \")])],1),_c('v-btn',{class:{ 'is-active': isActive.heading({ level: 3 }) },attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"sandstone\"},on:{\"click\":function($event){return commands.heading({ level: 3 })}}},[_c('v-icon',[_vm._v(\" mdi-format-header-3 \")])],1),_c('v-divider',{staticClass:\"mx-1\",attrs:{\"inset\":\"\",\"vertical\":\"\"}}),_c('v-btn',{class:{\n                      'is-active': isActive.alignment({ orientation: 'left' })\n                    },attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"sandstone\"},on:{\"click\":function($event){return commands.alignment({ orientation: 'left' })}}},[_c('v-icon',[_vm._v(\" mdi-format-align-left \")])],1),_c('v-btn',{class:{\n                      'is-active': isActive.alignment({\n                        orientation: 'center'\n                      })\n                    },attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"sandstone\"},on:{\"click\":function($event){return commands.alignment({ orientation: 'center' })}}},[_c('v-icon',[_vm._v(\" mdi-format-align-center \")])],1),_c('v-btn',{class:{\n                      'is-active': isActive.alignment({\n                        orientation: 'right'\n                      })\n                    },attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"sandstone\"},on:{\"click\":function($event){return commands.alignment({ orientation: 'right' })}}},[_c('v-icon',[_vm._v(\" mdi-format-align-right \")])],1),_c('v-btn',{class:{\n                      'is-active': isActive.text_direction({\n                        direction: 'ltr'\n                      })\n                    },attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"sandstone\"},on:{\"click\":function($event){return commands.text_direction({ direction: 'ltr' })}}},[_c('v-icon',[_vm._v(\" mdi-format-textdirection-l-to-r \")])],1),_c('v-btn',{class:{\n                      'is-active': isActive.text_direction({\n                        direction: 'rtl'\n                      })\n                    },attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"sandstone\"},on:{\"click\":function($event){return commands.text_direction({ direction: 'rtl' })}}},[_c('v-icon',[_vm._v(\" mdi-format-textdirection-r-to-l \")])],1),_c('v-divider',{staticClass:\"mx-1\",attrs:{\"inset\":\"\",\"vertical\":\"\"}}),_c('v-btn',{class:{ 'is-active': isActive.highlighter() },attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"primary\"},on:{\"click\":commands.highlighter}},[_c('v-icon',[_vm._v(\" mdi-marker \")])],1),_c('v-divider',{staticClass:\"mx-1\",attrs:{\"inset\":\"\",\"vertical\":\"\"}}),_c('v-overflow-btn',{staticClass:\"pa-0\",attrs:{\"items\":_vm.allLanguages,\"loading\":_vm.loadingLanguages,\"editable\":\"\",\"dense\":\"\",\"color\":\"sandstone calligraphy--text\",\"label\":\"Select Language\",\"hide-details\":\"\",\"overflow\":\"\",\"item-color\":\"primary\"},on:{\"change\":function($event){_vm.unsavedChanges = true}},model:{value:(_vm.translation.targetlanguage),callback:function ($$v) {_vm.$set(_vm.translation, \"targetlanguage\", $$v)},expression:\"translation.targetlanguage\"}}),_c('v-spacer')],1)],1)]}}],null,false,374960701)}):_vm._e(),_c('editor-content',{staticClass:\"editor-box\",style:(_vm.editorFontClass),attrs:{\"editor\":_vm.editor}}),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.changeEditorFontSize('down')}}},[_c('v-icon',[_vm._v(\"mdi-magnify-minus\")])],1),_vm._v(\" Text Size \"),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.changeEditorFontSize('up')}}},[_c('v-icon',[_vm._v(\"mdi-magnify-plus\")])],1)],1)],1)],1):_vm._e()],1):_vm._e(),_c('v-overlay',{attrs:{\"value\":_vm.loadingTranslation,\"absolute\":\"\",\"color\":\"calligraphy\",\"opacity\":\"0.75\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"64\"}})],1),_c('v-snackbar',{attrs:{\"top\":\"\",\"color\":_vm.snackColor,\"timeout\":_vm.snackTimeout},model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\" \"+_vm._s(_vm.snackText)+\" \"),_c('v-btn',{staticClass:\"desertsand--text\",attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.snackbar = false}}},[_vm._v(\" Close \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-card class=\"calligraphy\" dense v-if=\"sourceObject.id\">\n      <v-card-title class=\"py-1 desertsand--text\">\n        Translations:\n        <v-btn\n          outlined\n          v-if=\"!userHasTranslation\"\n          class=\"primary desertsand--text ma-1\"\n          @click=\"loadTranslation(0)\"\n          >Add New<v-icon right>mdi-plus-circle</v-icon></v-btn\n        >\n        <v-btn\n          v-if=\"userHasTranslation && !userTranslationLoaded\"\n          class=\"desertsand--text ma-1\"\n          outlined\n          @click=\"loadTranslation(sourceObject.user_translation)\"\n          >View Yours<v-icon right>mdi-pencil</v-icon></v-btn\n        >\n        <v-btn\n          :loading=\"fetchingSource\"\n          :disabled=\"numberOfTranslations < 1\"\n          @click=\"showTranslationList = true\"\n          class=\"desertsand--text ma-1\"\n          outlined\n        >\n          View Published\n          <v-badge :content=\"numberOfTranslations\" color=\"calligraphy darken-1\">\n            <v-icon>mdi-script-text-outline</v-icon>\n          </v-badge>\n        </v-btn>\n\n        <v-dialog v-model=\"showTranslationList\" width=\"395\">\n          <template> </template>\n          <TranslationListModal\n            @closeDialog=\"showTranslationList = false\"\n            :translation-list=\"sourceObject.translations\"\n            @loadTranslation=\"loadTranslation\"\n          />\n        </v-dialog>\n      </v-card-title>\n\n      <v-card-text\n        class=\"desertsand calligraphy--text px-2 ma-0\"\n        v-if=\"translationLoaded\"\n      >\n        <v-row dense wrap no-gutters>\n          <v-col cols=\"12\">\n            By\n            <span class=\"primary--text font-weight-black mx-1\">\n              {{ translation.curator.username }}\n            </span>\n            on {{ translation.curationdate }}\n            <v-chip outlined small color=\"languages\" class=\"mx-2\">{{\n              translation.targetlanguage\n            }}</v-chip>\n\n            <ElementVoter\n              @updateVote=\"updateVote\"\n              :up-vote-count=\"translation.upvote_count\"\n              :down-vote-count=\"translation.downvote_count\"\n              :user-vote=\"translation.user_vote\"\n              :elementid=\"translation.id\"\n              element-type=\"Translation\"\n              text-typography=\"body-1\"\n            />\n          </v-col>\n          <v-col cols=\"12\" class=\"overline\" v-if=\"!translation.published\">\n            ...this translation is currently in draft and not visible to\n            others...\n          </v-col>\n          <v-col cols=\"12\" class=\"overline\" v-if=\"translation.forkparent\">\n            ...this translation was forked from\n            <a\n              class=\"primary--text font-weight-black\"\n              @click.prevent=\"loadTranslation(translation.forkparent)\"\n              >Translation ID: {{ translation.forkparent }}</a\n            >...\n          </v-col>\n\n          <v-col cols=\"12\">\n            <v-toolbar dense v-if=\"!isCurator\" flat class=\"calligraphy pa-0\">\n              <v-btn\n                small\n                color=\"elements desertsand--text\"\n                @click=\"\n                  userHasTranslation\n                    ? (forkOverwriteDialog = true)\n                    : forkTranslation\n                \"\n              >\n                Fork\n                <v-badge\n                  :content=\"translation.forks_count\"\n                  color=\"elements darken-2\"\n                >\n                  <v-icon>\n                    mdi-source-fork\n                  </v-icon>\n                </v-badge>\n              </v-btn>\n              <v-dialog\n                v-model=\"forkOverwriteDialog\"\n                persistent\n                max-width=\"300\"\n              >\n                <v-card class=\"calligraphy desertsand--text\">\n                  <v-card-title class=\"headline\"\n                    >Delete Your Translation?</v-card-title\n                  >\n                  <v-card-text class=\"desertsand calligraphy--text pt-1\">\n                    You've already started a translation for this source item.\n                    In order to fork a new translation, you must first delete\n                    your old. Confirm delete and proceed with fork?\n                  </v-card-text>\n                  <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn\n                      small\n                      color=\"garbage desertsand--text\"\n                      @click=\"forkOverwriteDialog = false\"\n                      >Cancel <v-icon right>mdi-cancel</v-icon></v-btn\n                    >\n                    <v-btn\n                      small\n                      color=\"error desertsand--text\"\n                      @click=\"forkTranslation\"\n                      >Proceed <v-icon right>mdi-source-fork</v-icon></v-btn\n                    >\n                  </v-card-actions>\n                </v-card>\n              </v-dialog>\n\n              <v-btn disabled text class=\"mr-1\">\n                QC\n              </v-btn>\n            </v-toolbar>\n\n            <v-toolbar v-if=\"isCurator\" dense flat class=\"calligraphy pa-0\">\n              <v-btn\n                v-if=\"editing\"\n                small\n                class=\"primary desertsand--text mr-1\"\n                @click=\"submitSave\"\n                :loading=\"submittingSave\"\n                :disabled=\"!unsavedChanges\"\n              >\n                Save\n                <v-icon right>mdi-content-save</v-icon>\n              </v-btn>\n              <v-btn\n                v-if=\"editing\"\n                small\n                class=\"garbage desertsand--text mr-1\"\n                @click=\"checkEdits\"\n              >\n                Close Edit\n                <v-icon right>mdi-close</v-icon>\n              </v-btn>\n              <v-btn\n                v-if=\"!editing\"\n                class=\"primary mr-1\"\n                @click=\"openEdit\"\n                small\n              >\n                Edit\n                <v-icon right>\n                  mdi-pencil\n                </v-icon>\n              </v-btn>\n\n              <v-dialog\n                v-model=\"unsavedChangesDialog\"\n                persistent\n                max-width=\"300\"\n              >\n                <v-card class=\"calligraphy desertsand--text\">\n                  <v-card-title class=\"headline\">Unsaved Changes</v-card-title>\n                  <v-card-text class=\"desertsand calligraphy--text pt-1\">\n                    You have made changes to your translation. Would you like to\n                    save them, or throw them away?\n                  </v-card-text>\n                  <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn\n                      small\n                      color=\"primary desertsand--text\"\n                      @click=\"saveEditsThenClose\"\n                      >Save<v-icon right>mdi-content-save</v-icon></v-btn\n                    >\n                    <v-btn\n                      small\n                      color=\"garbage desertsand--text\"\n                      @click=\"trashEditsThenClose\"\n                      >Trash<v-icon right>mdi-delete</v-icon></v-btn\n                    >\n                  </v-card-actions>\n                </v-card>\n              </v-dialog>\n\n              <v-dialog\n                v-model=\"confirmDeleteDialog\"\n                persistent\n                max-width=\"300\"\n              >\n                <v-card class=\"calligraphy desertsand--text\">\n                  <v-card-title class=\"headline\">Confirm Delete?</v-card-title>\n                  <v-card-text class=\"desertsand calligraphy--text pt-1\">\n                    You've worked so hard; are you sure that you want to flush\n                    all of that work down the toilet and deprive the world of\n                    your masterpiece?\n                  </v-card-text>\n                  <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn\n                      small\n                      color=\"primary desertsand--text\"\n                      @click=\"confirmDeleteDialog = false\"\n                      >Cancel<v-icon right>mdi-content-save</v-icon></v-btn\n                    >\n                    <v-btn\n                      small\n                      color=\"garbage desertsand--text\"\n                      @click=\"deleteTranslation\"\n                      :loading=\"submittingDelete\"\n                      >Delete<v-icon right>mdi-delete</v-icon></v-btn\n                    >\n                  </v-card-actions>\n                </v-card>\n              </v-dialog>\n\n              <v-btn\n                small\n                class=\"elements desertsand--text mr-1\"\n                v-if=\"!translation.published && !editing\"\n                @click=\"togglePublish\"\n              >\n                Publish<v-icon right>mdi-eye</v-icon>\n              </v-btn>\n              <v-btn\n                small\n                class=\"elements desertsand--text mr-1\"\n                v-if=\"translation.published && !editing\"\n                @click=\"togglePublish\"\n              >\n                Return to Draft<v-icon right>mdi-eye-off</v-icon>\n              </v-btn>\n              <v-btn\n                small\n                v-if=\"!editing\"\n                class=\"garbage desertsand--text mr-1\"\n                @click=\"confirmDeleteDialog = true\"\n              >\n                Delete\n                <v-icon right>\n                  mdi-delete\n                </v-icon>\n              </v-btn>\n            </v-toolbar>\n          </v-col>\n          <v-col cols=\"12\">\n            <editor-menu-bar\n              v-if=\"isCurator && editing\"\n              :editor=\"editor\"\n              v-slot=\"{ commands, isActive }\"\n            >\n              <div class=\"desertsand--text\">\n                <v-toolbar dense flat class=\"calligraphy\">\n                    <v-btn\n                      small\n                      icon\n                      color=\"sandstone\"\n                      :class=\"{ 'is-active': isActive.bold() }\"\n                      @click=\"commands.bold\"\n                    >\n                      <v-icon>\n                        mdi-format-bold\n                      </v-icon>\n                    </v-btn>\n                    <v-btn\n                      icon\n                      small\n                      color=\"sandstone\"\n                      :class=\"{ 'is-active': isActive.italic() }\"\n                      @click=\"commands.italic\"\n                    >\n                      <v-icon>\n                        mdi-format-italic\n                      </v-icon>\n                    </v-btn>\n                    <v-divider class=\"mx-1\" inset vertical></v-divider>\n                    <v-btn\n                      icon\n                      small\n                      color=\"sandstone\"\n                      :class=\"{ 'is-active': isActive.paragraph() }\"\n                      @click=\"commands.paragraph\"\n                    >\n                      <v-icon>\n                        mdi-format-paragraph\n                      </v-icon>\n                    </v-btn>\n                    <v-btn\n                      icon\n                      small\n                      color=\"sandstone\"\n                      :class=\"{ 'is-active': isActive.heading({ level: 1 }) }\"\n                      @click=\"commands.heading({ level: 1 })\"\n                    >\n                      <v-icon>\n                        mdi-format-header-1\n                      </v-icon>\n                    </v-btn>\n                    <v-btn\n                      icon\n                      small\n                      color=\"sandstone\"\n                      :class=\"{ 'is-active': isActive.heading({ level: 2 }) }\"\n                      @click=\"commands.heading({ level: 2 })\"\n                    >\n                      <v-icon>\n                        mdi-format-header-2\n                      </v-icon>\n                    </v-btn>\n                    <v-btn\n                      icon\n                      small\n                      color=\"sandstone\"\n                      :class=\"{ 'is-active': isActive.heading({ level: 3 }) }\"\n                      @click=\"commands.heading({ level: 3 })\"\n                    >\n                      <v-icon>\n                        mdi-format-header-3\n                      </v-icon>\n                    </v-btn>\n\n                    <v-divider class=\"mx-1\" inset vertical></v-divider>\n\n                    <v-btn\n                      icon\n                      small\n                      color=\"sandstone\"\n                      :class=\"{\n                        'is-active': isActive.alignment({ orientation: 'left' })\n                      }\"\n                      @click=\"commands.alignment({ orientation: 'left' })\"\n                    >\n                      <v-icon>\n                        mdi-format-align-left\n                      </v-icon>\n                    </v-btn>\n\n                    <v-btn\n                      icon\n                      small\n                      color=\"sandstone\"\n                      :class=\"{\n                        'is-active': isActive.alignment({\n                          orientation: 'center'\n                        })\n                      }\"\n                      @click=\"commands.alignment({ orientation: 'center' })\"\n                    >\n                      <v-icon>\n                        mdi-format-align-center\n                      </v-icon>\n                    </v-btn>\n\n                    <v-btn\n                      icon\n                      small\n                      color=\"sandstone\"\n                      :class=\"{\n                        'is-active': isActive.alignment({\n                          orientation: 'right'\n                        })\n                      }\"\n                      @click=\"commands.alignment({ orientation: 'right' })\"\n                    >\n                      <v-icon>\n                        mdi-format-align-right\n                      </v-icon>\n                    </v-btn>\n\n                    <v-btn\n                      icon\n                      small\n                      color=\"sandstone\"\n                      :class=\"{\n                        'is-active': isActive.text_direction({\n                          direction: 'ltr'\n                        })\n                      }\"\n                      @click=\"commands.text_direction({ direction: 'ltr' })\"\n                    >\n                      <v-icon>\n                        mdi-format-textdirection-l-to-r\n                      </v-icon>\n                    </v-btn>\n                    <v-btn\n                      icon\n                      small\n                      color=\"sandstone\"\n                      :class=\"{\n                        'is-active': isActive.text_direction({\n                          direction: 'rtl'\n                        })\n                      }\"\n                      @click=\"commands.text_direction({ direction: 'rtl' })\"\n                    >\n                      <v-icon>\n                        mdi-format-textdirection-r-to-l\n                      </v-icon>\n                    </v-btn>\n\n                    <v-divider class=\"mx-1\" inset vertical></v-divider>\n\n                    <v-btn\n                      icon\n                      small\n                      color=\"primary\"\n                      :class=\"{ 'is-active': isActive.highlighter() }\"\n                      @click=\"commands.highlighter\"\n                    >\n                      <v-icon>\n                        mdi-marker\n                      </v-icon>\n                    </v-btn>\n\n                    <v-divider class=\"mx-1\" inset vertical></v-divider>\n\n                  <v-overflow-btn\n                    @change=\"unsavedChanges = true\"\n                    :items=\"allLanguages\"\n                    v-model=\"translation.targetlanguage\"\n                    :loading=\"loadingLanguages\"\n                    editable\n                    dense\n                    color=\"sandstone calligraphy--text\"\n                    label=\"Select Language\"\n                    hide-details\n                    class=\"pa-0\"\n                    overflow\n                    item-color=\"primary\"\n                  ></v-overflow-btn>\n                  <v-spacer></v-spacer>\n                </v-toolbar>\n              </div>\n            </editor-menu-bar>\n            <editor-content :editor=\"editor\" :style=\"editorFontClass\" class=\"editor-box\" />\n            <v-btn icon @click=\"changeEditorFontSize('down')\">\n                  <v-icon>mdi-magnify-minus</v-icon>\n                </v-btn>\n                Text Size\n                <v-btn icon @click=\"changeEditorFontSize('up')\">\n                  <v-icon>mdi-magnify-plus</v-icon>\n            </v-btn>\n          </v-col>\n        </v-row>\n      </v-card-text>\n    </v-card>\n    <v-overlay\n      :value=\"loadingTranslation\"\n      absolute\n      color=\"calligraphy\"\n      opacity=\"0.75\"\n    >\n      <v-progress-circular indeterminate size=\"64\"></v-progress-circular>\n    </v-overlay>\n\n    <v-snackbar\n      top\n      v-model=\"snackbar\"\n      :color=\"snackColor\"\n      :timeout=\"snackTimeout\"\n    >\n      {{ snackText }}\n      <v-btn class=\"desertsand--text\" text @click=\"snackbar = false\">\n        Close\n      </v-btn>\n    </v-snackbar>\n  </div>\n</template>\n\n<script>\n// Import the editor\n// import TranslationListModal from \"@/components/translation/TranslationListModal.vue\";\nimport { apiService } from \"@/common/api.service.js\";\nimport ElementVoter from \"@/components/elements/ElementVoter.vue\";\n\nimport { Editor, EditorContent, EditorMenuBar } from \"tiptap\";\nimport {\n  Blockquote,\n  HardBreak,\n  Heading,\n  Bold,\n  Italic,\n  Link,\n  Strike,\n  Underline,\n  History\n} from \"tiptap-extensions\";\nimport { default as Alignment } from \"@/components/tiptaptoo/Alignment.js\";\nimport { default as TextDirection } from \"@/components/tiptaptoo/TextDirection.js\";\nimport { default as Highlighter } from \"@/components/tiptaptoo/Highlighter.js\";\n\nexport default {\n  name: \"TranslationEditor\",\n  components: {\n    EditorContent,\n    EditorMenuBar,\n    ElementVoter,\n    // TranslationEditor: () =>\n    //   import(\n    //     /* webpackPrefetch: true */ \"@/components/translation/TranslationEditor.vue\"\n    //   ),\n    TranslationListModal: () =>\n      import(\n        /* webpackPrefetch: true */ \"@/components/translation/TranslationListModal.vue\"\n      )\n  },\n  props: {\n    sourceType: {\n      type: String,\n      required: true\n    },\n    passedSource: {\n      type: Object,\n      required: true\n    }\n  },\n  data() {\n    return {\n      sourceObject: {},\n      translation: {\n        targetlanguage: \"\"\n      },\n      fetchingSource: false,\n\n      showTranslationList: false,\n      showTranslation: false,\n\n      editorFontSize: 1,\n      languageDialog: false,\n      allLanguages: [],\n      loadingLanguages: false,\n\n      translationLoaded: false,\n      loadedTranslation: 0,\n      loadingTranslation: false,\n\n      snackbar: false,\n      snackColor: \"primary desertsand--text\",\n      snackTimeout: 2000,\n      snackText: \"\",\n\n      submittingFork: false,\n      submittingSave: false,\n      submittingDelete: false,\n      forkOverwriteDialog: false,\n\n      editing: false,\n      unsavedChangesDialog: false,\n      unsavedChanges: false,\n      currentContent: ``,\n      confirmDeleteDialog: false,\n      editor: new Editor({\n        editable: false,\n        extensions: [\n          new Blockquote(),\n          new HardBreak(),\n          new Heading({ levels: [1, 2, 3] }),\n          new Bold(),\n          new Alignment(),\n          new TextDirection(),\n          new Italic(),\n          new Link(),\n          new Strike(),\n          new Underline(),\n          new History(),\n          new Highlighter()\n        ],\n        content: `\n          Loading\n         `,\n        onUpdate: () => {\n          this.unsavedChanges = true;\n          // console.log(\"Unsaved changes\");\n        },\n      })\n    };\n  },\n  watch: {},\n  computed: {\n    isCurator() {\n      if (this.translation.curator) {\n        return (\n          this.translation.curator.username ===\n          window.localStorage.getItem(\"username\")\n        );\n      } else {\n        return false;\n      }\n    },\n    editorFontClass(){\n      return `font-size:${this.editorFontSize}em`\n    },\n    numberOfTranslations() {\n      if (this.sourceObject.translations) {\n        return this.sourceObject.translations.length;\n      } else {\n        return 0;\n      }\n    },\n    userHasTranslation() {\n      return this.sourceObject.user_translation > 0 ? true : false;\n    },\n    userTranslationLoaded() {\n      return this.translation.id === this.sourceObject.user_translation;\n    }\n  },\n  methods: {\n    getLanguages() {\n      this.loadingLanguages = true;\n      let endpoint = `/api/categories/languages/`;\n      try {\n        apiService(endpoint).then(data => {\n          if (data != null) {\n            this.allLanguages = data;\n            this.error = false;\n          } else {\n            console.log(\"Something bad happened...\");\n            this.error = true;\n          }\n          this.loadingLanguages = false;\n        });\n      } catch (err) {\n        console.log(err);\n      }\n    },\n    changeEditorFontSize(direction){\n      if(direction===\"up\"){\n        if(this.editorFontSize < 3.5){\n          this.editorFontSize += 0.15\n        }\n      } else {\n        if(this.editorFontSize > 0.5){\n          this.editorFontSize -= 0.15\n        }\n      }\n    },\n    updateVote(data) {\n      this.translation.user_vote = data.newuservote;\n      this.translation.downvote_count = data.newdowncount;\n      this.translation.upvote_count = data.newupcount;\n    },\n    checkEdits() {\n      if (this.unsavedChanges) {\n        this.unsavedChangesDialog = true;\n      } else {\n        this.closeEdit();\n      }\n    },\n    saveEditsThenClose() {\n      this.unsavedChangesDialog = false;\n      if (this.submitSave()) {\n        this.closeEdit();\n      } else {\n        console.log(\"error saving\");\n      }\n    },\n    trashEditsThenClose() {\n      this.unsavedChangesDialog = false;\n      this.editor.setContent(this.currentContent);\n      this.closeEdit();\n    },\n    closeEdit() {\n      this.editing = false;\n      this.editor.setOptions({\n        editable: this.editing\n      });\n    },\n    openEdit() {\n      this.editing = true;\n      this.editor.setOptions({\n        editable: this.editing\n      });\n    },\n    loadImage: function(command) {\n      command({\n        src:\n          \"https://66.media.tumblr.com/dcd3d24b79d78a3ee0f9192246e727f1/tumblr_o00xgqMhPM1qak053o1_400.gif\"\n      });\n    },\n    togglePublish() {\n      this.publishing = true;\n      let endpoint = \"/api/elements/translation/publish/\";\n\n      try {\n        apiService(endpoint, \"POST\", { pk: this.translation.id }).then(data => {\n          if (data != null) {\n            if (data.success == true) {\n              // console.log(data);\n              // this.$emit(\"hideElement\")\n              this.translation.published = data.published;\n              this.refetchSourceElement();\n            } else {\n              // this.alertType = 'error';\n            }\n          } else {\n            // this.alertType = 'error';\n          }\n          this.publishing = false;\n        });\n      } catch (err) {\n        console.log(err);\n      }\n    },\n\n    loadTranslation(translationid) {\n      this.loadingTranslation = true;\n      if (translationid === 0) {\n        // CREATE A NEW TRANSCRIPT IF THERE ISN'T ONE\n        // console.log(\"Creating new translation...\")\n        let endpoint = `/api/elements/translationz/`;\n        let payload = {\n          // elementtype: this.sourceType,\n          // elementslug: this.elementSlug,\n          sourceid: this.sourceObject.id,\n          sourcetype: this.sourceType,\n          content: \"new translation\",\n          targetlanguage: \"English\"\n          // usertranscript: 0\n        };\n        // console.log(payload);\n        apiService(endpoint, \"POST\", payload).then(data => {\n          if (data) {\n            this.translation = data;\n            this.sourceObject.user_translation = this.translation.id;\n            this.translationLoaded = true;\n            // this.isNewTranslation = true;\n            this.feedSnack(\n              \"success darken-1 desertsand--text body-1\",\n              \"New translation created!\",\n              2750\n            );\n            this.currentContent = this.translation.content;\n            this.editor.setContent(this.currentContent);\n          } else {\n            console.log(\"Something went wrong\");\n            this.translationLoaded = false;\n          }\n          this.loadingTranslation = false;\n        });\n      } else {\n        // Try to load existing translation\n        let endpoint = `/api/elements/translationz/${translationid}/`;\n        try {\n          apiService(endpoint).then(data => {\n            if (data.id) {\n              this.translation = data;\n              this.translationLoaded = true;\n              this.currentContent = this.translation.content;\n              this.editor.setContent(this.currentContent);\n            } else {\n              this.feedSnack(\n                \"elements darken-1 desertsand--text body-1\",\n                \"Error loading translation!\",\n                2750\n              );\n              this.translation = {};\n              this.translationLoaded = false;\n              // this.translation = {};\n              // this.translationLoaded = false;\n              // this.showTranslation = false;\n            }\n            this.loadingTranslation = false;\n          });\n        } catch (err) {\n          console.log(err);\n          this.loadTranslation = false;\n        }\n\n        // this.$refs.scripteditor.loadTranslation(translationid);\n      }\n    },\n    async submitSave() {\n      // CREATE A NEW translation...\n      this.submittingSave = true;\n      let content = (this.currentContent = this.editor.getJSON());\n      let endpoint = `/api/elements/translationz/${this.translation.id}/`;\n      let payload = {\n        content: content,\n        // notes: \"\",\n        targetlanguage: this.translation.targetlanguage\n      };\n      apiService(endpoint, \"PATCH\", payload).then(data => {\n        if (data) {\n          this.unsavedChanges = false;\n          this.submittingSave = false;\n          this.feedSnack(\n            \"success darken-1 desertsand--text body-1\",\n            \"Edits have been saved!\",\n            2250\n          );\n          return true;\n        } else {\n          this.submittingSave = false;\n          return false;\n        }\n      });\n    },\n    deleteTranslation() {\n      this.submittingDelete = true;\n      let endpoint = `/api/elements/translationz/${this.translation.id}/`;\n      try {\n        apiService(endpoint, \"DELETE\").then(() => {\n          this.feedSnack(\n            \"garbage darken-1 desertsand--text body-1\",\n            \"Translation deleted! :-(\",\n            2750\n          );\n          this.refetchSourceElement();\n          // this.$router.go()\n          this.submittingDelete = false;\n          this.confirmDeleteDialog = false;\n          this.translationLoaded = false;\n        });\n      } catch (err) {\n        console.log(err);\n      }\n    },\n    forkTranslation() {\n      // CREATE A NEW TRANSLATION...\n      this.submittingFork = true;\n      let content = this.editor.getJSON();\n      let endpoint = `/api/elements/translationz/`;\n      let dateStamp = new Date();\n      let payload = {\n        sourcetype: this.sourceType,\n        sourceid: this.sourceObject.id,\n        forkparent: this.translation.id,\n        // usertranscript: this.sourceObject.user_transcript,\n        content: content,\n        notes: `This translation was forked from ${\n          this.translation.curator\n        }'s translation on ${dateStamp.toDateString()}`\n      };\n      apiService(endpoint, \"POST\", payload).then(data => {\n        if (data) {\n          this.loadTranslation(data.id);\n          this.refetchSourceElement();\n        } else {\n          console.log(\"There was a problem\");\n        }\n        this.submittingFork = false;\n      });\n    },\n    submitLanguage() {\n      console.log(\"submitting\");\n    },\n    refetchSourceElement() {\n      this.fetchingSource = true;\n      let endpoint = ``;\n      if (this.sourceType === \"graphic\") {\n        endpoint = `/api/elements/graphicz/${this.sourceObject.id}/`;\n      } else if (this.sourceType === \"transcript\") {\n        endpoint = `/api/elements/transcriptz/${this.sourceObject.id}/`;\n      }\n      apiService(endpoint).then(data => {\n        if (data) {\n          this.sourceObject = data;\n\n        } else {\n          console.log(\"Problem\");\n        }\n        this.fetchingSource = false;\n      });\n    },\n    feedSnack(scheme, message, timeout) {\n      this.snackColor = scheme;\n      this.snackText = message;\n      this.snackTimeout = timeout;\n      this.snackbar = true;\n    }\n  },\n  beforeDestroy() {\n    this.editor.destroy();\n  },\n  mounted() {\n    this.sourceObject = this.passedSource;\n    // this.refetchSourceElement();\n  },\n  created() {\n    this.getLanguages();\n  }\n};\n</script>\n<style>\n.editor-box > * {\n  border-color: sandstone;\n  color: black;\n  background-color: white;\n  border-style: solid;\n  border-width: 1px;\n  padding: 4px, 4px;\n  width: 100%;\n  height: 300px;\n  overflow-x: hidden;\n  overflow-x: auto;\n  font-size:1.5em;\n  font-family:Arial, Helvetica, sans-serif;\n  line-height: 1.5;\n}\n\n.is-active {\n  border-color: desertsand;\n  background-color: black;\n  border-style: solid;\n  border-width: 2px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TranslationEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TranslationEditor.vue?vue&type=script&lang=js&\"","// Styles\nimport \"../../../src/components/VOverflowBtn/VOverflowBtn.sass\"; // Extensions\n\nimport VSelect from '../VSelect/VSelect';\nimport VAutocomplete from '../VAutocomplete';\nimport VTextField from '../VTextField/VTextField'; // Components\n\nimport VBtn from '../VBtn'; // Utilities\n\nimport { consoleWarn } from '../../util/console';\n/* @vue/component */\n\nexport default VAutocomplete.extend({\n  name: 'v-overflow-btn',\n  props: {\n    editable: Boolean,\n    segmented: Boolean\n  },\n  computed: {\n    classes() {\n      return { ...VAutocomplete.options.computed.classes.call(this),\n        'v-overflow-btn': true,\n        'v-overflow-btn--segmented': this.segmented,\n        'v-overflow-btn--editable': this.editable\n      };\n    },\n\n    isAnyValueAllowed() {\n      return this.editable || VAutocomplete.options.computed.isAnyValueAllowed.call(this);\n    },\n\n    isSingle() {\n      return true;\n    },\n\n    computedItems() {\n      return this.segmented ? this.allItems : this.filteredItems;\n    }\n\n  },\n  methods: {\n    genSelections() {\n      return this.editable ? VAutocomplete.options.methods.genSelections.call(this) : VSelect.options.methods.genSelections.call(this); // Override v-autocomplete's override\n    },\n\n    genCommaSelection(item, index, last) {\n      return this.segmented ? this.genSegmentedBtn(item) : VSelect.options.methods.genCommaSelection.call(this, item, index, last);\n    },\n\n    genInput() {\n      const input = VTextField.options.methods.genInput.call(this);\n      input.data = input.data || {};\n      input.data.domProps.value = this.editable ? this.internalSearch : '';\n      input.data.attrs.readonly = !this.isAnyValueAllowed;\n      return input;\n    },\n\n    genLabel() {\n      if (this.editable && this.isFocused) return null;\n      const label = VTextField.options.methods.genLabel.call(this);\n      if (!label) return label;\n      label.data = label.data || {}; // Reset previously set styles from parent\n\n      label.data.style = {};\n      return label;\n    },\n\n    genSegmentedBtn(item) {\n      const itemValue = this.getValue(item);\n      const itemObj = this.computedItems.find(i => this.getValue(i) === itemValue) || item;\n\n      if (!itemObj.text || !itemObj.callback) {\n        consoleWarn('When using \\'segmented\\' prop without a selection slot, items must contain both a text and callback property', this);\n        return null;\n      }\n\n      return this.$createElement(VBtn, {\n        props: {\n          text: true\n        },\n        on: {\n          click(e) {\n            e.stopPropagation();\n            itemObj.callback(e);\n          }\n\n        }\n      }, [itemObj.text]);\n    },\n\n    updateValue(val) {\n      if (val) {\n        this.initialValue = this.lazyValue;\n      } else if (this.initialValue !== this.lazyValue) {\n        this.$emit('change', this.lazyValue);\n      }\n    }\n\n  }\n});\n//# sourceMappingURL=VOverflowBtn.js.map","import { render, staticRenderFns } from \"./TranslationEditor.vue?vue&type=template&id=50885414&\"\nimport script from \"./TranslationEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./TranslationEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TranslationEditor.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBadge } from 'vuetify/lib/components/VBadge';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VOverflowBtn } from 'vuetify/lib/components/VOverflowBtn';\nimport { VOverlay } from 'vuetify/lib/components/VOverlay';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBadge,VBtn,VCard,VCardActions,VCardText,VCardTitle,VChip,VCol,VDialog,VDivider,VIcon,VOverflowBtn,VOverlay,VProgressCircular,VRow,VSnackbar,VSpacer,VToolbar})\n"],"sourceRoot":""}