(self["webpackJsonp"]=self["webpackJsonp"]||[]).push([["chunk-2fdfaf13"],{"0026":function(t,e,a){"use strict";a("f371")},"09f0":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{staticClass:"ma-0",attrs:{justify:"center"}},[a("v-dialog",{attrs:{scrollable:"",persistent:"",fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.editorDialog,callback:function(e){t.editorDialog=e},expression:"editorDialog"}},[a("v-card",{staticClass:"desertsand",attrs:{loading:t.loadingLanguages||t.loadingQuestion}},[t.editing?a("v-card-title",[t._v("Edit Your Language Question")]):a("v-card-title",[t._v("Ask a Language Question")]),a("v-card-text",[a("v-form",{ref:"questioncontent",staticClass:"mt-2",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-textarea",{attrs:{outlined:"",label:"Question Title*",rules:[t.rules.titleMin],counter:"",rows:"1",maxlength:"150"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),a("v-select",{attrs:{items:t.allLanguages,loading:t.loadingLanguages,label:"Learning Language (i.e. what this question is about)*",placeholder:"choose the learning language",rules:[t.rules.requiredLanguage],required:"",outlined:""},model:{value:t.learninglanguage,callback:function(e){t.learninglanguage=e},expression:"learninglanguage"}}),a("v-select",{attrs:{items:t.allLanguages,label:"Your Native Language*",placeholder:"choose the native language",rules:[t.rules.requiredLanguage],required:"",outlined:""},model:{value:t.nativelanguage,callback:function(e){t.nativelanguage=e},expression:"nativelanguage"}}),a("v-combobox",{attrs:{label:"Additional Topic Tags",chips:"",clearable:"",hint:"Hit <enter> or <tab> after each entry (max of 5 tags allowed)","persistent-hint":"",multiple:"",rules:[t.rules.maxTags],outlined:"",counter:""},scopedSlots:t._u([{key:"selection",fn:function(e){var i=e.attrs,n=e.item,o=e.select,s=e.selected;return[a("v-chip",t._b({staticClass:"calligraphy desertsand--text",attrs:{"input-value":s,close:""},on:{click:o,"click:close":function(e){return t.removeTag(n)}}},"v-chip",i,!1),[a("strong",[t._v(t._s(n))])])]}}]),model:{value:t.tags,callback:function(e){t.tags=e},expression:"tags"}}),a("editor-menu-bar",{attrs:{editor:t.editor},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.commands,n=e.isActive;return[a("div",{staticClass:"desertsand--text"},[a("v-toolbar",{staticClass:"sandstone",attrs:{dense:"",flat:""}},[a("v-btn",{class:{"is-active":n.bold()},attrs:{small:"",icon:"",color:"calligraphy"},on:{click:i.bold}},[a("v-icon",[t._v(" mdi-format-bold ")])],1),a("v-btn",{class:{"is-active":n.italic()},attrs:{icon:"",small:"",color:"calligraphy"},on:{click:i.italic}},[a("v-icon",[t._v(" mdi-format-italic ")])],1),a("v-divider",{staticClass:"mx-1",attrs:{inset:"",vertical:""}}),a("v-btn",{class:{"is-active":n.paragraph()},attrs:{icon:"",small:"",color:"calligraphy"},on:{click:i.paragraph}},[a("v-icon",[t._v(" mdi-format-paragraph ")])],1),a("v-btn",{class:{"is-active":n.heading({level:3})},attrs:{icon:"",small:"",color:"calligraphy"},on:{click:function(t){return i.heading({level:3})}}},[a("v-icon",[t._v(" mdi-format-header-3 ")])],1),a("v-divider",{staticClass:"mx-1",attrs:{inset:"",vertical:""}}),a("v-btn",{class:{"is-active":n.alignment({orientation:"left"})},attrs:{icon:"",small:"",color:"calligraphy"},on:{click:function(t){return i.alignment({orientation:"left"})}}},[a("v-icon",[t._v(" mdi-format-align-left ")])],1),a("v-btn",{class:{"is-active":n.alignment({orientation:"center"})},attrs:{icon:"",small:"",color:"calligraphy"},on:{click:function(t){return i.alignment({orientation:"center"})}}},[a("v-icon",[t._v(" mdi-format-align-center ")])],1),a("v-btn",{class:{"is-active":n.alignment({orientation:"right"})},attrs:{icon:"",small:"",color:"calligraphy"},on:{click:function(t){return i.alignment({orientation:"right"})}}},[a("v-icon",[t._v(" mdi-format-align-right ")])],1),a("v-btn",{class:{"is-active":n.text_direction({direction:"ltr"})},attrs:{icon:"",small:"",color:"calligraphy"},on:{click:function(t){return i.text_direction({direction:"ltr"})}}},[a("v-icon",[t._v(" mdi-format-textdirection-l-to-r ")])],1),a("v-btn",{class:{"is-active":n.text_direction({direction:"rtl"})},attrs:{icon:"",small:"",color:"calligraphy"},on:{click:function(t){return i.text_direction({direction:"rtl"})}}},[a("v-icon",[t._v(" mdi-format-textdirection-r-to-l ")])],1),a("v-divider",{staticClass:"mx-1",attrs:{inset:"",vertical:""}}),a("v-btn",{attrs:{color:"calligraphy",icon:""},on:{click:function(e){return t.changeEditorFontSize("down")}}},[a("v-icon",[t._v("mdi-magnify-minus")])],1),t._v(" Zoom "),a("v-btn",{attrs:{icon:"",color:"calligraphy"},on:{click:function(e){return t.changeEditorFontSize("up")}}},[a("v-icon",[t._v("mdi-magnify-plus")])],1),a("v-divider",{staticClass:"mx-1",attrs:{inset:"",vertical:""}}),a("v-spacer"),t._v(" Count: "),a("span",{class:t.characterCountClass},[t._v(t._s(t.characterCount))]),t._v(" / 500 ")],1)],1)]}}])}),a("editor-content",{style:t.editorFontClass,attrs:{editor:t.editor}})],1),t.error?a("p",{staticClass:"muted mt-2"},[t._v(t._s(t.error))]):t._e()],1),a("v-card-actions",{staticClass:"calligraphy desertsand--text",attrs:{justify:"center"}},[a("v-spacer"),a("v-btn",{staticClass:"garbage desertsand--text",on:{click:t.closeDialog}},[t._v("Cancel"),a("v-icon",{attrs:{right:""}},[t._v("mdi-close")])],1),a("v-btn",{staticClass:"green desertsand--text",attrs:{disabled:!t.valid,loading:t.submitting,hidden:t.submitted},on:{click:t.onSubmit}},[t._v("Submit"),a("v-icon",{attrs:{right:""}},[t._v("mdi-send")])],1),a("v-spacer")],1)],1)],1)],1)},n=[],o=a("2909"),s=(a("a434"),a("5ce5")),l=a("cd42"),r=a("f23d"),c=a("6f14"),u=a("e880"),g={name:"QuestionEditor",components:{EditorContent:l["b"],EditorMenuBar:l["c"]},props:{editing:{type:Boolean,default:!1},slug:{type:String,required:!1},question:{type:Object,required:!1},editorDialog:{default:!1}},data:function(){return{submitting:!1,submitted:!1,valid:!1,loadingQuestion:!1,loadingLanguages:!1,error:null,author:"",title:"",content:"",nativelanguage:"",learninglanguage:"",allLanguages:[],tags:[],rules:{titleMin:function(t){return(t||"").length>10||"You must type at least 11 characters!"},requiredLanguage:function(t){return!!t||"You must choose at least 1 language."},maxTags:function(t){return(t||"").length<6||"Maximum of 5 tags allowed!"}},editorFontSize:1,editor:new l["a"]({editable:!0,extensions:[new r["a"],new r["e"],new r["f"]({levels:[3]}),new r["b"],new c["a"],new u["a"],new r["i"],new r["j"],new r["m"],new r["p"]],content:"\n                      ...type/paste question here...\n                     "})}},computed:{characterCountClass:function(){return this.characterCount>500?"error":""},editorFontClass:function(){return"font-size:".concat(this.editorFontSize,"em")},characterCount:function(){return this.editor.view.state.doc.textContent.length}},methods:{closeDialog:function(){this.$emit("closeDialog")},onSubmit:function(){var t=this;this.submitting=!0;var e="/api/questions/questions/",a="POST";void 0!==this.slug&&(e+="".concat(this.slug,"/"),a="PATCH");var i={title:this.title,nativelanguage:this.nativelanguage,learninglanguage:this.learninglanguage,rich_text:this.editor.getJSON(),plain_text:this.editor.view.state.doc.textContent,tags:this.tags};Object(s["a"])(e,a,i).then((function(e){!0===t.editing?(t.$emit("updateQuestion",i),t.$emit("closeDialog"),console.log(i),t.submitting=!1):(t.submitted=!0,t.$router.push({name:"Question-Viewer",params:{slug:e.slug}}))}))},removeTag:function(t){this.tags.splice(this.tags.indexOf(t),1),this.tags=Object(o["a"])(this.tags)},getLanguages:function(){var t=this,e=localStorage.getItem("languages");if(e.length>1)console.log("Shop local!"),this.allLanguages=JSON.parse(e);else{this.loadingLanguages=!0;var a="/api/categories/languages/";try{Object(s["a"])(a).then((function(e){null!=e?(t.allLanguages=e,t.error=!1):(console.log("Something bad happened..."),t.error=!0),t.loadingLanguages=!1}))}catch(i){console.log(i)}}},getQuestionData:function(){this.editing&&(this.author=this.question.author,this.title=this.question.title,this.nativelanguage=this.question.nativelanguage,this.learninglanguage=this.question.learninglanguage,this.tags=this.question.tags,this.editor.setContent(this.question.rich_text),this.loadingQuestion=!1)},getQuestionData2:function(){var t=this;if(this.editing){this.loadingQuestion=!0;var e="/api/questions/".concat(this.slug,"/");Object(s["a"])(e).then((function(e){e?(t.author=e.author,t.title=e.title,t.nativelanguage=e.nativelanguage,t.learninglanguage=e.learninglanguage,t.tags=e.tags,t.loadingQuestion=!1):(t.question=null,t.setPageTitle("404 - Page Note Found"),t.loadingQuestion=!1)}))}},changeEditorFontSize:function(t){"up"===t?this.editorFontSize<3.5&&(this.editorFontSize+=.15):this.editorFontSize>.5&&(this.editorFontSize-=.15)}},created:function(){this.getQuestionData(),this.getLanguages()}},d=g,v=(a("0026"),a("2877")),h=a("6544"),m=a.n(h),f=a("8336"),p=a("b0af"),b=a("99d9"),x=a("cc20"),_=a("2b5d"),C=a("169a"),y=a("ce7e"),k=a("4bd4"),w=a("132d"),S=a("0fd9"),q=a("b974"),L=a("2fa4"),V=a("a844"),Q=a("71d9"),T=Object(v["a"])(d,i,n,!1,null,"56126ed7",null);e["default"]=T.exports;m()(T,{VBtn:f["a"],VCard:p["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VChip:x["a"],VCombobox:_["a"],VDialog:C["a"],VDivider:y["a"],VForm:k["a"],VIcon:w["a"],VRow:S["a"],VSelect:q["a"],VSpacer:L["a"],VTextarea:V["a"],VToolbar:Q["a"]})},f371:function(t,e,a){}}]);
//# sourceMappingURL=chunk-2fdfaf13.25879d77.js.map