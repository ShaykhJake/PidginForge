{"version":3,"sources":["webpack:///./src/components/profile/ProfileSnippet.vue?e2d4","webpack:///src/components/profile/ProfileSnippet.vue","webpack:///./src/components/profile/ProfileSnippet.vue?6f57","webpack:///./src/components/profile/ProfileSnippet.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","model","value","callback","$$v","profileDialog","expression","staticClass","curatorObject","user_profile","image","on","closeDialog","_v","_s","username","userPointsText","profile","language","biography","isProfileOwner","_e","following","toggleFollow","followers_count","user_has_followed","hiding","toggleHide","user_has_hidden","staticRenderFns","name","components","props","Boolean","Object","data","computed","window","localStorage","getItem","methods","$emit","getProfileSnippet","loading","console","log","err","created","component","VBadge","VBtn","VCard","VCardText","VCardTitle","VChip","VCol","VDialog","VIcon","VImg","VRow"],"mappings":"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","file":"js/chunk-2d0dde30.9187bf25.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"width\":\"275\"},model:{value:(_vm.profileDialog),callback:function ($$v) {_vm.profileDialog=$$v},expression:\"profileDialog\"}},[_c('v-card',{staticClass:\"desertsand\"},[_c('v-card-title',{staticClass:\"pa-0\"},[_c('v-img',{attrs:{\"src\":_vm.curatorObject.user_profile.image}},[_c('v-btn',{staticClass:\"calligraphy white--text\",attrs:{\"icon\":\"\",\"fab\":\"\",\"small\":\"\"},on:{\"click\":_vm.closeDialog}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1)],1),_c('v-card-text',{staticClass:\"pt-2 pl-4 desertsand calligraphy--text\"},[_c('v-row',{attrs:{\"dense\":\"\"}},[_c('v-col',{attrs:{\"align\":\"center\"}},[_c('h2',[_vm._v(_vm._s(_vm.curatorObject.username))]),_c('v-chip',{staticClass:\"primary primary--text\",attrs:{\"outlined\":\"\",\"small\":\"\"}},[_vm._v(_vm._s(_vm.userPointsText))]),_c('v-chip',{staticClass:\"languages languages--text\",attrs:{\"outlined\":\"\",\"small\":\"\"}},[_vm._v(\"Native: \"+_vm._s(_vm.profile.language))]),_c('v-chip',{staticClass:\"languages languages--text\",attrs:{\"outlined\":\"\",\"small\":\"\"}},[_vm._v(\"Learning: Django, French\")])],1),_c('v-col',[_c('p',[_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(\"User Bio:\")]),_vm._v(\" \"+_vm._s(_vm.profile.biography)+\" \")]),_c('v-btn',{staticClass:\"my-1 primary desertsand--text\",attrs:{\"block\":\"\"}},[_vm._v(\"View Curated Works\")]),(!_vm.isProfileOwner)?_c('v-btn',{staticClass:\"my-1 saves desertsand--text\",attrs:{\"block\":\"\",\"loading\":_vm.following},on:{\"click\":_vm.toggleFollow}},[_c('v-badge',{attrs:{\"color\":\"blue\",\"content\":_vm.profile.followers_count}},[(!_vm.profile.user_has_followed)?_c('span',[_vm._v(\" Follow\"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-heart\")])],1):_c('span',[_vm._v(\" Unfollow\"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-heart-broken\")])],1)])],1):_vm._e(),(!_vm.isProfileOwner)?_c('v-btn',{staticClass:\"my-1 garbage desertsand--text\",attrs:{\"block\":\"\",\"loading\":_vm.hiding},on:{\"click\":_vm.toggleHide}},[(!_vm.profile.user_has_hidden)?_c('span',[_vm._v(\" Hide\"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-eye-off\")])],1):_c('span',[_vm._v(\" Unhide\"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-eye\")])],1)]):_vm._e()],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-dialog v-model=\"profileDialog\" width=\"275\">\n  <v-card class=\"desertsand\">\n    <v-card-title class=\"pa-0\">\n      <v-img :src=\"curatorObject.user_profile.image\">\n        <v-btn\n          icon\n          fab\n          small\n          class=\"calligraphy white--text\"\n          @click=\"closeDialog\"\n          ><v-icon>mdi-close</v-icon>\n        </v-btn>\n      </v-img>\n    </v-card-title>\n\n    <v-card-text class=\"pt-2 pl-4 desertsand calligraphy--text\">\n      <v-row dense>\n        <v-col align=\"center\">\n          <h2>{{ curatorObject.username }}</h2>\n          <v-chip outlined small class=\"primary primary--text\">{{\n            userPointsText\n          }}</v-chip>\n          <v-chip outlined small class=\"languages languages--text\"\n            >Native: {{ profile.language }}</v-chip\n          >\n          <v-chip outlined small class=\"languages languages--text\"\n            >Learning: Django, French</v-chip\n          >\n        </v-col>\n        <v-col>\n          <p>\n            <span class=\"font-weight-bold\">User Bio:</span>\n            {{ profile.biography }}\n          </p>\n\n          <v-btn block class=\"my-1 primary desertsand--text\"\n            >View Curated Works</v-btn\n          >\n\n          <v-btn\n            block\n            v-if=\"!isProfileOwner\"\n            @click=\"toggleFollow\"\n            class=\"my-1 saves desertsand--text\"\n            :loading=\"following\"\n          >\n            <v-badge color=\"blue\" :content=\"profile.followers_count\">\n              <span v-if=\"!profile.user_has_followed\">\n                Follow<v-icon right>mdi-heart</v-icon>\n              </span>\n              <span v-else>\n                Unfollow<v-icon right>mdi-heart-broken</v-icon>\n              </span>\n            </v-badge>\n          </v-btn>\n\n          <v-btn\n            block\n            v-if=\"!isProfileOwner\"\n            @click=\"toggleHide\"\n            class=\"my-1 garbage desertsand--text\"\n            :loading=\"hiding\"\n          >\n            <span v-if=\"!profile.user_has_hidden\">\n              Hide<v-icon right>mdi-eye-off</v-icon>\n            </span>\n            <span v-else> Unhide<v-icon right>mdi-eye</v-icon> </span>\n          </v-btn>\n        </v-col>\n      </v-row>\n    </v-card-text>\n  </v-card>\n  </v-dialog>\n</template>\n<script>\nimport { apiService } from \"@/common/api.service.js\";\nexport default {\n  name: \"ProfileSnippet\",\n  components: {},\n  props: {\n    profileDialog: Boolean,\n    curatorObject: Object,\n  },\n  data: () => ({\n    loading: true,\n    profile: {},\n    following: false,\n    hiding: false\n  }),\n  computed: {\n    userPointsText() {\n      return `Points: ${this.profile.points}`;\n    },\n    isProfileOwner() {\n      // return this.question.author.username === this.requestUser;\n      return this.curatorObject.username === window.localStorage.getItem(\"username\");\n      // return true;\n    }\n  },\n  methods: {\n    closeDialog() {\n      this.$emit(\"closeDialog\");\n    },\n    getProfileSnippet() {\n      this.loading = true;\n      let endpoint = `/api/users/snippet/${this.curatorObject.username}`;\n      apiService(endpoint).then(data => {\n        if (data) {\n          this.profile = data;\n          this.loading = false;\n        } else {\n          this.profile = null;\n          this.setPageTitle(\"404 - Page Note Found\");\n          this.loading = false;\n        }\n      });\n    },\n    toggleFollow() {\n      this.following = true;\n      let endpoint = `api/users/follow/`;\n      try {\n        apiService(endpoint, \"POST\", { username: this.profile.username }).then(\n          data => {\n            if (data != null) {\n              if (data.success == true) {\n                // this.$emit(\"hideElement\")\n                this.profile.user_has_followed = !this.profile\n                  .user_has_followed;\n                if (this.profile.user_has_followed) {\n                  this.profile.followers_count += 1;\n                } else {\n                  this.profile.followers_count -= 1;\n                }\n                // console.log(data.message)\n              } else {\n                // this.alertType = 'error';\n              }\n            } else {\n              // this.alertType = 'error';\n            }\n            this.following = false;\n          }\n        );\n      } catch (err) {\n        console.log(err);\n      }\n    },\n    toggleHide() {\n      this.hiding = true;\n      let endpoint = `api/users/hide/`;\n      try {\n        apiService(endpoint, \"POST\", { username: this.userObject.username }).then(\n          data => {\n            if (data != null) {\n              if (data.success == true) {\n                this.profile.user_has_hidden = !this.profile.user_has_hidden;\n                console.log(\"This profile has been hidden\");\n              } else {\n                this.alertType = \"error\";\n              }\n            } else {\n              this.alertType = \"error\";\n            }\n            this.hiding = false;\n          }\n        );\n      } catch (err) {\n        console.log(err);\n      }\n    } // Hide from List\n    //\n  },\n  created() {\n    this.getProfileSnippet();\n  }\n};\n</script>\n<style lang=\"stylus\"></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProfileSnippet.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProfileSnippet.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProfileSnippet.vue?vue&type=template&id=786aab10&\"\nimport script from \"./ProfileSnippet.vue?vue&type=script&lang=js&\"\nexport * from \"./ProfileSnippet.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBadge } from 'vuetify/lib/components/VBadge';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBadge,VBtn,VCard,VCardText,VCardTitle,VChip,VCol,VDialog,VIcon,VImg,VRow})\n"],"sourceRoot":""}