(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-157738c2"],{"2bfd":function(t,e,a){},"3a0b":function(t,e,a){},"3cca":function(t,e,a){},"8a79":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.sourceObject.id?a("v-card",{staticClass:"calligraphy",attrs:{dense:""}},[a("v-card-title",{staticClass:"py-1 desertsand--text"},[t._v(" Markups: "),t.userHasMarkup?t._e():a("v-btn",{staticClass:"primary desertsand--text ma-1",attrs:{outlined:""},on:{click:function(e){return t.loadMarkup(0)}}},[t._v("Add New"),a("v-icon",{attrs:{right:""}},[t._v("mdi-plus-circle")])],1),t.userHasMarkup&&!t.userMarkupLoaded?a("v-btn",{staticClass:"desertsand--text ma-1",attrs:{outlined:""},on:{click:function(e){return t.loadMarkup(t.sourceObject.user_markup)}}},[t._v("View Yours"),a("v-icon",{attrs:{right:""}},[t._v("mdi-pencil")])],1):t._e(),a("v-btn",{staticClass:"desertsand--text ma-1",attrs:{loading:t.fetchingSource,disabled:t.numberOfMarkups<1,outlined:""},on:{click:function(e){t.showMarkupList=!0}}},[t._v(" View Published "),a("v-badge",{attrs:{content:t.numberOfMarkups,color:"calligraphy darken-1"}},[a("v-icon",[t._v("mdi-script-text-outline")])],1)],1),a("v-dialog",{attrs:{width:"395"},model:{value:t.showMarkupList,callback:function(e){t.showMarkupList=e},expression:"showMarkupList"}},[void 0,a("MarkupListModal",{attrs:{"markup-list":t.sourceObject.markups},on:{closeDialog:function(e){t.showMarkupList=!1},loadMarkup:t.loadMarkup}})],2)],1),t.markupLoaded?a("v-card-text",{staticClass:"desertsand calligraphy--text px-2 ma-0"},[a("v-row",{attrs:{dense:"",wrap:"","no-gutters":""}},[a("v-col",{attrs:{cols:"12"}},[t._v(" By "),a("span",{staticClass:"primary--text font-weight-black mx-1"},[t._v(" "+t._s(t.markup.curator.username)+" ")]),t._v(" on "+t._s(t.markup.curationdate)+" "),a("v-chip",{staticClass:"mx-2",attrs:{outlined:"",small:"",color:"languages"}},[t._v(t._s(t.markup.targetlanguage))]),a("ElementVoter",{attrs:{"up-vote-count":t.markup.upvote_count,"down-vote-count":t.markup.downvote_count,"user-vote":t.markup.user_vote,elementid:t.markup.id,"element-type":"Markup","text-typography":"body-1"},on:{updateVote:t.updateVote}})],1),t.markup.published?t._e():a("v-col",{staticClass:"overline",attrs:{cols:"12"}},[t._v(" ...this markup is currently in draft and not visible to others... ")]),t.markup.forkparent?a("v-col",{staticClass:"overline",attrs:{cols:"12"}},[t._v(" ...this markup was forked from "),a("a",{staticClass:"primary--text font-weight-black",on:{click:function(e){return e.preventDefault(),t.loadMarkup(t.markup.forkparent)}}},[t._v("Markup ID: "+t._s(t.markup.forkparent))]),t._v("... ")]):t._e(),a("v-col",{attrs:{cols:"12"}},[t.isCurator?t._e():a("v-toolbar",{staticClass:"calligraphy pa-0",attrs:{dense:"",flat:""}},[a("v-btn",{attrs:{small:"",color:"elements desertsand--text"},on:{click:function(e){t.userHasMarkup?t.forkOverwriteDialog=!0:t.forkMarkup}}},[t._v(" Fork "),a("v-badge",{attrs:{content:t.markup.forks_count,color:"elements darken-2"}},[a("v-icon",[t._v(" mdi-source-fork ")])],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"300"},model:{value:t.forkOverwriteDialog,callback:function(e){t.forkOverwriteDialog=e},expression:"forkOverwriteDialog"}},[a("v-card",{staticClass:"calligraphy desertsand--text"},[a("v-card-title",{staticClass:"headline"},[t._v("Delete Your Markup?")]),a("v-card-text",{staticClass:"desertsand calligraphy--text pt-1"},[t._v(" You've already started a markup for this source item. In order to fork a new markup, you must first delete your old. Confirm delete and proceed with fork? ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{small:"",color:"garbage desertsand--text"},on:{click:function(e){t.forkOverwriteDialog=!1}}},[t._v("Cancel "),a("v-icon",{attrs:{right:""}},[t._v("mdi-cancel")])],1),a("v-btn",{attrs:{small:"",color:"error desertsand--text"},on:{click:t.forkMarkup}},[t._v("Proceed "),a("v-icon",{attrs:{right:""}},[t._v("mdi-source-fork")])],1)],1)],1)],1),a("v-btn",{staticClass:"mr-1",attrs:{disabled:"",text:""}},[t._v(" QC ")])],1),t.isCurator?a("v-toolbar",{staticClass:"calligraphy pa-0",attrs:{dense:"",flat:""}},[t.editing?a("v-btn",{staticClass:"primary desertsand--text mr-1",attrs:{small:"",loading:t.submittingSave,disabled:!t.unsavedChanges},on:{click:t.submitSave}},[t._v(" Save "),a("v-icon",{attrs:{right:""}},[t._v("mdi-content-save")])],1):t._e(),t.editing?a("v-btn",{staticClass:"garbage desertsand--text mr-1",attrs:{small:""},on:{click:t.checkEdits}},[t._v(" Close Edit "),a("v-icon",{attrs:{right:""}},[t._v("mdi-close")])],1):t._e(),t.editing?t._e():a("v-btn",{staticClass:"primary mr-1",attrs:{small:""},on:{click:t.openEdit}},[t._v(" Edit "),a("v-icon",{attrs:{right:""}},[t._v(" mdi-pencil ")])],1),a("v-dialog",{attrs:{persistent:"","max-width":"300"},model:{value:t.unsavedChangesDialog,callback:function(e){t.unsavedChangesDialog=e},expression:"unsavedChangesDialog"}},[a("v-card",{staticClass:"calligraphy desertsand--text"},[a("v-card-title",{staticClass:"headline"},[t._v("Unsaved Changes")]),a("v-card-text",{staticClass:"desertsand calligraphy--text pt-1"},[t._v(" You have made changes to your markup. Would you like to save them, or throw them away? ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{small:"",color:"primary desertsand--text"},on:{click:t.saveEditsThenClose}},[t._v("Save"),a("v-icon",{attrs:{right:""}},[t._v("mdi-content-save")])],1),a("v-btn",{attrs:{small:"",color:"garbage desertsand--text"},on:{click:t.trashEditsThenClose}},[t._v("Trash"),a("v-icon",{attrs:{right:""}},[t._v("mdi-delete")])],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"300"},model:{value:t.confirmDeleteDialog,callback:function(e){t.confirmDeleteDialog=e},expression:"confirmDeleteDialog"}},[a("v-card",{staticClass:"calligraphy desertsand--text"},[a("v-card-title",{staticClass:"headline"},[t._v("Confirm Delete?")]),a("v-card-text",{staticClass:"desertsand calligraphy--text pt-1"},[t._v(" You've worked so hard; are you sure that you want to flush all of that work down the toilet and deprive the world of your masterpiece? ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{small:"",color:"primary desertsand--text"},on:{click:function(e){t.confirmDeleteDialog=!1}}},[t._v("Cancel"),a("v-icon",{attrs:{right:""}},[t._v("mdi-content-save")])],1),a("v-btn",{attrs:{small:"",color:"garbage desertsand--text",loading:t.submittingDelete},on:{click:t.deleteMarkup}},[t._v("Delete"),a("v-icon",{attrs:{right:""}},[t._v("mdi-delete")])],1)],1)],1)],1),t.markup.published||t.editing?t._e():a("v-btn",{staticClass:"elements desertsand--text mr-1",attrs:{small:""},on:{click:t.togglePublish}},[t._v(" Publish"),a("v-icon",{attrs:{right:""}},[t._v("mdi-eye")])],1),t.markup.published&&!t.editing?a("v-btn",{staticClass:"elements desertsand--text mr-1",attrs:{small:""},on:{click:t.togglePublish}},[t._v(" Return to Draft"),a("v-icon",{attrs:{right:""}},[t._v("mdi-eye-off")])],1):t._e(),t.editing?t._e():a("v-btn",{staticClass:"garbage desertsand--text mr-1",attrs:{small:""},on:{click:function(e){t.confirmDeleteDialog=!0}}},[t._v(" Delete "),a("v-icon",{attrs:{right:""}},[t._v(" mdi-delete ")])],1)],1):t._e()],1),a("v-col",{attrs:{cols:"12"}},[t.isCurator&&t.editing?a("editor-menu-bar",{attrs:{editor:t.editor},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.commands,n=e.isActive;return[a("div",{staticClass:"desertsand--text"},[a("v-toolbar",{staticClass:"calligraphy",attrs:{dense:"",flat:""}},[a("v-btn",{class:{"is-active":n.bold()},attrs:{small:"",icon:"",color:"sandstone"},on:{click:s.bold}},[a("v-icon",[t._v(" mdi-format-bold ")])],1),a("v-btn",{class:{"is-active":n.italic()},attrs:{icon:"",small:"",color:"sandstone"},on:{click:s.italic}},[a("v-icon",[t._v(" mdi-format-italic ")])],1),a("v-divider",{staticClass:"mx-1",attrs:{inset:"",vertical:""}}),a("v-btn",{class:{"is-active":n.paragraph()},attrs:{icon:"",small:"",color:"sandstone"},on:{click:s.paragraph}},[a("v-icon",[t._v(" mdi-format-paragraph ")])],1),a("v-btn",{class:{"is-active":n.heading({level:1})},attrs:{icon:"",small:"",color:"sandstone"},on:{click:function(t){return s.heading({level:1})}}},[a("v-icon",[t._v(" mdi-format-header-1 ")])],1),a("v-btn",{class:{"is-active":n.heading({level:2})},attrs:{icon:"",small:"",color:"sandstone"},on:{click:function(t){return s.heading({level:2})}}},[a("v-icon",[t._v(" mdi-format-header-2 ")])],1),a("v-btn",{class:{"is-active":n.heading({level:3})},attrs:{icon:"",small:"",color:"sandstone"},on:{click:function(t){return s.heading({level:3})}}},[a("v-icon",[t._v(" mdi-format-header-3 ")])],1),a("v-divider",{staticClass:"mx-1",attrs:{inset:"",vertical:""}}),a("v-btn",{class:{"is-active":n.alignment({orientation:"left"})},attrs:{icon:"",small:"",color:"sandstone"},on:{click:function(t){return s.alignment({orientation:"left"})}}},[a("v-icon",[t._v(" mdi-format-align-left ")])],1),a("v-btn",{class:{"is-active":n.alignment({orientation:"center"})},attrs:{icon:"",small:"",color:"sandstone"},on:{click:function(t){return s.alignment({orientation:"center"})}}},[a("v-icon",[t._v(" mdi-format-align-center ")])],1),a("v-btn",{class:{"is-active":n.alignment({orientation:"right"})},attrs:{icon:"",small:"",color:"sandstone"},on:{click:function(t){return s.alignment({orientation:"right"})}}},[a("v-icon",[t._v(" mdi-format-align-right ")])],1),a("v-btn",{class:{"is-active":n.text_direction({direction:"ltr"})},attrs:{icon:"",small:"",color:"sandstone"},on:{click:function(t){return s.text_direction({direction:"ltr"})}}},[a("v-icon",[t._v(" mdi-format-textdirection-l-to-r ")])],1),a("v-btn",{class:{"is-active":n.text_direction({direction:"rtl"})},attrs:{icon:"",small:"",color:"sandstone"},on:{click:function(t){return s.text_direction({direction:"rtl"})}}},[a("v-icon",[t._v(" mdi-format-textdirection-r-to-l ")])],1),a("v-divider",{staticClass:"mx-1",attrs:{inset:"",vertical:""}}),a("v-btn",{class:{"is-active":n.highlighter()},attrs:{icon:"",small:"",color:"primary"},on:{click:s.highlighter}},[a("v-icon",[t._v(" mdi-marker ")])],1),a("v-divider",{staticClass:"mx-1",attrs:{inset:"",vertical:""}}),a("v-overflow-btn",{staticClass:"pa-0",attrs:{items:t.allLanguages,loading:t.loadingLanguages,editable:"",dense:"",color:"sandstone calligraphy--text",label:"Select Language","hide-details":"",overflow:"","item-color":"primary"},on:{change:function(e){t.unsavedChanges=!0}},model:{value:t.markup.targetlanguage,callback:function(e){t.$set(t.markup,"targetlanguage",e)},expression:"markup.targetlanguage"}}),a("v-spacer")],1)],1)]}}],null,!1,1273975014)}):t._e(),a("editor-content",{staticClass:"editor-box",style:t.editorFontClass,attrs:{editor:t.editor,id:"markupeditorbox"}}),a("v-card-actions",[a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.changeEditorFontSize("down")}}},[a("v-icon",[t._v("mdi-magnify-minus")])],1),t._v(" Text Size "),a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.changeEditorFontSize("up")}}},[a("v-icon",[t._v("mdi-magnify-plus")])],1),a("v-btn",{attrs:{icon:""},on:{click:t.printText}},[a("v-icon",[t._v("mdi-printer")])],1)],1)],1)],1)],1):t._e()],1):t._e(),a("v-overlay",{attrs:{value:t.loadingMarkup,absolute:"",color:"calligraphy",opacity:"0.75"}},[a("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),a("v-snackbar",{attrs:{top:"",color:t.snackColor,timeout:t.snackTimeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackText)+" "),a("v-btn",{staticClass:"desertsand--text",attrs:{text:""},on:{click:function(e){t.snackbar=!1}}},[t._v(" Close ")])],1)],1)},n=[],i=(a("99af"),a("d3b7"),a("96cf"),a("1da1")),r=a("5ce5"),o=a("fbee"),l=a("cd42"),c=a("f23d"),d=a("6f14"),u=a("e880"),h=a("b878"),m={name:"MarkupEditor",components:{EditorContent:l["b"],EditorMenuBar:l["c"],ElementVoter:o["a"],MarkupListModal:function(){return a.e("chunk-2d0df7da").then(a.bind(null,"89ad"))}},props:{sourceType:{type:String,required:!0},passedSource:{type:Object,required:!0}},data:function(){var t=this;return{sourceObject:{},markup:{targetlanguage:""},fetchingSource:!1,showMarkupList:!1,showMarkup:!1,editorFontSize:1,languageDialog:!1,allLanguages:[],loadingLanguages:!1,markupLoaded:!1,loadedMarkup:0,loadingMarkup:!1,snackbar:!1,snackColor:"primary desertsand--text",snackTimeout:2e3,snackText:"",submittingFork:!1,submittingSave:!1,submittingDelete:!1,forkOverwriteDialog:!1,editing:!1,unsavedChangesDialog:!1,unsavedChanges:!1,currentContent:"",confirmDeleteDialog:!1,editor:new l["a"]({editable:!1,extensions:[new c["a"],new c["c"],new c["d"]({levels:[1,2,3]}),new c["b"],new d["a"],new u["a"],new c["f"],new c["g"],new c["h"],new c["i"],new c["e"],new h["a"]],content:"\n          Loading\n         ",onUpdate:function(){t.unsavedChanges=!0}})}},watch:{},computed:{isCurator:function(){return!!this.markup.curator&&this.markup.curator.username===window.localStorage.getItem("username")},editorFontClass:function(){return"font-size:".concat(this.editorFontSize,"em")},numberOfMarkups:function(){return this.sourceObject.markups?this.sourceObject.markups.length:0},userHasMarkup:function(){return this.sourceObject.user_markup>0},userMarkupLoaded:function(){return this.markup.id===this.sourceObject.user_markup}},methods:{getLanguages:function(){var t=this;this.loadingLanguages=!0;var e="/api/categories/languages/";try{Object(r["a"])(e).then((function(e){null!=e?(t.allLanguages=e,t.error=!1):(console.log("Something bad happened..."),t.error=!0),t.loadingLanguages=!1}))}catch(a){console.log(a)}},printText:function(){var t=document.getElementById("markupeditorbox").innerHTML,e=window.open("","","height=300, width=300"),a=new Date;e.document.write("\n          <html>\n          <head>\n          <title>PF Printer...</title>\n          </head>\n            <style>\n              .header {\n                position: fixed;\n                top: 0;\n                left: 50%;\n                transform: translate(-50%, 0);\n              }\n              .footer {\n                position: fixed;\n                bottom: 0;\n                left: 50%;\n                transform: translate(-50%, 0);\n              }\n              .content {\n                font-family:Arial, Helvetica, sans-serif;\n                line-height: 1.5;\n                font-size: ".concat(this.editorFontSize,'em;\n              }\n            </style>\n            <body>\n                <div class="header">').concat(this.sourceObject.title,'</div>\n                <div class="content">').concat(t,'</div>\n                <div class="footer">PidginForge on ').concat(a.toLocaleString(),"</div>\n            </body>  \n          </html>\n          <style>\n          ")),e.print()},changeEditorFontSize:function(t){"up"===t?this.editorFontSize<3.5&&(this.editorFontSize+=.15):this.editorFontSize>.5&&(this.editorFontSize-=.15)},updateVote:function(t){this.markup.user_vote=t.newuservote,this.markup.downvote_count=t.newdowncount,this.markup.upvote_count=t.newupcount},checkEdits:function(){this.unsavedChanges?this.unsavedChangesDialog=!0:this.closeEdit()},saveEditsThenClose:function(){this.unsavedChangesDialog=!1,this.submitSave()?this.closeEdit():console.log("error saving")},trashEditsThenClose:function(){this.unsavedChangesDialog=!1,this.editor.setContent(this.currentContent),this.closeEdit()},closeEdit:function(){this.editing=!1,this.editor.setOptions({editable:this.editing})},openEdit:function(){this.editing=!0,this.editor.setOptions({editable:this.editing})},loadImage:function(t){t({src:"https://66.media.tumblr.com/dcd3d24b79d78a3ee0f9192246e727f1/tumblr_o00xgqMhPM1qak053o1_400.gif"})},togglePublish:function(){var t=this;this.publishing=!0;var e="/api/elements/markup/publish/";try{Object(r["a"])(e,"POST",{pk:this.markup.id}).then((function(e){null!=e&&1==e.success&&(t.markup.published=e.published),t.publishing=!1}))}catch(a){console.log(a)}},loadMarkup:function(t){var e=this;if(this.loadingMarkup=!0,0===t){var a="/api/elements/markupz/",s={sourceid:this.sourceObject.id,sourcetype:this.sourceType,content:"...new markup...",targetlanguage:"English"};console.log(s),Object(r["a"])(a,"POST",s).then((function(t){t?(console.log(t),e.markup=t,console.log(e.markup.content),e.sourceObject.user_markup=e.markup.id,e.markupLoaded=!0,e.feedSnack("success darken-1 desertsand--text body-1","New markup created!",2750),e.currentContent=e.markup.content,e.editor.setContent(e.currentContent)):(console.log("Something went wrong"),e.markupLoaded=!1),e.loadingMarkup=!1}))}else{var n="/api/elements/markupz/".concat(t,"/");try{Object(r["a"])(n).then((function(t){t.id?(e.markup=t,e.markupLoaded=!0,e.currentContent=e.markup.content,e.editor.setContent(e.currentContent)):(e.feedSnack("elements darken-1 desertsand--text body-1","Error loading markup!",2750),e.markup={},e.markupLoaded=!1),e.loadingMarkup=!1}))}catch(i){console.log(i),this.loadMarkup=!1}}},submitSave:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.submittingSave=!0,a=t.currentContent=t.editor.getJSON(),s="/api/elements/markupz/".concat(t.markup.id,"/"),n={content:a,targetlanguage:t.markup.targetlanguage},Object(r["a"])(s,"PATCH",n).then((function(e){return e?(t.unsavedChanges=!1,t.submittingSave=!1,t.feedSnack("success darken-1 desertsand--text body-1","Edits have been saved!",2250),!0):(t.submittingSave=!1,!1)}));case 5:case"end":return e.stop()}}),e)})))()},deleteMarkup:function(){var t=this;this.submittingDelete=!0;var e="/api/elements/markupz/".concat(this.markup.id,"/");try{Object(r["a"])(e,"DELETE").then((function(){t.feedSnack("garbage darken-1 desertsand--text body-1","Markup deleted! :-(",2750),t.sourceObject.user_markup=0,t.submittingDelete=!1,t.confirmDeleteDialog=!1,t.markupLoaded=!1}))}catch(a){console.log(a)}},forkMarkup:function(){var t=this;this.submittingFork=!0;var e="/api/elements/markup/fork/",a={sourceid:this.sourceObject.id,forkparent:this.markup.id};Object(r["a"])(e,"POST",a).then((function(e){e?(t.forkOverwriteDialog=!1,t.loadMarkup(e.id),t.sourceObject.user_markup=e.id):console.log("There was a problem"),t.forkOverwriteDialog=!1,t.submittingFork=!1}))},submitLanguage:function(){console.log("submitting")},feedSnack:function(t,e,a){this.snackColor=t,this.snackText=e,this.snackTimeout=a,this.snackbar=!0}},beforeDestroy:function(){this.editor.destroy()},mounted:function(){this.sourceObject=this.passedSource},created:function(){this.getLanguages()}},p=m,v=(a("f076"),a("2877")),g=a("6544"),f=a.n(g),k=a("4ca6"),b=a("8336"),x=a("b0af"),y=a("99d9"),C=a("cc20"),_=a("62ad"),S=a("169a"),w=a("ce7e"),I=a("132d"),D=a("de8e"),M=a("a797"),O=a("490a"),V=a("0fd9"),L=a("2db4"),T=a("2fa4"),E=a("71d9"),F=Object(v["a"])(p,s,n,!1,null,null,null);e["default"]=F.exports;f()(F,{VBadge:k["a"],VBtn:b["a"],VCard:x["a"],VCardActions:y["a"],VCardText:y["b"],VCardTitle:y["c"],VChip:C["a"],VCol:_["a"],VDialog:S["a"],VDivider:w["a"],VIcon:I["a"],VOverflowBtn:D["a"],VOverlay:M["a"],VProgressCircular:O["a"],VRow:V["a"],VSnackbar:L["a"],VSpacer:T["a"],VToolbar:E["a"]})},afdd:function(t,e,a){"use strict";var s=a("8336");e["a"]=s["a"]},baaf:function(t,e,a){"use strict";var s=a("c6a6");e["a"]=s["a"]},c6a6:function(t,e,a){"use strict";a("2bfd");var s=a("b974"),n=a("8654"),i=a("d9f7"),r=a("80d2");const o={...s["b"],offsetY:!0,offsetOverflow:!0,transition:!1};e["a"]=s["a"].extend({name:"v-autocomplete",props:{allowOverflow:{type:Boolean,default:!0},autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:(t,e,a)=>a.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1},hideNoData:Boolean,menuProps:{type:s["a"].options.props.menuProps.type,default:()=>o},noFilter:Boolean,searchInput:{type:String,default:void 0}},data(){return{lazySearch:this.searchInput}},computed:{classes(){return{...s["a"].options.computed.classes.call(this),"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1}},computedItems(){return this.filteredItems},selectedValues(){return this.selectedItems.map(t=>this.getValue(t))},hasDisplayedItems(){return this.hideSelected?this.filteredItems.some(t=>!this.hasItem(t)):this.filteredItems.length>0},currentRange(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems(){return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter(t=>this.filter(t,String(this.internalSearch),String(this.getText(t))))},internalSearch:{get(){return this.lazySearch},set(t){this.lazySearch=t,this.$emit("update:search-input",t)}},isAnyValueAllowed(){return!1},isDirty(){return this.searchIsDirty||this.selectedItems.length>0},isSearching(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps(){const t=s["a"].options.computed.$_menuProps.call(this);return t.contentClass=`v-autocomplete__content ${t.contentClass||""}`.trim(),{...o,...t}},searchIsDirty(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem(){return this.multiple?null:this.selectedItems.find(t=>this.valueComparator(this.getValue(t),this.getValue(this.internalValue)))},listData(){const t=s["a"].options.computed.listData.call(this);return t.props={...t.props,items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch},t}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused(t){t?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.updateSelf())},isMenuActive(t){!t&&this.hasSlot&&(this.lazySearch=void 0)},items(t,e){e&&e.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!t.length||this.activateMenu()},searchInput(t){this.lazySearch=t},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created(){this.setSearch()},methods:{onFilteredItemsChanged(t,e){t!==e&&(this.setMenuIndex(-1),this.$nextTick(()=>{this.internalSearch&&(1===t.length||this.autoSelectFirst)&&(this.$refs.menu.getTiles(),this.setMenuIndex(0))}))},onInternalSearchChanged(){this.updateMenuDimensions()},updateMenuDimensions(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex(t){this.searchIsDirty||(this.multiple&&t===r["s"].left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&t===r["s"].right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:t!==r["s"].backspace&&t!==r["s"].delete||this.deleteCurrentItem())},deleteCurrentItem(){if(this.readonly)return;const t=this.selectedItems.length-1;if(-1===this.selectedIndex&&0!==t)return void(this.selectedIndex=t);const e=this.selectedItems[this.selectedIndex];if(this.getDisabled(e))return;const a=this.selectedIndex===t?this.selectedIndex-1:this.selectedItems[this.selectedIndex+1]?this.selectedIndex:-1;-1===a?this.setValue(this.multiple?[]:void 0):this.selectItem(e),this.selectedIndex=a},clearableCallback(){this.internalSearch=void 0,s["a"].options.methods.clearableCallback.call(this)},genInput(){const t=n["a"].options.methods.genInput.call(this);return t.data=Object(i["a"])(t.data,{attrs:{"aria-activedescendant":Object(r["l"])(this.$refs.menu,"activeTile.id"),autocomplete:Object(r["l"])(t.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),t},genInputSlot(){const t=s["a"].options.methods.genInputSlot.call(this);return t.data.attrs.role="combobox",t},genSelections(){return this.hasSlot||this.multiple?s["a"].options.methods.genSelections.call(this):[]},onClick(t){this.isDisabled||(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(t.target)||this.activateMenu())},onInput(t){if(this.selectedIndex>-1||!t.target)return;const e=t.target,a=e.value;e.value&&this.activateMenu(),this.internalSearch=a,this.badInput=e.validity&&e.validity.badInput},onKeyDown(t){const e=t.keyCode;s["a"].options.methods.onKeyDown.call(this,t),this.changeSelectedIndex(e)},onSpaceDown(t){},onTabDown(t){s["a"].options.methods.onTabDown.call(this,t),this.updateSelf()},onUpDown(t){t.preventDefault(),this.activateMenu()},selectItem(t){s["a"].options.methods.selectItem.call(this,t),this.setSearch()},setSelectedItems(){s["a"].options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch(){this.$nextTick(()=>{this.multiple&&this.internalSearch&&this.isMenuActive||(this.internalSearch=!this.selectedItems.length||this.multiple||this.hasSlot?this.internalSearch||null:this.getText(this.selectedItem))})},updateSelf(){(this.searchIsDirty||this.internalValue)&&(this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem(t){return this.selectedValues.indexOf(this.getValue(t))>-1},onCopy(t){if(-1===this.selectedIndex)return;const e=this.selectedItems[this.selectedIndex],a=this.getText(e);t.clipboardData.setData("text/plain",a),t.clipboardData.setData("text/vnd.vuetify.autocomplete.item+plain",a),t.preventDefault()}}})},de8e:function(t,e,a){"use strict";a("3a0b");var s=a("b974"),n=a("baaf"),i=a("8654"),r=a("afdd"),o=a("d9bd");e["a"]=n["a"].extend({name:"v-overflow-btn",props:{editable:Boolean,segmented:Boolean},computed:{classes(){return{...n["a"].options.computed.classes.call(this),"v-overflow-btn":!0,"v-overflow-btn--segmented":this.segmented,"v-overflow-btn--editable":this.editable}},isAnyValueAllowed(){return this.editable||n["a"].options.computed.isAnyValueAllowed.call(this)},isSingle(){return!0},computedItems(){return this.segmented?this.allItems:this.filteredItems}},methods:{genSelections(){return this.editable?n["a"].options.methods.genSelections.call(this):s["a"].options.methods.genSelections.call(this)},genCommaSelection(t,e,a){return this.segmented?this.genSegmentedBtn(t):s["a"].options.methods.genCommaSelection.call(this,t,e,a)},genInput(){const t=i["a"].options.methods.genInput.call(this);return t.data=t.data||{},t.data.domProps.value=this.editable?this.internalSearch:"",t.data.attrs.readonly=!this.isAnyValueAllowed,t},genLabel(){if(this.editable&&this.isFocused)return null;const t=i["a"].options.methods.genLabel.call(this);return t?(t.data=t.data||{},t.data.style={},t):t},genSegmentedBtn(t){const e=this.getValue(t),a=this.computedItems.find(t=>this.getValue(t)===e)||t;return a.text&&a.callback?this.$createElement(r["a"],{props:{text:!0},on:{click(t){t.stopPropagation(),a.callback(t)}}},[a.text]):(Object(o["c"])("When using 'segmented' prop without a selection slot, items must contain both a text and callback property",this),null)},updateValue(t){t?this.initialValue=this.lazyValue:this.initialValue!==this.lazyValue&&this.$emit("change",this.lazyValue)}}})},f076:function(t,e,a){"use strict";var s=a("3cca"),n=a.n(s);n.a}},0,["chunk-2d0df7da"]]);
//# sourceMappingURL=chunk-157738c2.78b19ebf.js.map