(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72097363"],{"02c8":function(t,e,n){"use strict";var a=n("661f"),i=n.n(a);i.a},"661f":function(t,e,n){},"9a77":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.elementObject?n("v-row",{attrs:{dense:"",wrap:""}},[n("v-col",[n("v-card",{staticClass:"desertsand"},[n("v-card-title",{staticClass:"calligraphy desertsand--text py-1"},[t._v(" Transcripts: "),t.userHasTranscript?t._e():n("v-btn",{staticClass:"primary--text text--lighten-2",attrs:{outlined:""},on:{click:function(e){return t.loadTranscript(0)}}},[t._v("Add Transcript"),n("v-icon",{attrs:{right:""}},[t._v("mdi-plus-circle")])],1),t.userHasTranscript&&!t.userTranscriptLoaded?n("v-btn",{staticClass:"primary--text text--lighten-2",attrs:{outlined:""},on:{click:function(e){return t.loadTranscript(t.elementObject.user_transcript)}}},[t._v("Your Transcript"),n("v-icon",{attrs:{right:""}},[t._v("mdi-pencil")])],1):t._e(),n("v-btn",{staticClass:"desertsand--text ma-1",attrs:{loading:t.fetchingElementObject,disabled:0===t.numberOfTranscripts,outlined:""},on:{click:function(e){t.showTranscriptList=!0}}},[t._v(" All Transcripts "),n("v-badge",{attrs:{content:t.numberOfTranscripts,color:"calligraphy lighten-1"}},[n("v-icon",[t._v("mdi-script-text-outline")])],1)],1),n("v-dialog",{attrs:{width:"395"},model:{value:t.showTranscriptList,callback:function(e){t.showTranscriptList=e},expression:"showTranscriptList"}},[void 0,n("TranscriptListModal",{attrs:{"transcript-list":t.elementObject.transcripts},on:{closeDialog:function(e){t.showTranscriptList=!1},loadTranscript:t.loadTranscript}})],2)],1),t.transcriptLoaded?n("v-card-text",{staticClass:"px-2"},[n("v-row",{attrs:{dense:"",wrap:"","no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[t._v(" By "),n("span",{staticClass:"primary--text font-weight-black mx-1"},[t._v(" "+t._s(t.transcript.curator.username)+" ")]),t._v(" on "+t._s(t.transcript.curationdate)+" "),n("ElementVoter",{attrs:{"up-vote-count":t.transcript.upvote_count,"down-vote-count":t.transcript.downvote_count,"user-vote":t.transcript.user_vote,elementid:t.transcript.id,"element-type":"Transcript","text-typography":"body-1"},on:{updateVote:t.updateVote}})],1),t.transcript.published?t._e():n("v-col",{staticClass:"overline",attrs:{cols:"12"}},[t._v(" ...this transcript is currently in draft and not visible to others... ")]),t.transcript.forkparent?n("v-col",{staticClass:"overline",attrs:{small:"",cols:"12"}},[t._v(" ...this transcript was forked from "),n("a",{staticClass:"primary--text font-weight-black",on:{click:function(e){return e.preventDefault(),t.loadTranscript(t.transcript.forkparent)}}},[t._v("Transcript ID: "+t._s(t.transcript.forkparent))]),t._v("... ")]):t._e(),n("v-col",{attrs:{cols:"12"}},[t.isCurator?t._e():n("v-toolbar",{staticClass:"calligraphy pa-0",attrs:{dense:"",flat:""}},[n("v-btn",{attrs:{small:"",loading:t.submittingFork,color:"elements desertsand--text"},on:{click:function(e){t.userHasTranscript?t.forkOverwriteDialog=!0:t.forkTranscript()}}},[t._v(" Fork "),n("v-badge",{attrs:{content:t.transcript.forks_count,color:"elements darken-2"}},[n("v-icon",[t._v(" mdi-source-fork ")])],1)],1),n("v-dialog",{attrs:{persistent:"","max-width":"300"},model:{value:t.forkOverwriteDialog,callback:function(e){t.forkOverwriteDialog=e},expression:"forkOverwriteDialog"}},[n("v-card",{staticClass:"calligraphy desertsand--text"},[n("v-card-title",{staticClass:"headline"},[t._v("Delete Your Transcript?")]),n("v-card-text",{staticClass:"desertsand calligraphy--text pt-1"},[t._v(" You've already started a transcript for this source item. In order to fork a new transcript, you must first delete your old. Confirm delete and proceed with fork? ")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{small:"",color:"garbage desertsand--text"},on:{click:function(e){t.forkOverwriteDialog=!1}}},[t._v("Cancel "),n("v-icon",{attrs:{right:""}},[t._v("mdi-cancel")])],1),n("v-btn",{attrs:{small:"",color:"error desertsand--text"},on:{click:t.forkTranscript}},[t._v("Proceed "),n("v-icon",{attrs:{right:""}},[t._v("mdi-source-fork")])],1)],1)],1)],1),n("v-btn",{staticClass:"mr-1",attrs:{disabled:"",text:""}},[t._v(" QC ")]),n("v-spacer"),n("v-btn",{staticClass:"elements desertsand--text mx-2",attrs:{small:""},on:{click:function(e){t.showTranslation=!t.showTranslation}}},[n("v-badge",{attrs:{content:t.transcript.translations?t.transcript.translations.length:"0"}},[t._v(" Show Translations ")])],1)],1),t.isCurator?n("v-toolbar",{staticClass:"calligraphy pa-0",attrs:{dense:"",flat:""}},[t.editing?n("v-btn",{staticClass:"primary desertsand--text mr-1",attrs:{small:"",loading:t.submittingSave,disabled:!t.unsavedChanges},on:{click:t.submitSave}},[t._v(" Save "),n("v-icon",{attrs:{right:""}},[t._v("mdi-content-save")])],1):t._e(),t.editing?n("v-btn",{staticClass:"garbage desertsand--text mr-1",attrs:{small:""},on:{click:t.checkEdits}},[t._v(" Close Edit "),n("v-icon",{attrs:{right:""}},[t._v("mdi-close")])],1):t._e(),t.editing?t._e():n("v-btn",{staticClass:"primary mr-1",attrs:{small:""},on:{click:t.openEdit}},[t._v(" Edit "),n("v-icon",{attrs:{right:""}},[t._v(" mdi-pencil ")])],1),n("v-dialog",{attrs:{persistent:"","max-width":"300"},model:{value:t.unsavedChangesDialog,callback:function(e){t.unsavedChangesDialog=e},expression:"unsavedChangesDialog"}},[n("v-card",{staticClass:"calligraphy desertsand--text"},[n("v-card-title",{staticClass:"headline"},[t._v("Unsaved Changes")]),n("v-card-text",{staticClass:"desertsand calligraphy--text pt-1"},[t._v(" You have made changes to your transcript. Would you like to save them, or throw them away? ")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{small:"",color:"primary desertsand--text"},on:{click:t.saveEditsThenClose}},[t._v("Save"),n("v-icon",{attrs:{right:""}},[t._v("mdi-content-save")])],1),n("v-btn",{attrs:{small:"",color:"garbage desertsand--text"},on:{click:t.trashEditsThenClose}},[t._v("Trash"),n("v-icon",{attrs:{right:""}},[t._v("mdi-delete")])],1)],1)],1)],1),n("v-dialog",{attrs:{persistent:"","max-width":"300"},model:{value:t.confirmDeleteDialog,callback:function(e){t.confirmDeleteDialog=e},expression:"confirmDeleteDialog"}},[n("v-card",{staticClass:"calligraphy desertsand--text"},[n("v-card-title",{staticClass:"headline"},[t._v("Confirm Delete?")]),n("v-card-text",{staticClass:"desertsand calligraphy--text pt-1"},[t._v(" You've worked so hard; are you sure that you want to flush all of that work down the toilet and deprive the world of your masterpiece? ")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{small:"",color:"primary desertsand--text"},on:{click:function(e){t.confirmDeleteDialog=!1}}},[t._v("Cancel"),n("v-icon",{attrs:{right:""}},[t._v("mdi-content-save")])],1),n("v-btn",{attrs:{small:"",color:"garbage desertsand--text",loading:t.submittingDelete},on:{click:t.deleteTranscript}},[t._v("Delete"),n("v-icon",{attrs:{right:""}},[t._v("mdi-delete")])],1)],1)],1)],1),t.transcript.published||t.editing?t._e():n("v-btn",{staticClass:"elements desertsand--text mr-1",attrs:{small:""},on:{click:t.togglePublish}},[t._v(" Publish"),n("v-icon",{attrs:{right:""}},[t._v("mdi-eye")])],1),t.transcript.published&&!t.editing?n("v-btn",{staticClass:"elements desertsand--text mr-1",attrs:{small:""},on:{click:t.togglePublish}},[t._v(" Return to Draft"),n("v-icon",{attrs:{right:""}},[t._v("mdi-eye-off")])],1):t._e(),t.editing?t._e():n("v-btn",{staticClass:"garbage desertsand--text mr-1",attrs:{small:""},on:{click:function(e){t.confirmDeleteDialog=!0}}},[t._v(" Delete "),n("v-icon",{attrs:{right:""}},[t._v(" mdi-delete ")])],1),n("v-spacer"),n("v-btn",{staticClass:"elements desertsand--text mx-2",attrs:{small:""},on:{click:function(e){t.showTranslation=!t.showTranslation}}},[n("v-badge",{attrs:{content:t.transcript.translations?t.transcript.translations.length:"0"}},[t.showTranslation?t._e():n("span",[t._v("Show Translations")]),t.showTranslation?n("span",[t._v("Hide Translations")]):t._e()])],1)],1):t._e()],1),n("v-col",{attrs:{cols:"12"}},[t.isCurator&&t.editing?n("editor-menu-bar",{attrs:{editor:t.editor},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.commands,i=e.isActive;return[n("div",{staticClass:"desertsand--text"},[n("v-toolbar",{staticClass:"calligraphy",attrs:{dense:"",flat:""}},[n("v-btn",{class:{"is-active":i.bold()},attrs:{small:"",icon:"",color:"sandstone"},on:{click:a.bold}},[n("v-icon",[t._v(" mdi-format-bold ")])],1),n("v-btn",{class:{"is-active":i.italic()},attrs:{icon:"",small:"",color:"sandstone"},on:{click:a.italic}},[n("v-icon",[t._v(" mdi-format-italic ")])],1),n("v-divider",{staticClass:"mx-1",attrs:{inset:"",vertical:""}}),n("v-btn",{class:{"is-active":i.paragraph()},attrs:{icon:"",small:"",color:"sandstone"},on:{click:a.paragraph}},[n("v-icon",[t._v(" mdi-format-paragraph ")])],1),n("v-btn",{class:{"is-active":i.heading({level:1})},attrs:{icon:"",small:"",color:"sandstone"},on:{click:function(t){return a.heading({level:1})}}},[n("v-icon",[t._v(" mdi-format-header-1 ")])],1),n("v-btn",{class:{"is-active":i.heading({level:2})},attrs:{icon:"",small:"",color:"sandstone"},on:{click:function(t){return a.heading({level:2})}}},[n("v-icon",[t._v(" mdi-format-header-2 ")])],1),n("v-btn",{class:{"is-active":i.heading({level:3})},attrs:{icon:"",small:"",color:"sandstone"},on:{click:function(t){return a.heading({level:3})}}},[n("v-icon",[t._v(" mdi-format-header-3 ")])],1),n("v-divider",{staticClass:"mx-1",attrs:{inset:"",vertical:""}}),n("v-btn",{class:{"is-active":i.alignment({orientation:"left"})},attrs:{icon:"",small:"",color:"sandstone"},on:{click:function(t){return a.alignment({orientation:"left"})}}},[n("v-icon",[t._v(" mdi-format-align-left ")])],1),n("v-btn",{class:{"is-active":i.alignment({orientation:"center"})},attrs:{icon:"",small:"",color:"sandstone"},on:{click:function(t){return a.alignment({orientation:"center"})}}},[n("v-icon",[t._v(" mdi-format-align-center ")])],1),n("v-btn",{class:{"is-active":i.alignment({orientation:"right"})},attrs:{icon:"",small:"",color:"sandstone"},on:{click:function(t){return a.alignment({orientation:"right"})}}},[n("v-icon",[t._v(" mdi-format-align-right ")])],1),n("v-btn",{class:{"is-active":i.text_direction({direction:"ltr"})},attrs:{icon:"",small:"",color:"sandstone"},on:{click:function(t){return a.text_direction({direction:"ltr"})}}},[n("v-icon",[t._v(" mdi-format-textdirection-l-to-r ")])],1),n("v-btn",{class:{"is-active":i.text_direction({direction:"rtl"})},attrs:{icon:"",small:"",color:"sandstone"},on:{click:function(t){return a.text_direction({direction:"rtl"})}}},[n("v-icon",[t._v(" mdi-format-textdirection-r-to-l ")])],1),n("v-divider",{staticClass:"mx-1",attrs:{inset:"",vertical:""}}),n("v-btn",{class:{"is-active":i.highlighter()},attrs:{icon:"",small:"",color:"primary"},on:{click:a.highlighter}},[n("v-icon",[t._v(" mdi-marker ")])],1),n("v-divider",{staticClass:"mx-1",attrs:{inset:"",vertical:""}}),n("v-btn",{attrs:{icon:"",color:"sandstone"},on:{click:t.triggerTimeStamp}},[n("v-icon",[t._v(" mdi-timer ")])],1)],1)],1)]}}],null,!1,2419135091)}):t._e(),n("editor-content",{staticClass:"editor-box",style:t.editorFontClass,attrs:{editor:t.editor,id:"transcripteditorbox"}}),n("v-card-actions",[n("v-btn",{attrs:{icon:""},on:{click:function(e){return t.changeEditorFontSize("down")}}},[n("v-icon",[t._v("mdi-magnify-minus")])],1),t._v(" Text Size "),n("v-btn",{attrs:{icon:""},on:{click:function(e){return t.changeEditorFontSize("up")}}},[n("v-icon",[t._v("mdi-magnify-plus")])],1),n("v-btn",{attrs:{icon:""},on:{click:t.printText}},[n("v-icon",[t._v("mdi-printer")])],1)],1),n("div",{domProps:{textContent:t._s(t.jsonText)}}),n("div",{domProps:{textContent:t._s(t.htmlText)}})],1)],1)],1):t._e()],1),n("v-overlay",{attrs:{value:t.loadingTranscript,absolute:"",color:"calligraphy",opacity:"0.75"}},[n("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),n("v-snackbar",{attrs:{top:"",color:t.snackColor,timeout:t.snackTimeout},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snackText)+" "),n("v-btn",{staticClass:"desertsand--text",attrs:{text:""},on:{click:function(e){t.snackbar=!1}}},[t._v(" Close ")])],1)],1),t.showTranslation&&t.transcriptLoaded?n("v-col",{attrs:{cols:"12",md:"6",id:"translationcolumn"}},[n("TranslationEditor",{ref:"translationeditor",attrs:{"passed-source":t.transcript,"source-type":"transcript"}})],1):t._e()],1):t._e()},i=[],r=(n("99af"),n("b0c0"),n("d3b7"),n("96cf"),n("1da1")),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"desertsand"},[n("v-card-title",{staticClass:"calligraphy desertsand--text"},[t._v(" Available Transcripts: "+t._s(t.transcriptList.length)+" ")]),n("v-list",{staticClass:"desertsand overflow-y-auto",attrs:{"two-line":"",dense:"",subheader:"","max-height":"300"}},t._l(t.transcriptList,(function(e){return n("v-list-item",{key:e.id,on:{click:function(n){return t.loadTranscript(e.id)}}},[n("v-list-item-avatar",[n("v-avatar",{staticClass:"mr-2",attrs:{size:"42"}},[n("v-img",{staticClass:"elevation-6",attrs:{src:e.curator["user_profile"].avatar}})],1),n("v-icon",{domProps:{textContent:t._s(e.curator["user_profile"].avatar)}})],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(e.curator.username)+" @ "+t._s(e.curationdate))]),n("v-list-item-subtitle",[t._v("Translations: "+t._s(e.translations.length)+"; Forks: "+t._s(e.forks_count)+" forks; last updated "+t._s(e.curationdate)+".")]),n("v-list-item-subtitle",[n("v-icon",{class:t.upClass(e.user_vote)},[t._v(" mdi-arrow-up-circle-outline ")]),n("span",{staticClass:"green--text font-weight-bold"},[t._v(t._s(e.upvote_count))]),t._v(" / "),n("span",{staticClass:"red--text font-weight-bold"},[t._v(t._s(e.downvote_count))]),n("v-icon",{class:t.downClass(e.user_vote)},[t._v(" mdi-arrow-down-circle-outline ")])],1)],1)],1)})),1),n("v-card-actions",{staticClass:"calligraphy desertsand--text"},[n("v-spacer"),n("v-btn",{staticClass:"garbage desertsand--text",on:{click:t.closeDialog}},[t._v("Cancel"),n("v-icon",{attrs:{right:""}},[t._v("mdi-cancel")])],1),n("v-spacer")],1)],1)},o=[],c={name:"TranscriptListModal",components:{},props:{transcriptList:{}},data:function(){return{transcriptz:[{avatar:"folder",curator:"ShaykhJake",curationdate:"Jan 9, 2014",votebalance:"+1",translationcount:1,id:1},{avatar:"folder",curator:"ShaykhJake",curationdate:"Jan 9, 2014",votebalance:"-1",translationcount:1,id:2},{avatar:"folder",curator:"ShaykhJake",curationdate:"Jan 9, 2014",votebalance:"+5",translationcount:1,id:3},{avatar:"folder",curator:"ShaykhJake",curationdate:"Jan 9, 2014",votebalance:"-3",translationcount:1,id:4},{avatar:"folder",curator:"ShaykhJake",curationdate:"Jan 9, 2014",votebalance:"+6",translationcount:1,id:5}]}},computed:{},methods:{upClass:function(t){return 1===t?"success--text":""},downClass:function(t){return-1===t?"error--text":""},closeDialog:function(){this.$emit("closeDialog")},loadTranscript:function(t){this.$emit("loadTranscript",t),this.closeDialog()}},created:function(){}},l=c,d=n("2877"),v=n("6544"),u=n.n(v),m=n("8212"),p=n("8336"),h=n("b0af"),g=n("99d9"),f=n("132d"),b=n("adda"),k=n("8860"),_=n("da13"),T=n("8270"),C=n("5d23"),x=n("2fa4"),w=Object(d["a"])(l,s,o,!1,null,null,null),y=w.exports;u()(w,{VAvatar:m["a"],VBtn:p["a"],VCard:h["a"],VCardActions:g["a"],VCardTitle:g["c"],VIcon:f["a"],VImg:b["a"],VList:k["a"],VListItem:_["a"],VListItemAvatar:T["a"],VListItemContent:C["a"],VListItemSubtitle:C["b"],VListItemTitle:C["c"],VSpacer:x["a"]});var O=n("5ce5"),S=n("fbee"),D=n("cd42"),j=n("f23d"),E=n("6f14"),V=n("e880"),L=n("d4ec"),z=n("bee2"),F=n("99de"),P=n("7e84"),I=n("262e"),J=n("a9de"),A=function(t){function e(){return Object(L["a"])(this,e),Object(F["a"])(this,Object(P["a"])(e).apply(this,arguments))}return Object(I["a"])(e,t),Object(z["a"])(e,[{key:"commands",value:function(t){var e=this,n=t.schema;return function(t){return Object(J["c"])(null,n.nodes[e.name],t)}}},{key:"onClick",value:function(){console.log(!0)}},{key:"name",get:function(){return"timestamp"}},{key:"schema",get:function(){return{inline:!0,excludes:"_",group:"inline",attrs:{timehack:{}},draggable:!0,toDOM:function(t){return["a",{href:"#",class:"timestamp",timehack:t.attrs.timehack,style:"text-decoration: none; margin-left: 2px; margin-right: 2px; border-style: dotted; border-width: 1px; border-radius: 3px; font-style: italic; color:firebrick; background-color: oldlace;"}," ".concat(t.attrs.timehack,"s ")]}}}}]),e}(D["e"]),M=n("b878"),H={name:"TranscriptEditor",components:{EditorContent:D["b"],EditorMenuBar:D["c"],ElementVoter:S["a"],TranscriptListModal:y,TranslationEditor:function(){return n.e("chunk-47a8527d").then(n.bind(null,"c947"))}},props:{elementType:{type:String,required:!0},elementSlug:{type:String,required:!0},passedObject:{type:Object,required:!0}},data:function(){var t=this;return{elementObject:{},fetchingElementObject:!1,showTranscriptList:!1,showTranscript:!1,userScriptLoaded:!1,transcriptLoaded:!1,loadedTranscript:0,loadingTranscript:!1,transcript:{},transcripts:{},editorFontSize:1,showTranslationsList:!1,showTranslation:!1,translations:{},jsonText:"",htmlText:"",snackbar:!1,snackColor:"primary desertsand--text",snackTimeout:2e3,snackText:"",submittingFork:!1,submittingSave:!1,submittingDelete:!1,forkOverwriteDialog:!1,editing:!1,unsavedChangesDialog:!1,confirmDeleteDialog:!1,unsavedChanges:!1,currentContent:"",editor:new D["a"]({editable:!1,extensions:[new j["a"],new j["c"],new j["d"]({levels:[1,2,3]}),new j["b"],new E["a"],new V["a"],new j["f"],new j["g"],new j["h"],new j["i"],new j["e"],new A,new M["a"]],editorProps:{handleClickOn:function(e,n,a,i,r){if("timestamp"!==a.type.name)return r;t.$emit("skipToTime",a.attrs.timehack)}},content:"\n          Loading\n         ",onUpdate:function(){t.unsavedChanges=!0,console.log("Unsaved changes")},handleDOMEvents:{}})}},computed:{isCurator:function(){return this.transcript.curator.username===window.localStorage.getItem("username")},editorFontClass:function(){return"font-size:".concat(this.editorFontSize,"em")},userTranscriptLoaded:function(){return this.transcript.id===this.elementObject.user_transcript},numberOfTranscripts:function(){return this.elementObject?this.elementObject.transcripts?this.elementObject.transcripts.length:"0":0},userHasTranscript:function(){return this.elementObject.user_transcript>0}},methods:{printText:function(){var t=document.getElementById("transcripteditorbox").innerHTML,e=window.open("","","height=300, width=300"),n=new Date;e.document.write("\n          <html>\n          <head>\n          <title>PF Printer...</title>\n          </head>\n            <style>\n              .header {\n                position: fixed;\n                top: 0;\n                left: 50%;\n                transform: translate(-50%, 0);\n              }\n              .footer {\n                position: fixed;\n                bottom: 0;\n                left: 50%;\n                transform: translate(-50%, 0);\n              }\n              .content {\n                margin-top: 35px;\n                margin-bottom: 35px;\n                margin-left: 25px;\n                margin-right: 25px;\n                font-family:Arial, Helvetica, sans-serif;\n                line-height: 1.5;\n                font-size: ".concat(this.editorFontSize,'em;\n              }\n            </style>\n            <body>\n                <div class="header">(Source Title: ').concat(this.elementObject.title,')</div>\n                <div class="content">').concat(t,'</div>\n                <div class="footer">(PidginForge on ').concat(n.toLocaleString(),")</div>\n            </body>  \n          </html>\n          <style>\n          ")),e.print()},triggerTimeStamp:function(){this.$emit("triggerTimeStamp")},recordTimeStamp:function(t){if(this.editing){var e=parseInt(t);this.editor.commands.timestamp({timehack:e})}else console.log("Transcript is locked")},updateVote:function(t){this.transcript.user_vote=t.newuservote,this.transcript.downvote_count=t.newdowncount,this.transcript.upvote_count=t.newupcount},checkEdits:function(){this.unsavedChanges?this.unsavedChangesDialog=!0:this.closeEdit()},saveEditsThenClose:function(){this.unsavedChangesDialog=!1,this.submitSave()?this.closeEdit():console.log("error saving")},trashEditsThenClose:function(){this.unsavedChangesDialog=!1,this.editor.setContent(this.currentContent),this.closeEdit()},closeEdit:function(){this.editing=!1,this.editor.setOptions({editable:this.editing})},openEdit:function(){this.editing=!0,this.editor.setOptions({editable:this.editing})},loadImage:function(t){t({src:"https://66.media.tumblr.com/dcd3d24b79d78a3ee0f9192246e727f1/tumblr_o00xgqMhPM1qak053o1_400.gif"})},togglePublish:function(){var t=this;this.publishing=!0;var e="/api/elements/transcript/publish/";try{Object(O["a"])(e,"POST",{pk:this.transcript.id}).then((function(e){null!=e&&1==e.success&&(t.transcript.published=e.published,t.fetchElementObject()),t.publishing=!1}))}catch(n){console.log(n)}},changeEditorFontSize:function(t){"up"===t?this.editorFontSize<3.5&&(this.editorFontSize+=.15):this.editorFontSize>.5&&(this.editorFontSize-=.15)},loadTranscript:function(t){var e=this;if(this.loadingTranscript=!0,0===t){var n="/api/elements/transcriptz/",a={elementtype:this.elementType,elementslug:this.elementSlug,content:"new transcript",notes:"",usertranscript:0};Object(O["a"])(n,"POST",a).then((function(t){t?(e.transcript=t,e.showTranslation=!1,e.elementObject.user_transcript=e.transcript.id,e.transcriptLoaded=!0,e.feedSnack("success darken-1 desertsand--text body-1","New transcript created!",2750),e.currentContent=e.transcript.content,e.editor.setContent(e.currentContent)):(console.log("Something went wrong"),e.transcriptLoaded=!1),e.loadingTranscript=!1}))}else{var i="/api/elements/transcriptz/".concat(t,"/");Object(O["a"])(i).then((function(t){t.id?(e.transcript=t,e.transcriptLoaded=!0,e.currentContent=e.transcript.content,e.editor.setContent(e.currentContent),e.loadingTranscript=!1,e.showTranslation=!1):(t.message?e.feedSnack("elements darken-1 desertsand--text body-1",t.message,2750):e.feedSnack("elements darken-1 desertsand--text body-1","Unknown error loading transcript!",2750),e.transcript={},e.transcriptLoaded=!1,e.showTranscript=!1),e.loadingTranscript=!1}))}},submitSave:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.submittingSave=!0,n=t.currentContent=t.editor.getJSON(),a="/api/elements/transcriptz/".concat(t.transcript.id,"/"),i={content:n,notes:""},Object(O["a"])(a,"PATCH",i).then((function(e){return e?(t.unsavedChanges=!1,t.submittingSave=!1,t.feedSnack("success darken-1 desertsand--text body-1","Edits have been saved!",2250),!0):(t.submittingSave=!1,!1)}));case 5:case"end":return e.stop()}}),e)})))()},deleteTranscript:function(){var t=this;this.submittingDelete=!0;var e="/api/elements/transcriptz/".concat(this.transcript.id,"/");try{Object(O["a"])(e,"DELETE").then((function(){t.feedSnack("garbage darken-1 desertsand--text body-1","Transcript deleted! :-(",2750),t.fetchElementObject(),t.submittingDelete=!1,t.confirmDeleteDialog=!1,t.transcriptLoaded=!1}))}catch(n){console.log(n)}},forkTranscript:function(){var t=this;this.submittingFork=!0;var e=this.editor.getJSON(),n="/api/elements/transcriptz/",a=new Date,i={elementtype:this.elementType,elementslug:this.elementSlug,forkparent:this.transcript.id,usertranscript:this.elementObject.user_transcript,content:e,notes:"This transcript was forked from ".concat(this.transcript.curator,"'s transcript on ").concat(a.toDateString())};Object(O["a"])(n,"POST",i).then((function(e){e?(t.loadTranscript(e.id),t.fetchElementObject()):console.log("There was a problem"),t.submittingFork=!1}))},fetchElementObject:function(){var t=this;this.fetchingElementObject=!0;var e="";"YouTube"===this.elementType?e="/api/elements/youtubez/".concat(this.elementSlug,"/"):"Audio"===this.elementType&&(e="/api/elements/audioz/".concat(this.elementSlug,"/")),e&&Object(O["a"])(e).then((function(e){e?t.elementObject=e:console.log("Problem"),t.fetchingElementObject=!1}))},feedSnack:function(t,e,n){this.snackColor=t,this.snackText=e,this.snackTimeout=n,this.snackbar=!0}},beforeDestroy:function(){this.editor.destroy()},mounted:function(){this.elementObject=this.passedObject}},B=H,Y=(n("02c8"),n("4ca6")),$=n("62ad"),q=n("169a"),R=n("ce7e"),U=n("a797"),N=n("490a"),Q=n("0fd9"),W=n("2db4"),G=n("71d9"),K=Object(d["a"])(B,a,i,!1,null,null,null);e["default"]=K.exports;u()(K,{VBadge:Y["a"],VBtn:p["a"],VCard:h["a"],VCardActions:g["a"],VCardText:g["b"],VCardTitle:g["c"],VCol:$["a"],VDialog:q["a"],VDivider:R["a"],VIcon:f["a"],VOverlay:U["a"],VProgressCircular:N["a"],VRow:Q["a"],VSnackbar:W["a"],VSpacer:x["a"],VToolbar:G["a"]})}},0,["chunk-47a8527d"]]);
//# sourceMappingURL=chunk-72097363.2803a2b2.js.map