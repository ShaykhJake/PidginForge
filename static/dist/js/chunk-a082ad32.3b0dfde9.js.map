{"version":3,"sources":["webpack:///./src/components/textmarkup/MarkupEditor.vue?1d23","webpack:///src/components/textmarkup/MarkupEditor.vue","webpack:///./src/components/textmarkup/MarkupEditor.vue?292f","webpack:///./src/components/textmarkup/MarkupEditor.vue?2197","webpack:///./node_modules/vuetify/lib/components/VAutocomplete/index.js","webpack:///./node_modules/vuetify/lib/components/VOverflowBtn/VOverflowBtn.js","webpack:///./src/components/textmarkup/MarkupEditor.vue?7c16"],"names":["render","_vm","this","_h","$createElement","_c","_self","sourceObject","staticClass","attrs","_v","userHasMarkup","_e","on","$event","loadMarkup","userMarkupLoaded","user_markup","fetchingSource","numberOfMarkups","showMarkupList","model","value","callback","$$v","expression","markups","_s","markup","curator","username","curationdate","targetlanguage","upvote_count","downvote_count","user_vote","id","updateVote","published","preventDefault","forkparent","isCurator","forkOverwriteDialog","forkMarkup","forks_count","submittingSave","unsavedChanges","submitSave","checkEdits","editing","openEdit","unsavedChangesDialog","saveEditsThenClose","trashEditsThenClose","confirmDeleteDialog","submittingDelete","deleteMarkup","togglePublish","editor","scopedSlots","_u","key","fn","ref","commands","isActive","class","bold","italic","paragraph","heading","level","alignment","orientation","text_direction","direction","highlighter","allLanguages","loadingLanguages","$set","style","changeEditorFontSize","printText","loadingMarkup","snackColor","snackTimeout","snackbar","snackText","staticRenderFns","name","components","EditorContent","EditorMenuBar","ElementVoter","MarkupListModal","props","sourceType","type","String","required","passedSource","Object","data","showMarkup","editorFontSize","languageDialog","markupLoaded","loadedMarkup","submittingFork","currentContent","editable","extensions","content","onUpdate","watch","computed","editorFontClass","length","methods","getLanguages","localLanguages","localStorage","getItem","console","log","JSON","parse","err","newuservote","newdowncount","newupcount","closeEdit","setContent","setOptions","loadImage","command","src","publishing","success","markupid","sourceid","sourcetype","payload","submitLanguage","feedSnack","scheme","message","timeout","beforeDestroy","destroy","mounted","created","component","VBadge","VBtn","VCard","VCardActions","VCardText","VCardTitle","VChip","VCol","VDialog","VDivider","VIcon","VOverflowBtn","VOverlay","VProgressCircular","VRow","VSnackbar","VSpacer","VToolbar","extend","Boolean","segmented","options","classes","call","isAnyValueAllowed","allItems","filteredItems","genSelections","item","index","last","genSegmentedBtn","genCommaSelection","input","genInput","domProps","internalSearch","readonly","isFocused","label","genLabel","itemValue","getValue","itemObj","computedItems","find","i","text","e","stopPropagation","val","initialValue","lazyValue","$emit"],"mappings":"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","file":"js/chunk-a082ad32.3b0dfde9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.sourceObject.id)?_c('v-card',{staticClass:\"calligraphy\",attrs:{\"dense\":\"\"}},[_c('v-card-title',{staticClass:\"py-1 desertsand--text\"},[_vm._v(\" Markups: \"),(!_vm.userHasMarkup)?_c('v-btn',{staticClass:\"primary desertsand--text ma-1\",attrs:{\"outlined\":\"\"},on:{\"click\":function($event){return _vm.loadMarkup(0)}}},[_vm._v(\"Add New\"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-plus-circle\")])],1):_vm._e(),(_vm.userHasMarkup && !_vm.userMarkupLoaded)?_c('v-btn',{staticClass:\"desertsand--text ma-1\",attrs:{\"outlined\":\"\"},on:{\"click\":function($event){return _vm.loadMarkup(_vm.sourceObject.user_markup)}}},[_vm._v(\"View Yours\"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-pencil\")])],1):_vm._e(),_c('v-btn',{staticClass:\"desertsand--text ma-1\",attrs:{\"loading\":_vm.fetchingSource,\"disabled\":_vm.numberOfMarkups < 1,\"outlined\":\"\"},on:{\"click\":function($event){_vm.showMarkupList = true}}},[_vm._v(\" View Published \"),_c('v-badge',{attrs:{\"content\":_vm.numberOfMarkups,\"color\":\"calligraphy darken-1\"}},[_c('v-icon',[_vm._v(\"mdi-script-text-outline\")])],1)],1),_c('v-dialog',{attrs:{\"width\":\"395\"},model:{value:(_vm.showMarkupList),callback:function ($$v) {_vm.showMarkupList=$$v},expression:\"showMarkupList\"}},[void 0,_c('MarkupListModal',{attrs:{\"markup-list\":_vm.sourceObject.markups},on:{\"closeDialog\":function($event){_vm.showMarkupList = false},\"loadMarkup\":_vm.loadMarkup}})],2)],1),(_vm.markupLoaded)?_c('v-card-text',{staticClass:\"desertsand calligraphy--text px-2 ma-0\"},[_c('v-row',{attrs:{\"dense\":\"\",\"wrap\":\"\",\"no-gutters\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_vm._v(\" By \"),_c('span',{staticClass:\"primary--text font-weight-black mx-1\"},[_vm._v(\" \"+_vm._s(_vm.markup.curator.username)+\" \")]),_vm._v(\" on \"+_vm._s(_vm.markup.curationdate)+\" \"),_c('v-chip',{staticClass:\"mx-2\",attrs:{\"outlined\":\"\",\"small\":\"\",\"color\":\"languages\"}},[_vm._v(_vm._s(_vm.markup.targetlanguage))]),_c('ElementVoter',{attrs:{\"up-vote-count\":_vm.markup.upvote_count,\"down-vote-count\":_vm.markup.downvote_count,\"user-vote\":_vm.markup.user_vote,\"elementid\":_vm.markup.id,\"element-type\":\"Markup\",\"text-typography\":\"body-1\"},on:{\"updateVote\":_vm.updateVote}})],1),(!_vm.markup.published)?_c('v-col',{staticClass:\"overline\",attrs:{\"cols\":\"12\"}},[_vm._v(\" ...this markup is currently in draft and not visible to others... \")]):_vm._e(),(_vm.markup.forkparent)?_c('v-col',{staticClass:\"overline\",attrs:{\"cols\":\"12\"}},[_vm._v(\" ...this markup was forked from \"),_c('a',{staticClass:\"primary--text font-weight-black\",on:{\"click\":function($event){$event.preventDefault();return _vm.loadMarkup(_vm.markup.forkparent)}}},[_vm._v(\"Markup ID: \"+_vm._s(_vm.markup.forkparent))]),_vm._v(\"... \")]):_vm._e(),_c('v-col',{attrs:{\"cols\":\"12\"}},[(!_vm.isCurator)?_c('v-toolbar',{staticClass:\"calligraphy pa-0\",attrs:{\"dense\":\"\",\"flat\":\"\"}},[_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"elements desertsand--text\"},on:{\"click\":function($event){_vm.userHasMarkup\n                  ? (_vm.forkOverwriteDialog = true)\n                  : _vm.forkMarkup}}},[_vm._v(\" Fork \"),_c('v-badge',{attrs:{\"content\":_vm.markup.forks_count,\"color\":\"elements darken-2\"}},[_c('v-icon',[_vm._v(\" mdi-source-fork \")])],1)],1),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"300\"},model:{value:(_vm.forkOverwriteDialog),callback:function ($$v) {_vm.forkOverwriteDialog=$$v},expression:\"forkOverwriteDialog\"}},[_c('v-card',{staticClass:\"calligraphy desertsand--text\"},[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"Delete Your Markup?\")]),_c('v-card-text',{staticClass:\"desertsand calligraphy--text pt-1\"},[_vm._v(\" You've already started a markup for this source item. In order to fork a new markup, you must first delete your old. Confirm delete and proceed with fork? \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"garbage desertsand--text\"},on:{\"click\":function($event){_vm.forkOverwriteDialog = false}}},[_vm._v(\"Cancel \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-cancel\")])],1),_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"error desertsand--text\"},on:{\"click\":_vm.forkMarkup}},[_vm._v(\"Proceed \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-source-fork\")])],1)],1)],1)],1),_c('v-btn',{staticClass:\"mr-1\",attrs:{\"disabled\":\"\",\"text\":\"\"}},[_vm._v(\" QC \")])],1):_vm._e(),(_vm.isCurator)?_c('v-toolbar',{staticClass:\"calligraphy pa-0\",attrs:{\"dense\":\"\",\"flat\":\"\"}},[(_vm.editing)?_c('v-btn',{staticClass:\"primary desertsand--text mr-1\",attrs:{\"small\":\"\",\"loading\":_vm.submittingSave,\"disabled\":!_vm.unsavedChanges},on:{\"click\":_vm.submitSave}},[_vm._v(\" Save \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-content-save\")])],1):_vm._e(),(_vm.editing)?_c('v-btn',{staticClass:\"garbage desertsand--text mr-1\",attrs:{\"small\":\"\"},on:{\"click\":_vm.checkEdits}},[_vm._v(\" Close Edit \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-close\")])],1):_vm._e(),(!_vm.editing)?_c('v-btn',{staticClass:\"primary mr-1\",attrs:{\"small\":\"\"},on:{\"click\":_vm.openEdit}},[_vm._v(\" Edit \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\" mdi-pencil \")])],1):_vm._e(),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"300\"},model:{value:(_vm.unsavedChangesDialog),callback:function ($$v) {_vm.unsavedChangesDialog=$$v},expression:\"unsavedChangesDialog\"}},[_c('v-card',{staticClass:\"calligraphy desertsand--text\"},[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"Unsaved Changes\")]),_c('v-card-text',{staticClass:\"desertsand calligraphy--text pt-1\"},[_vm._v(\" You have made changes to your markup. Would you like to save them, or throw them away? \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"primary desertsand--text\"},on:{\"click\":_vm.saveEditsThenClose}},[_vm._v(\"Save\"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-content-save\")])],1),_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"garbage desertsand--text\"},on:{\"click\":_vm.trashEditsThenClose}},[_vm._v(\"Trash\"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-delete\")])],1)],1)],1)],1),_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"300\"},model:{value:(_vm.confirmDeleteDialog),callback:function ($$v) {_vm.confirmDeleteDialog=$$v},expression:\"confirmDeleteDialog\"}},[_c('v-card',{staticClass:\"calligraphy desertsand--text\"},[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"Confirm Delete?\")]),_c('v-card-text',{staticClass:\"desertsand calligraphy--text pt-1\"},[_vm._v(\" You've worked so hard; are you sure that you want to flush all of that work down the toilet and deprive the world of your masterpiece? \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"primary desertsand--text\"},on:{\"click\":function($event){_vm.confirmDeleteDialog = false}}},[_vm._v(\"Cancel\"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-content-save\")])],1),_c('v-btn',{attrs:{\"small\":\"\",\"color\":\"garbage desertsand--text\",\"loading\":_vm.submittingDelete},on:{\"click\":_vm.deleteMarkup}},[_vm._v(\"Delete\"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-delete\")])],1)],1)],1)],1),(!_vm.markup.published && !_vm.editing)?_c('v-btn',{staticClass:\"elements desertsand--text mr-1\",attrs:{\"small\":\"\"},on:{\"click\":_vm.togglePublish}},[_vm._v(\" Publish\"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-eye\")])],1):_vm._e(),(_vm.markup.published && !_vm.editing)?_c('v-btn',{staticClass:\"elements desertsand--text mr-1\",attrs:{\"small\":\"\"},on:{\"click\":_vm.togglePublish}},[_vm._v(\" Return to Draft\"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-eye-off\")])],1):_vm._e(),(!_vm.editing)?_c('v-btn',{staticClass:\"garbage desertsand--text mr-1\",attrs:{\"small\":\"\"},on:{\"click\":function($event){_vm.confirmDeleteDialog = true}}},[_vm._v(\" Delete \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\" mdi-delete \")])],1):_vm._e()],1):_vm._e()],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[(_vm.isCurator && _vm.editing)?_c('editor-menu-bar',{attrs:{\"editor\":_vm.editor},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n                  var commands = ref.commands;\n                  var isActive = ref.isActive;\nreturn [_c('div',{staticClass:\"desertsand--text\"},[_c('v-toolbar',{staticClass:\"calligraphy\",attrs:{\"dense\":\"\",\"flat\":\"\"}},[_c('v-btn',{class:{ 'is-active': isActive.bold() },attrs:{\"small\":\"\",\"icon\":\"\",\"color\":\"sandstone\"},on:{\"click\":commands.bold}},[_c('v-icon',[_vm._v(\" mdi-format-bold \")])],1),_c('v-btn',{class:{ 'is-active': isActive.italic() },attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"sandstone\"},on:{\"click\":commands.italic}},[_c('v-icon',[_vm._v(\" mdi-format-italic \")])],1),_c('v-divider',{staticClass:\"mx-1\",attrs:{\"inset\":\"\",\"vertical\":\"\"}}),_c('v-btn',{class:{ 'is-active': isActive.paragraph() },attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"sandstone\"},on:{\"click\":commands.paragraph}},[_c('v-icon',[_vm._v(\" mdi-format-paragraph \")])],1),_c('v-btn',{class:{ 'is-active': isActive.heading({ level: 1 }) },attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"sandstone\"},on:{\"click\":function($event){return commands.heading({ level: 1 })}}},[_c('v-icon',[_vm._v(\" mdi-format-header-1 \")])],1),_c('v-btn',{class:{ 'is-active': isActive.heading({ level: 2 }) },attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"sandstone\"},on:{\"click\":function($event){return commands.heading({ level: 2 })}}},[_c('v-icon',[_vm._v(\" mdi-format-header-2 \")])],1),_c('v-btn',{class:{ 'is-active': isActive.heading({ level: 3 }) },attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"sandstone\"},on:{\"click\":function($event){return commands.heading({ level: 3 })}}},[_c('v-icon',[_vm._v(\" mdi-format-header-3 \")])],1),_c('v-divider',{staticClass:\"mx-1\",attrs:{\"inset\":\"\",\"vertical\":\"\"}}),_c('v-btn',{class:{\n                      'is-active': isActive.alignment({ orientation: 'left' })\n                    },attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"sandstone\"},on:{\"click\":function($event){return commands.alignment({ orientation: 'left' })}}},[_c('v-icon',[_vm._v(\" mdi-format-align-left \")])],1),_c('v-btn',{class:{\n                      'is-active': isActive.alignment({\n                        orientation: 'center'\n                      })\n                    },attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"sandstone\"},on:{\"click\":function($event){return commands.alignment({ orientation: 'center' })}}},[_c('v-icon',[_vm._v(\" mdi-format-align-center \")])],1),_c('v-btn',{class:{\n                      'is-active': isActive.alignment({\n                        orientation: 'right'\n                      })\n                    },attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"sandstone\"},on:{\"click\":function($event){return commands.alignment({ orientation: 'right' })}}},[_c('v-icon',[_vm._v(\" mdi-format-align-right \")])],1),_c('v-btn',{class:{\n                      'is-active': isActive.text_direction({\n                        direction: 'ltr'\n                      })\n                    },attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"sandstone\"},on:{\"click\":function($event){return commands.text_direction({ direction: 'ltr' })}}},[_c('v-icon',[_vm._v(\" mdi-format-textdirection-l-to-r \")])],1),_c('v-btn',{class:{\n                      'is-active': isActive.text_direction({\n                        direction: 'rtl'\n                      })\n                    },attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"sandstone\"},on:{\"click\":function($event){return commands.text_direction({ direction: 'rtl' })}}},[_c('v-icon',[_vm._v(\" mdi-format-textdirection-r-to-l \")])],1),_c('v-divider',{staticClass:\"mx-1\",attrs:{\"inset\":\"\",\"vertical\":\"\"}}),_c('v-btn',{class:{ 'is-active': isActive.highlighter() },attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"primary\"},on:{\"click\":commands.highlighter}},[_c('v-icon',[_vm._v(\" mdi-marker \")])],1),_c('v-divider',{staticClass:\"mx-1\",attrs:{\"inset\":\"\",\"vertical\":\"\"}}),_c('v-overflow-btn',{staticClass:\"pa-0\",attrs:{\"items\":_vm.allLanguages,\"loading\":_vm.loadingLanguages,\"editable\":\"\",\"dense\":\"\",\"color\":\"sandstone calligraphy--text\",\"label\":\"Select Language\",\"hide-details\":\"\",\"overflow\":\"\",\"item-color\":\"primary\"},on:{\"change\":function($event){_vm.unsavedChanges = true}},model:{value:(_vm.markup.targetlanguage),callback:function ($$v) {_vm.$set(_vm.markup, \"targetlanguage\", $$v)},expression:\"markup.targetlanguage\"}}),_c('v-spacer')],1)],1)]}}],null,false,1273975014)}):_vm._e(),_c('editor-content',{staticClass:\"editor-box\",style:(_vm.editorFontClass),attrs:{\"editor\":_vm.editor,\"id\":\"markupeditorbox\"}}),_c('v-card-actions',[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.changeEditorFontSize('down')}}},[_c('v-icon',[_vm._v(\"mdi-magnify-minus\")])],1),_vm._v(\" Text Size \"),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.changeEditorFontSize('up')}}},[_c('v-icon',[_vm._v(\"mdi-magnify-plus\")])],1),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.printText}},[_c('v-icon',[_vm._v(\"mdi-printer\")])],1)],1)],1)],1)],1):_vm._e()],1):_vm._e(),_c('v-overlay',{attrs:{\"value\":_vm.loadingMarkup,\"absolute\":\"\",\"color\":\"calligraphy\",\"opacity\":\"0.75\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"64\"}})],1),_c('v-snackbar',{attrs:{\"top\":\"\",\"color\":_vm.snackColor,\"timeout\":_vm.snackTimeout},model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\" \"+_vm._s(_vm.snackText)+\" \"),_c('v-btn',{staticClass:\"desertsand--text\",attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.snackbar = false}}},[_vm._v(\" Close \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-card class=\"calligraphy\" dense v-if=\"sourceObject.id\">\n      <v-card-title class=\"py-1 desertsand--text\">\n        Markups:\n        <v-btn\n          outlined\n          v-if=\"!userHasMarkup\"\n          class=\"primary desertsand--text ma-1\"\n          @click=\"loadMarkup(0)\"\n          >Add New<v-icon right>mdi-plus-circle</v-icon></v-btn\n        >\n        <v-btn\n          v-if=\"userHasMarkup && !userMarkupLoaded\"\n          class=\"desertsand--text ma-1\"\n          outlined\n          @click=\"loadMarkup(sourceObject.user_markup)\"\n          >View Yours<v-icon right>mdi-pencil</v-icon></v-btn\n        >\n        <v-btn\n          :loading=\"fetchingSource\"\n          :disabled=\"numberOfMarkups < 1\"\n          @click=\"showMarkupList = true\"\n          class=\"desertsand--text ma-1\"\n          outlined\n        >\n          View Published\n          <v-badge :content=\"numberOfMarkups\" color=\"calligraphy darken-1\">\n            <v-icon>mdi-script-text-outline</v-icon>\n          </v-badge>\n        </v-btn>\n\n        <v-dialog v-model=\"showMarkupList\" width=\"395\">\n          <template> </template>\n          <MarkupListModal\n            @closeDialog=\"showMarkupList = false\"\n            :markup-list=\"sourceObject.markups\"\n            @loadMarkup=\"loadMarkup\"\n          />\n        </v-dialog>\n      </v-card-title>\n\n      <v-card-text\n        class=\"desertsand calligraphy--text px-2 ma-0\"\n        v-if=\"markupLoaded\"\n      >\n        <v-row dense wrap no-gutters>\n          <v-col cols=\"12\">\n            By\n            <span class=\"primary--text font-weight-black mx-1\">\n              {{ markup.curator.username }}\n            </span>\n            on {{ markup.curationdate }}\n            <v-chip outlined small color=\"languages\" class=\"mx-2\">{{\n              markup.targetlanguage\n            }}</v-chip>\n\n            <ElementVoter\n              @updateVote=\"updateVote\"\n              :up-vote-count=\"markup.upvote_count\"\n              :down-vote-count=\"markup.downvote_count\"\n              :user-vote=\"markup.user_vote\"\n              :elementid=\"markup.id\"\n              element-type=\"Markup\"\n              text-typography=\"body-1\"\n            />\n            \n          </v-col>\n          <v-col cols=\"12\" class=\"overline\" v-if=\"!markup.published\">\n            ...this markup is currently in draft and not visible to\n            others...\n          </v-col>\n          <v-col cols=\"12\" class=\"overline\" v-if=\"markup.forkparent\">\n            ...this markup was forked from\n            <a\n              class=\"primary--text font-weight-black\"\n              @click.prevent=\"loadMarkup(markup.forkparent)\"\n              >Markup ID: {{ markup.forkparent }}</a\n            >...\n          </v-col>\n\n          <v-col cols=\"12\">\n            <v-toolbar dense v-if=\"!isCurator\" flat class=\"calligraphy pa-0\">\n              <v-btn\n                small\n                color=\"elements desertsand--text\"\n                @click=\"\n                  userHasMarkup\n                    ? (forkOverwriteDialog = true)\n                    : forkMarkup\n                \"\n              >\n                Fork\n                <v-badge\n                  :content=\"markup.forks_count\"\n                  color=\"elements darken-2\"\n                >\n                  <v-icon>\n                    mdi-source-fork\n                  </v-icon>\n                </v-badge>\n              </v-btn>\n              <v-dialog\n                v-model=\"forkOverwriteDialog\"\n                persistent\n                max-width=\"300\"\n              >\n                <v-card class=\"calligraphy desertsand--text\">\n                  <v-card-title class=\"headline\"\n                    >Delete Your Markup?</v-card-title\n                  >\n                  <v-card-text class=\"desertsand calligraphy--text pt-1\">\n                    You've already started a markup for this source item.\n                    In order to fork a new markup, you must first delete\n                    your old. Confirm delete and proceed with fork?\n                  </v-card-text>\n                  <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn\n                      small\n                      color=\"garbage desertsand--text\"\n                      @click=\"forkOverwriteDialog = false\"\n                      >Cancel <v-icon right>mdi-cancel</v-icon></v-btn\n                    >\n                    <v-btn\n                      small\n                      color=\"error desertsand--text\"\n                      @click=\"forkMarkup\"\n                      >Proceed <v-icon right>mdi-source-fork</v-icon></v-btn\n                    >\n                  </v-card-actions>\n                </v-card>\n              </v-dialog>\n\n              <v-btn disabled text class=\"mr-1\">\n                QC\n              </v-btn>\n            </v-toolbar>\n\n            <v-toolbar v-if=\"isCurator\" dense flat class=\"calligraphy pa-0\">\n              <v-btn\n                v-if=\"editing\"\n                small\n                class=\"primary desertsand--text mr-1\"\n                @click=\"submitSave\"\n                :loading=\"submittingSave\"\n                :disabled=\"!unsavedChanges\"\n              >\n                Save\n                <v-icon right>mdi-content-save</v-icon>\n              </v-btn>\n              <v-btn\n                v-if=\"editing\"\n                small\n                class=\"garbage desertsand--text mr-1\"\n                @click=\"checkEdits\"\n              >\n                Close Edit\n                <v-icon right>mdi-close</v-icon>\n              </v-btn>\n              <v-btn\n                v-if=\"!editing\"\n                class=\"primary mr-1\"\n                @click=\"openEdit\"\n                small\n              >\n                Edit\n                <v-icon right>\n                  mdi-pencil\n                </v-icon>\n              </v-btn>\n\n              <v-dialog\n                v-model=\"unsavedChangesDialog\"\n                persistent\n                max-width=\"300\"\n              >\n                <v-card class=\"calligraphy desertsand--text\">\n                  <v-card-title class=\"headline\">Unsaved Changes</v-card-title>\n                  <v-card-text class=\"desertsand calligraphy--text pt-1\">\n                    You have made changes to your markup. Would you like to\n                    save them, or throw them away?\n                  </v-card-text>\n                  <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn\n                      small\n                      color=\"primary desertsand--text\"\n                      @click=\"saveEditsThenClose\"\n                      >Save<v-icon right>mdi-content-save</v-icon></v-btn\n                    >\n                    <v-btn\n                      small\n                      color=\"garbage desertsand--text\"\n                      @click=\"trashEditsThenClose\"\n                      >Trash<v-icon right>mdi-delete</v-icon></v-btn\n                    >\n                  </v-card-actions>\n                </v-card>\n              </v-dialog>\n\n              <v-dialog\n                v-model=\"confirmDeleteDialog\"\n                persistent\n                max-width=\"300\"\n              >\n                <v-card class=\"calligraphy desertsand--text\">\n                  <v-card-title class=\"headline\">Confirm Delete?</v-card-title>\n                  <v-card-text class=\"desertsand calligraphy--text pt-1\">\n                    You've worked so hard; are you sure that you want to flush\n                    all of that work down the toilet and deprive the world of\n                    your masterpiece?\n                  </v-card-text>\n                  <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn\n                      small\n                      color=\"primary desertsand--text\"\n                      @click=\"confirmDeleteDialog = false\"\n                      >Cancel<v-icon right>mdi-content-save</v-icon></v-btn\n                    >\n                    <v-btn\n                      small\n                      color=\"garbage desertsand--text\"\n                      @click=\"deleteMarkup\"\n                      :loading=\"submittingDelete\"\n                      >Delete<v-icon right>mdi-delete</v-icon></v-btn\n                    >\n                  </v-card-actions>\n                </v-card>\n              </v-dialog>\n\n              <v-btn\n                small\n                class=\"elements desertsand--text mr-1\"\n                v-if=\"!markup.published && !editing\"\n                @click=\"togglePublish\"\n              >\n                Publish<v-icon right>mdi-eye</v-icon>\n              </v-btn>\n              <v-btn\n                small\n                class=\"elements desertsand--text mr-1\"\n                v-if=\"markup.published && !editing\"\n                @click=\"togglePublish\"\n              >\n                Return to Draft<v-icon right>mdi-eye-off</v-icon>\n              </v-btn>\n              <v-btn\n                small\n                v-if=\"!editing\"\n                class=\"garbage desertsand--text mr-1\"\n                @click=\"confirmDeleteDialog = true\"\n              >\n                Delete\n                <v-icon right>\n                  mdi-delete\n                </v-icon>\n              </v-btn>\n            </v-toolbar>\n          </v-col>\n          <v-col cols=\"12\">\n            <editor-menu-bar\n              v-if=\"isCurator && editing\"\n              :editor=\"editor\"\n              v-slot=\"{ commands, isActive }\"\n            >\n              <div class=\"desertsand--text\">\n                <v-toolbar dense flat class=\"calligraphy\">\n                    <v-btn\n                      small\n                      icon\n                      color=\"sandstone\"\n                      :class=\"{ 'is-active': isActive.bold() }\"\n                      @click=\"commands.bold\"\n                    >\n                      <v-icon>\n                        mdi-format-bold\n                      </v-icon>\n                    </v-btn>\n                    <v-btn\n                      icon\n                      small\n                      color=\"sandstone\"\n                      :class=\"{ 'is-active': isActive.italic() }\"\n                      @click=\"commands.italic\"\n                    >\n                      <v-icon>\n                        mdi-format-italic\n                      </v-icon>\n                    </v-btn>\n                    <v-divider class=\"mx-1\" inset vertical></v-divider>\n                    <v-btn\n                      icon\n                      small\n                      color=\"sandstone\"\n                      :class=\"{ 'is-active': isActive.paragraph() }\"\n                      @click=\"commands.paragraph\"\n                    >\n                      <v-icon>\n                        mdi-format-paragraph\n                      </v-icon>\n                    </v-btn>\n                    <v-btn\n                      icon\n                      small\n                      color=\"sandstone\"\n                      :class=\"{ 'is-active': isActive.heading({ level: 1 }) }\"\n                      @click=\"commands.heading({ level: 1 })\"\n                    >\n                      <v-icon>\n                        mdi-format-header-1\n                      </v-icon>\n                    </v-btn>\n                    <v-btn\n                      icon\n                      small\n                      color=\"sandstone\"\n                      :class=\"{ 'is-active': isActive.heading({ level: 2 }) }\"\n                      @click=\"commands.heading({ level: 2 })\"\n                    >\n                      <v-icon>\n                        mdi-format-header-2\n                      </v-icon>\n                    </v-btn>\n                    <v-btn\n                      icon\n                      small\n                      color=\"sandstone\"\n                      :class=\"{ 'is-active': isActive.heading({ level: 3 }) }\"\n                      @click=\"commands.heading({ level: 3 })\"\n                    >\n                      <v-icon>\n                        mdi-format-header-3\n                      </v-icon>\n                    </v-btn>\n\n                    <v-divider class=\"mx-1\" inset vertical></v-divider>\n\n                    <v-btn\n                      icon\n                      small\n                      color=\"sandstone\"\n                      :class=\"{\n                        'is-active': isActive.alignment({ orientation: 'left' })\n                      }\"\n                      @click=\"commands.alignment({ orientation: 'left' })\"\n                    >\n                      <v-icon>\n                        mdi-format-align-left\n                      </v-icon>\n                    </v-btn>\n\n                    <v-btn\n                      icon\n                      small\n                      color=\"sandstone\"\n                      :class=\"{\n                        'is-active': isActive.alignment({\n                          orientation: 'center'\n                        })\n                      }\"\n                      @click=\"commands.alignment({ orientation: 'center' })\"\n                    >\n                      <v-icon>\n                        mdi-format-align-center\n                      </v-icon>\n                    </v-btn>\n\n                    <v-btn\n                      icon\n                      small\n                      color=\"sandstone\"\n                      :class=\"{\n                        'is-active': isActive.alignment({\n                          orientation: 'right'\n                        })\n                      }\"\n                      @click=\"commands.alignment({ orientation: 'right' })\"\n                    >\n                      <v-icon>\n                        mdi-format-align-right\n                      </v-icon>\n                    </v-btn>\n\n                    <v-btn\n                      icon\n                      small\n                      color=\"sandstone\"\n                      :class=\"{\n                        'is-active': isActive.text_direction({\n                          direction: 'ltr'\n                        })\n                      }\"\n                      @click=\"commands.text_direction({ direction: 'ltr' })\"\n                    >\n                      <v-icon>\n                        mdi-format-textdirection-l-to-r\n                      </v-icon>\n                    </v-btn>\n                    <v-btn\n                      icon\n                      small\n                      color=\"sandstone\"\n                      :class=\"{\n                        'is-active': isActive.text_direction({\n                          direction: 'rtl'\n                        })\n                      }\"\n                      @click=\"commands.text_direction({ direction: 'rtl' })\"\n                    >\n                      <v-icon>\n                        mdi-format-textdirection-r-to-l\n                      </v-icon>\n                    </v-btn>\n\n                    <v-divider class=\"mx-1\" inset vertical></v-divider>\n\n                    <v-btn\n                      icon\n                      small\n                      color=\"primary\"\n                      :class=\"{ 'is-active': isActive.highlighter() }\"\n                      @click=\"commands.highlighter\"\n                    >\n                      <v-icon>\n                        mdi-marker\n                      </v-icon>\n                    </v-btn>\n\n                    <v-divider class=\"mx-1\" inset vertical></v-divider>\n\n                  <v-overflow-btn\n                    @change=\"unsavedChanges = true\"\n                    :items=\"allLanguages\"\n                    v-model=\"markup.targetlanguage\"\n                    :loading=\"loadingLanguages\"\n                    editable\n                    dense\n                    color=\"sandstone calligraphy--text\"\n                    label=\"Select Language\"\n                    hide-details\n                    class=\"pa-0\"\n                    overflow\n                    item-color=\"primary\"\n                  ></v-overflow-btn>\n                  <v-spacer></v-spacer>\n                </v-toolbar>\n              </div>\n            </editor-menu-bar>\n            <editor-content :editor=\"editor\" :style=\"editorFontClass\" class=\"editor-box\" id=\"markupeditorbox\" />\n            <v-card-actions>\n              <v-btn icon @click=\"changeEditorFontSize('down')\">\n                    <v-icon>mdi-magnify-minus</v-icon>\n              </v-btn>\n                Text Size\n              <v-btn icon @click=\"changeEditorFontSize('up')\">\n                  <v-icon>mdi-magnify-plus</v-icon>\n              </v-btn>\n              <v-btn icon @click=\"printText\"><v-icon>mdi-printer</v-icon></v-btn>\n            </v-card-actions>\n          </v-col>\n        </v-row>\n      </v-card-text>\n    </v-card>\n    <v-overlay\n      :value=\"loadingMarkup\"\n      absolute\n      color=\"calligraphy\"\n      opacity=\"0.75\"\n    >\n      <v-progress-circular indeterminate size=\"64\"></v-progress-circular>\n    </v-overlay>\n\n    <v-snackbar\n      top\n      v-model=\"snackbar\"\n      :color=\"snackColor\"\n      :timeout=\"snackTimeout\"\n    >\n      {{ snackText }}\n      <v-btn class=\"desertsand--text\" text @click=\"snackbar = false\">\n        Close\n      </v-btn>\n    </v-snackbar>\n  </div>\n</template>\n\n<script>\n// Import the editor\n// import MarkupListModal from \"@/components/markup/MarkupListModal.vue\";\nimport { apiService } from \"@/common/api.service.js\";\nimport ElementVoter from \"@/components/elements/ElementVoter.vue\";\n\nimport { Editor, EditorContent, EditorMenuBar } from \"tiptap\";\nimport {\n  Blockquote,\n  HardBreak,\n  Heading,\n  Bold,\n  Italic,\n  Link,\n  Strike,\n  Underline,\n  History\n} from \"tiptap-extensions\";\nimport { default as Alignment } from \"@/components/tiptaptoo/Alignment.js\";\nimport { default as TextDirection } from \"@/components/tiptaptoo/TextDirection.js\";\nimport { default as Highlighter } from \"@/components/tiptaptoo/Highlighter.js\";\n\nexport default {\n  name: \"MarkupEditor\",\n  components: {\n    EditorContent,\n    EditorMenuBar,\n    ElementVoter,\n    // MarkupEditor: () =>\n    //   import(\n    //     /* webpackPrefetch: true */ \"@/components/markup/MarkupEditor.vue\"\n    //   ),\n    MarkupListModal: () =>\n      import(\n        /* webpackPrefetch: true */ \"@/components/textmarkup/MarkupListModal.vue\"\n      )\n  },\n  props: {\n    sourceType: {\n      type: String,\n      required: true\n    },\n    passedSource: {\n      type: Object,\n      required: true\n    }\n  },\n  data() {\n    return {\n      sourceObject: {},\n      markup: {\n        targetlanguage: \"\"\n      },\n      fetchingSource: false,\n\n      showMarkupList: false,\n      showMarkup: false,\n\n      editorFontSize: 1,\n      languageDialog: false,\n      allLanguages: [],\n      loadingLanguages: false,\n\n      markupLoaded: false,\n      loadedMarkup: 0,\n      loadingMarkup: false,\n\n      snackbar: false,\n      snackColor: \"primary desertsand--text\",\n      snackTimeout: 2000,\n      snackText: \"\",\n\n      submittingFork: false,\n      submittingSave: false,\n      submittingDelete: false,\n      forkOverwriteDialog: false,\n\n      editing: false,\n      unsavedChangesDialog: false,\n      unsavedChanges: false,\n      currentContent: ``,\n      confirmDeleteDialog: false,\n      editor: new Editor({\n        editable: false,\n        extensions: [\n          new Blockquote(),\n          new HardBreak(),\n          new Heading({ levels: [1, 2, 3] }),\n          new Bold(),\n          new Alignment(),\n          new TextDirection(),\n          new Italic(),\n          new Link(),\n          new Strike(),\n          new Underline(),\n          new History(),\n          new Highlighter()\n        ],\n        content: `\n          Loading\n         `,\n        onUpdate: () => {\n          this.unsavedChanges = true;\n          // console.log(\"Unsaved changes\");\n        },\n      })\n    };\n  },\n  watch: {},\n  computed: {\n    isCurator() {\n      if (this.markup.curator) {\n        return (\n          this.markup.curator.username ===\n          window.localStorage.getItem(\"username\")\n        );\n      } else {\n        return false;\n      }\n    },\n    editorFontClass(){\n      return `font-size:${this.editorFontSize}em`\n    },\n    numberOfMarkups() {\n      if (this.sourceObject.markups) {\n        return this.sourceObject.markups.length;\n      } else {\n        return 0;\n      }\n    },\n    userHasMarkup() {\n      return this.sourceObject.user_markup > 0 ? true : false;\n    },\n    userMarkupLoaded() {\n      return this.markup.id === this.sourceObject.user_markup;\n    }\n  },\n  methods: {\n    getLanguages() {\n      var localLanguages = localStorage.getItem(\"languages\");\n      if(localLanguages.length > 1){\n        console.log(\"Shop local!\")\n        this.allLanguages = JSON.parse(localLanguages)\n      } else {\n        this.loadingLanguages = true;\n        let endpoint = `/api/categories/languages/`;\n        try {\n          apiService(endpoint).then(data => {\n            if (data != null) {\n              this.allLanguages = data;\n              this.error = false;\n            } else {\n              console.log(\"Something bad happened...\");\n              this.error = true;\n            }\n            this.loadingLanguages = false;\n          });\n        } catch (err) {\n          console.log(err);\n        }\n\n      }\n    },\n\n    printText(){\n        var html = document.getElementById(\"markupeditorbox\").innerHTML\n        var a = window.open('', '', 'height=300, width=300');\n        var dateStamp = new Date();\n        a.document.write(\n        `\n          <html>\n          <head>\n          <title>PF Printer...</title>\n          </head>\n            <style>\n              .header {\n                position: fixed;\n                top: 0;\n                left: 50%;\n                transform: translate(-50%, 0);\n              }\n              .footer {\n                position: fixed;\n                bottom: 0;\n                left: 50%;\n                transform: translate(-50%, 0);\n              }\n              .content {\n                font-family:Arial, Helvetica, sans-serif;\n                line-height: 1.5;\n                font-size: ${this.editorFontSize}em;\n              }\n            </style>\n            <body>\n                <div class=\"header\">${this.sourceObject.title}</div>\n                <div class=\"content\">${html}</div>\n                <div class=\"footer\">PidginForge on ${dateStamp.toLocaleString()}</div>\n            </body>  \n          </html>\n          <style>\n          `\n        );\n        a.print();\n    },\n    changeEditorFontSize(direction){\n      if(direction===\"up\"){\n        if(this.editorFontSize < 3.5){\n          this.editorFontSize += 0.15\n        }\n      } else {\n        if(this.editorFontSize > 0.5){\n          this.editorFontSize -= 0.15\n        }\n      }\n    },\n    updateVote(data) {\n      this.markup.user_vote = data.newuservote;\n      this.markup.downvote_count = data.newdowncount;\n      this.markup.upvote_count = data.newupcount;\n    },\n    checkEdits() {\n      if (this.unsavedChanges) {\n        this.unsavedChangesDialog = true;\n      } else {\n        this.closeEdit();\n      }\n    },\n    saveEditsThenClose() {\n      this.unsavedChangesDialog = false;\n      if (this.submitSave()) {\n        this.closeEdit();\n      } else {\n        console.log(\"error saving\");\n      }\n    },\n    trashEditsThenClose() {\n      this.unsavedChangesDialog = false;\n      this.editor.setContent(this.currentContent);\n      this.closeEdit();\n    },\n    closeEdit() {\n      this.editing = false;\n      this.editor.setOptions({\n        editable: this.editing\n      });\n    },\n    openEdit() {\n      this.editing = true;\n      this.editor.setOptions({\n        editable: this.editing\n      });\n    },\n    loadImage: function(command) {\n      command({\n        src:\n          \"https://66.media.tumblr.com/dcd3d24b79d78a3ee0f9192246e727f1/tumblr_o00xgqMhPM1qak053o1_400.gif\"\n      });\n    },\n    togglePublish() {\n      this.publishing = true;\n      let endpoint = \"/api/elements/markup/publish/\";\n\n      try {\n        apiService(endpoint, \"POST\", { pk: this.markup.id }).then(data => {\n          if (data != null) {\n            if (data.success == true) {\n              // console.log(data);\n              this.markup.published = data.published;\n            } else {\n              // this.alertType = 'error';\n            }\n          } else {\n            // this.alertType = 'error';\n          }\n          this.publishing = false;\n        });\n      } catch (err) {\n        console.log(err);\n      }\n    },\n\n    loadMarkup(markupid) {\n      this.loadingMarkup = true;\n      if (markupid === 0) {\n        // CREATE A NEW MARKUP IF THERE ISN'T ONE\n        // console.log(\"Creating new markup...\")\n        let endpoint = `/api/elements/markupz/`;\n        let payload = {\n          // elementtype: this.sourceType,\n          // elementslug: this.elementSlug,\n          sourceid: this.sourceObject.id,\n          sourcetype: this.sourceType,\n          content: \"...new markup...\",\n          // TODO - Fix the language so it defaults to the User's native language\n          targetlanguage: \"English\"\n          // usertranscript: 0\n        };\n        console.log(payload);\n        apiService(endpoint, \"POST\", payload).then(data => {\n          if (data) {\n            console.log(data)\n            this.markup = data;\n            console.log(this.markup.content)\n            this.sourceObject.user_markup = this.markup.id;\n            this.markupLoaded = true;\n            // this.isNewMarkup = true;\n            this.feedSnack(\n              \"success darken-1 desertsand--text body-1\",\n              \"New markup created!\",\n              2750\n            );\n            this.currentContent = this.markup.content;\n            this.editor.setContent(this.currentContent);\n          } else {\n            console.log(\"Something went wrong\");\n            this.markupLoaded = false;\n          }\n          this.loadingMarkup = false;\n        });\n      } else {\n        // Try to load existing markup\n        let endpoint = `/api/elements/markupz/${markupid}/`;\n        try {\n          apiService(endpoint).then(data => {\n            if (data.id) {\n              this.markup = data;\n              this.markupLoaded = true;\n              this.currentContent = this.markup.content;\n              this.editor.setContent(this.currentContent);\n            } else {\n              this.feedSnack(\n                \"elements darken-1 desertsand--text body-1\",\n                \"Error loading markup!\",\n                2750\n              );\n              this.markup = {};\n              this.markupLoaded = false;\n              // this.markup = {};\n              // this.markupLoaded = false;\n              // this.showMarkup = false;\n            }\n            this.loadingMarkup = false;\n          });\n        } catch (err) {\n          console.log(err);\n          this.loadMarkup = false;\n        }\n\n        // this.$refs.scripteditor.loadMarkup(markupid);\n      }\n    },\n    async submitSave() {\n      // CREATE A NEW markup...\n      this.submittingSave = true;\n      let content = (this.currentContent = this.editor.getJSON());\n      let endpoint = `/api/elements/markupz/${this.markup.id}/`;\n      let payload = {\n        content: content,\n        // notes: \"\",\n        targetlanguage: this.markup.targetlanguage\n      };\n      apiService(endpoint, \"PATCH\", payload).then(data => {\n        if (data) {\n          this.unsavedChanges = false;\n          this.submittingSave = false;\n          this.feedSnack(\n            \"success darken-1 desertsand--text body-1\",\n            \"Edits have been saved!\",\n            2250\n          );\n          return true;\n        } else {\n          this.submittingSave = false;\n          return false;\n        }\n      });\n    },\n    deleteMarkup() {\n      this.submittingDelete = true;\n      let endpoint = `/api/elements/markupz/${this.markup.id}/`;\n      try {\n        apiService(endpoint, \"DELETE\").then(() => {\n          this.feedSnack(\n            \"garbage darken-1 desertsand--text body-1\",\n            \"Markup deleted! :-(\",\n            2750\n          );\n          this.sourceObject.user_markup = 0;\n          // this.$emit(\"updateSource\");\n          // this.$router.go()\n          this.submittingDelete = false;\n          this.confirmDeleteDialog = false;\n          this.markupLoaded = false;\n        });\n      } catch (err) {\n        console.log(err);\n      }\n    },\n    forkMarkup() {\n      this.submittingFork = true;\n      let endpoint = `/api/elements/markup/fork/`;\n      let payload = {\n        sourceid: this.sourceObject.id,\n        forkparent: this.markup.id,\n      };\n      apiService(endpoint, \"POST\", payload).then(data => {\n        if (data) {\n          this.forkOverwriteDialog = false; \n          this.loadMarkup(data.id);\n          this.sourceObject.user_markup = data.id;\n          // this.refetchSourceElement();\n        } else {\n          console.log(\"There was a problem\");\n        }\n        this.forkOverwriteDialog = false; \n        this.submittingFork = false;\n      });\n    },\n    submitLanguage() {\n      console.log(\"submitting\");\n    },\n    feedSnack(scheme, message, timeout) {\n      this.snackColor = scheme;\n      this.snackText = message;\n      this.snackTimeout = timeout;\n      this.snackbar = true;\n    }\n  },\n  beforeDestroy() {\n    this.editor.destroy();\n  },\n  mounted() {\n    this.sourceObject = this.passedSource;\n    // this.refetchSourceElement();\n  },\n  created() {\n    this.getLanguages();\n  }\n};\n</script>\n<style>\n.editor-box > * {\n  border-color: sandstone;\n  color: black;\n  background-color: white;\n  border-style: solid;\n  border-width: 1px;\n  padding: 4px, 4px;\n  width: 100%;\n  height: 300px;\n  overflow-x: hidden;\n  overflow-x: auto;\n  font-size:1.5em;\n  font-family:Arial, Helvetica, sans-serif;\n  line-height: 1.5;\n}\n\n.is-active {\n  border-color: desertsand;\n  background-color: black;\n  border-style: solid;\n  border-width: 2px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MarkupEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MarkupEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MarkupEditor.vue?vue&type=template&id=e19aec18&\"\nimport script from \"./MarkupEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./MarkupEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MarkupEditor.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBadge } from 'vuetify/lib/components/VBadge';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VOverflowBtn } from 'vuetify/lib/components/VOverflowBtn';\nimport { VOverlay } from 'vuetify/lib/components/VOverlay';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBadge,VBtn,VCard,VCardActions,VCardText,VCardTitle,VChip,VCol,VDialog,VDivider,VIcon,VOverflowBtn,VOverlay,VProgressCircular,VRow,VSnackbar,VSpacer,VToolbar})\n","import VAutocomplete from './VAutocomplete';\nexport { VAutocomplete };\nexport default VAutocomplete;\n//# sourceMappingURL=index.js.map","// Styles\nimport \"../../../src/components/VOverflowBtn/VOverflowBtn.sass\"; // Extensions\n\nimport VSelect from '../VSelect/VSelect';\nimport VAutocomplete from '../VAutocomplete';\nimport VTextField from '../VTextField/VTextField'; // Components\n\nimport VBtn from '../VBtn'; // Utilities\n\nimport { consoleWarn } from '../../util/console';\n/* @vue/component */\n\nexport default VAutocomplete.extend({\n  name: 'v-overflow-btn',\n  props: {\n    editable: Boolean,\n    segmented: Boolean\n  },\n  computed: {\n    classes() {\n      return { ...VAutocomplete.options.computed.classes.call(this),\n        'v-overflow-btn': true,\n        'v-overflow-btn--segmented': this.segmented,\n        'v-overflow-btn--editable': this.editable\n      };\n    },\n\n    isAnyValueAllowed() {\n      return this.editable || VAutocomplete.options.computed.isAnyValueAllowed.call(this);\n    },\n\n    isSingle() {\n      return true;\n    },\n\n    computedItems() {\n      return this.segmented ? this.allItems : this.filteredItems;\n    }\n\n  },\n  methods: {\n    genSelections() {\n      return this.editable ? VAutocomplete.options.methods.genSelections.call(this) : VSelect.options.methods.genSelections.call(this); // Override v-autocomplete's override\n    },\n\n    genCommaSelection(item, index, last) {\n      return this.segmented ? this.genSegmentedBtn(item) : VSelect.options.methods.genCommaSelection.call(this, item, index, last);\n    },\n\n    genInput() {\n      const input = VTextField.options.methods.genInput.call(this);\n      input.data = input.data || {};\n      input.data.domProps.value = this.editable ? this.internalSearch : '';\n      input.data.attrs.readonly = !this.isAnyValueAllowed;\n      return input;\n    },\n\n    genLabel() {\n      if (this.editable && this.isFocused) return null;\n      const label = VTextField.options.methods.genLabel.call(this);\n      if (!label) return label;\n      label.data = label.data || {}; // Reset previously set styles from parent\n\n      label.data.style = {};\n      return label;\n    },\n\n    genSegmentedBtn(item) {\n      const itemValue = this.getValue(item);\n      const itemObj = this.computedItems.find(i => this.getValue(i) === itemValue) || item;\n\n      if (!itemObj.text || !itemObj.callback) {\n        consoleWarn('When using \\'segmented\\' prop without a selection slot, items must contain both a text and callback property', this);\n        return null;\n      }\n\n      return this.$createElement(VBtn, {\n        props: {\n          text: true\n        },\n        on: {\n          click(e) {\n            e.stopPropagation();\n            itemObj.callback(e);\n          }\n\n        }\n      }, [itemObj.text]);\n    },\n\n    updateValue(val) {\n      if (val) {\n        this.initialValue = this.lazyValue;\n      } else if (this.initialValue !== this.lazyValue) {\n        this.$emit('change', this.lazyValue);\n      }\n    }\n\n  }\n});\n//# sourceMappingURL=VOverflowBtn.js.map","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MarkupEditor.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MarkupEditor.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}